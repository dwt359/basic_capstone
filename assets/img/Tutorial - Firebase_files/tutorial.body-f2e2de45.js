/** @license
//     Underscore.js 1.5.1
//     http://underscorejs.org
//     (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
*/
!function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,v=e.reduce,h=e.reduceRight,d=e.filter,g=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,_=Object.keys,w=i.bind,j=function(n){return n instanceof j?n:this instanceof j?void(this._wrapped=n):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):n._=j,j.VERSION="1.5.1";var A=j.each=j.forEach=function(n,t,e){if(null!=n)if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var u=0,i=n.length;i>u;u++)if(t.call(e,n[u],u,n)===r)return}else for(var a in n)if(j.has(n,a)&&t.call(e,n[a],a,n)===r)return};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var E="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduce===v)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(E);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduceRight===h)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(E);return r},j.find=j.detect=function(n,t,r){var e;return O(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:d&&n.filter===d?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:g&&n.every===g?n.every(t,e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var O=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?-1!=n.indexOf(t):O(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,t){return j.map(n,function(n){return n[t]})},j.where=function(n,t,r){return j.isEmpty(t)?r?void 0:[]:j[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},j.findWhere=function(n,t){return j.where(n,t,!0)},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&j.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})}),e.value},j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&j.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e};var F=function(n){return j.isFunction(n)?n:function(t){return t[n]}};j.sortBy=function(n,t,r){var e=F(t);return j.pluck(j.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index<t.index?-1:1}),"value")};var k=function(n,t,r,e){var u={},i=F(null==t?j.identity:t);return A(n,function(t,a){var o=i.call(r,t,a,n);e(u,o,t)}),u};j.groupBy=function(n,t,r){return k(n,t,r,function(n,t,r){(j.has(n,t)?n[t]:n[t]=[]).push(r)})},j.countBy=function(n,t,r){return k(n,t,r,function(n,t){j.has(n,t)||(n[t]=0),n[t]++})},j.sortedIndex=function(n,t,r,e){r=null==r?j.identity:F(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var R=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):R(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return R(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.indexOf(t,n)>=0})})},j.difference=function(n){var t=c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var M=function(){};j.bind=function(n,t){var r,e;if(w&&n.bind===w)return w.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));M.prototype=n.prototype;var u=new M;M.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:new Date,a=null,i=n.apply(e,u)};return function(){var l=new Date;o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u)):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u=null;return function(){var i=this,a=arguments,o=function(){u=null,r||(e=n.apply(i,a))},c=r&&!u;return clearTimeout(u),u=setTimeout(o,t),c&&(e=n.apply(i,a)),e}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return function(){var r=[n];return a.apply(r,arguments),t.apply(this,r)}},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=_||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){var t=[];for(var r in n)j.has(n,r)&&t.push(n[r]);return t},j.pairs=function(n){var t=[];for(var r in n)j.has(n,r)&&t.push([r,n[r]]);return t},j.invert=function(n){var t={};for(var r in n)j.has(n,r)&&(t[n[r]]=r);return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o))return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return void 0===n},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};I.unescape=j.invert(I.escape);var T={escape:new RegExp("["+j.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(I.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(T[n],function(t){return I[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this);;
/** @@license Backbone.js 0.9.10

// (c) 2010-2012 Jeremy Ashkenas, DocumentCloud Inc.
// Backbone may be freely distributed under the MIT license.
// For all details and documentation:
// http://backbonejs.org
*/
(function(){var t,e=this,i=e.Backbone,s=[],n=s.push,r=s.slice,a=s.splice;t="undefined"!=typeof exports?exports:e.Backbone={},t.VERSION="0.9.10";var h=e._;!h&&"undefined"!=typeof require&&(h=require("underscore")),t.$=e.jQuery||e.Zepto||e.ender,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var o=/\s+/,u=function(t,e,i,s){if(!i)return!0;if("object"==typeof i)for(var n in i)t[e].apply(t,[n,i[n]].concat(s));else{if(!o.test(i))return!0;i=i.split(o),n=0;for(var r=i.length;r>n;n++)t[e].apply(t,[i[n]].concat(s))}},c=function(t,e){var i,s=-1,n=t.length;switch(e.length){case 0:for(;++s<n;)(i=t[s]).callback.call(i.ctx);break;case 1:for(;++s<n;)(i=t[s]).callback.call(i.ctx,e[0]);break;case 2:for(;++s<n;)(i=t[s]).callback.call(i.ctx,e[0],e[1]);break;case 3:for(;++s<n;)(i=t[s]).callback.call(i.ctx,e[0],e[1],e[2]);break;default:for(;++s<n;)(i=t[s]).callback.apply(i.ctx,e)}},s=t.Events={on:function(t,e,i){return u(this,"on",t,[e,i])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:i,ctx:i||this}),this):this},once:function(t,e,i){if(!u(this,"once",t,[e,i])||!e)return this;var s=this,n=h.once(function(){s.off(t,n),e.apply(this,arguments)});return n._callback=e,this.on(t,n,i),this},off:function(t,e,i){var s,n,r,a,o,c,l,d;if(!this._events||!u(this,"off",t,[e,i]))return this;if(!t&&!e&&!i)return this._events={},this;for(a=t?[t]:h.keys(this._events),o=0,c=a.length;c>o;o++)if(t=a[o],s=this._events[t]){if(r=[],e||i)for(l=0,d=s.length;d>l;l++)n=s[l],(e&&e!==n.callback&&e!==n.callback._callback||i&&i!==n.context)&&r.push(n);this._events[t]=r}return this},trigger:function(t){if(!this._events)return this;var e=r.call(arguments,1);if(!u(this,"trigger",t,e))return this;var i=this._events[t],s=this._events.all;return i&&c(i,e),s&&c(s,arguments),this},listenTo:function(t,e,i){var s=this._listeners||(this._listeners={}),n=t._listenerId||(t._listenerId=h.uniqueId("l"));return s[n]=t,t.on(e,"object"==typeof e?this:i,this),this},stopListening:function(t,e,i){var s=this._listeners;if(s){if(t)t.off(e,"object"==typeof e?this:i,this),!e&&!i&&delete s[t._listenerId];else{"object"==typeof e&&(i=this);for(var n in s)s[n].off(e,i,this);this._listeners={}}return this}}};s.bind=s.on,s.unbind=s.off,h.extend(t,s);var l=t.Model=function(t,e){var i,s=t||{};this.cid=h.uniqueId("c"),this.attributes={},e&&e.collection&&(this.collection=e.collection),e&&e.parse&&(s=this.parse(s,e)||{}),(i=h.result(this,"defaults"))&&(s=h.defaults({},s,i)),this.set(s,e),this.changed={},this.initialize.apply(this,arguments)};h.extend(l.prototype,s,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(){return h.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return h.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,i){var s,n,r,a,o,u,c;if(null==t)return this;if("object"==typeof t?(n=t,i=e):(n={})[t]=e,i||(i={}),!this._validate(n,i))return!1;r=i.unset,a=i.silent,t=[],o=this._changing,this._changing=!0,o||(this._previousAttributes=h.clone(this.attributes),this.changed={}),c=this.attributes,u=this._previousAttributes,this.idAttribute in n&&(this.id=n[this.idAttribute]);for(s in n)e=n[s],h.isEqual(c[s],e)||t.push(s),h.isEqual(u[s],e)?delete this.changed[s]:this.changed[s]=e,r?delete c[s]:c[s]=e;if(!a)for(t.length&&(this._pending=!0),e=0,s=t.length;s>e;e++)this.trigger("change:"+t[e],this,c[t[e]],i);if(o)return this;if(!a)for(;this._pending;)this._pending=!1,this.trigger("change",this,i);return this._changing=this._pending=!1,this},unset:function(t,e){return this.set(t,void 0,h.extend({},e,{unset:!0}))},clear:function(t){var e,i={};for(e in this.attributes)i[e]=void 0;return this.set(i,h.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!h.isEmpty(this.changed):h.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?h.clone(this.changed):!1;var e,i,s=!1,n=this._changing?this._previousAttributes:this.attributes;for(i in t)h.isEqual(n[i],e=t[i])||((s||(s={}))[i]=e);return s},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return h.clone(this._previousAttributes)},fetch:function(t){t=t?h.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success;return t.success=function(t,i,s){return t.set(t.parse(i,s),s)?void(e&&e(t,i,s)):!1},this.sync("read",this,t)},save:function(t,e,i){var s,n,r=this.attributes;return null==t||"object"==typeof t?(s=t,i=e):(s={})[t]=e,!s||i&&i.wait||this.set(s,i)?(i=h.extend({validate:!0},i),this._validate(s,i)?(s&&i.wait&&(this.attributes=h.extend({},r,s)),void 0===i.parse&&(i.parse=!0),n=i.success,i.success=function(t,e,i){t.attributes=r;var a=t.parse(e,i);return i.wait&&(a=h.extend(s||{},a)),h.isObject(a)&&!t.set(a,i)?!1:void(n&&n(t,e,i))},t=this.isNew()?"create":i.patch?"patch":"update","patch"===t&&(i.attrs=s),t=this.sync(t,this,i),s&&i.wait&&(this.attributes=r),t):!1):!1},destroy:function(t){t=t?h.clone(t):{};var e=this,i=t.success,s=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(t,e,n){(n.wait||t.isNew())&&s(),i&&i(t,e,n)},this.isNew())return t.success(this,null,t),!1;var n=this.sync("delete",this,t);return t.wait||s(),n},url:function(){var t=h.result(this,"urlRoot")||h.result(this.collection,"url")||A();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return!this.validate||!this.validate(this.attributes,t)},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=h.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return i?(this.trigger("invalid",this,i,e||{}),!1):!0}});var d=t.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this.models=[],this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,h.extend({silent:!0},e))};h.extend(d.prototype,s,{model:l,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return t.sync.apply(this,arguments)},add:function(t,e){t=h.isArray(t)?t.slice():[t],e||(e={});var i,s,r,o,u,c,l,d,f,p;for(l=[],d=e.at,f=this.comparator&&null==d&&0!=e.sort,p=h.isString(this.comparator)?this.comparator:null,i=0,s=t.length;s>i;i++)(r=this._prepareModel(o=t[i],e))?(u=this.get(r))?e.merge&&(u.set(o===r?r.attributes:o,e),f&&!c&&u.hasChanged(p)&&(c=!0)):(l.push(r),r.on("all",this._onModelEvent,this),this._byId[r.cid]=r,null!=r.id&&(this._byId[r.id]=r)):this.trigger("invalid",this,o,e);if(l.length&&(f&&(c=!0),this.length+=l.length,null!=d?a.apply(this.models,[d,0].concat(l)):n.apply(this.models,l)),c&&this.sort({silent:!0}),e.silent)return this;for(i=0,s=l.length;s>i;i++)(r=l[i]).trigger("add",r,this,e);return c&&this.trigger("sort",this,e),this},remove:function(t,e){t=h.isArray(t)?t.slice():[t],e||(e={});var i,s,n,r;for(i=0,s=t.length;s>i;i++)(r=this.get(t[i]))&&(delete this._byId[r.id],delete this._byId[r.cid],n=this.indexOf(r),this.models.splice(n,1),this.length--,e.silent||(e.index=n,r.trigger("remove",r,this,e)),this._removeReference(r));return this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,h.extend({at:this.length},e)),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,h.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){return null!=t?(this._idAttr||(this._idAttr=this.model.prototype.idAttribute),this._byId[t.id||t.cid||t[this._idAttr]||t]):void 0},at:function(t){return this.models[t]},where:function(t){return h.isEmpty(t)?[]:this.filter(function(e){for(var i in t)if(t[i]!==e.get(i))return!1;return!0})},sort:function(t){if(!this.comparator)throw Error("Cannot sort a set without a comparator");return t||(t={}),h.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(h.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return h.invoke(this.models,"get",t)},update:function(t,e){e=h.extend({add:!0,merge:!0,remove:!0},e),e.parse&&(t=this.parse(t,e));var i,s,n,r,a=[],o=[],u={};if(h.isArray(t)||(t=t?[t]:[]),e.add&&!e.remove)return this.add(t,e);for(s=0,n=t.length;n>s;s++)i=t[s],r=this.get(i),e.remove&&r&&(u[r.cid]=!0),(e.add&&!r||e.merge&&r)&&a.push(i);if(e.remove)for(s=0,n=this.models.length;n>s;s++)i=this.models[s],u[i.cid]||o.push(i);return o.length&&this.remove(o,e),a.length&&this.add(a,e),this},reset:function(t,e){e||(e={}),e.parse&&(t=this.parse(t,e));for(var i=0,s=this.models.length;s>i;i++)this._removeReference(this.models[i]);return e.previousModels=this.models.slice(),this._reset(),t&&this.add(t,h.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},fetch:function(t){t=t?h.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success;return t.success=function(t,i,s){t[s.update?"update":"reset"](i,s),e&&e(t,i,s)},this.sync("read",this,t)},create:function(t,e){if(e=e?h.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var i=this,s=e.success;return e.success=function(t,e,n){n.wait&&i.add(t,n),s&&s(t,e,n)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models.length=0,this._byId={}},_prepareModel:function(t,e){if(t instanceof l)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var i=new this.model(t,e);return i._validate(t,e)?i:!1},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,s){("add"===t||"remove"===t)&&i!==this||("destroy"===t&&this.remove(e,s),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))},sortedIndex:function(t,e,i){e||(e=this.comparator);var s=h.isFunction(e)?e:function(t){return t.get(e)};return h.sortedIndex(this.models,t,s,i)}}),h.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(t){d.prototype[t]=function(){var e=r.call(arguments);return e.unshift(this.models),h[t].apply(h,e)}}),h.each(["groupBy","countBy","sortBy"],function(t){d.prototype[t]=function(e,i){var s=h.isFunction(e)?e:function(t){return t.get(e)};return h[t](this.models,s,i)}});var f=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},p=/\((.*?)\)/g,g=/(\(\?)?:\w+/g,v=/\*\w+/g,m=/[\-{}\[\]+?.,\\\^$|#\s]/g;h.extend(f.prototype,s,{initialize:function(){},route:function(e,i,s){return h.isRegExp(e)||(e=this._routeToRegExp(e)),s||(s=this[i]),t.history.route(e,h.bind(function(n){n=this._extractParameters(e,n),s&&s.apply(this,n),this.trigger.apply(this,["route:"+i].concat(n)),this.trigger("route",i,n),t.history.trigger("route",this,i,n)},this)),this},navigate:function(e,i){return t.history.navigate(e,i),this},_bindRoutes:function(){if(this.routes)for(var t,e=h.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])},_routeToRegExp:function(t){return t=t.replace(m,"\\$&").replace(p,"(?:$1)?").replace(g,function(t,e){return e?t:"([^/]+)"}).replace(v,"(.*?)"),RegExp("^"+t+"$")},_extractParameters:function(t,e){return t.exec(e).slice(1)}});var y=t.History=function(){this.handlers=[],h.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},_=/^[#\/]|\s+$/g,b=/^\/+|\/+$/g,x=/msie [\w.]+/,w=/\/$/;y.started=!1,h.extend(y.prototype,s,{interval:50,getHash:function(t){return(t=(t||this).location.href.match(/#(.*)$/))?t[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var i=this.root.replace(w,"");t.indexOf(i)||(t=t.substr(i.length))}else t=this.getHash();return t.replace(_,"")},start:function(e){if(y.started)throw Error("Backbone.history has already been started");y.started=!0,this.options=h.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.options.pushState||!this.history||!this.history.pushState),e=this.getFragment();var i=document.documentMode,i=x.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);return this.root=("/"+this.root+"/").replace(b,"/"),i&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(e)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=e,e=this.location,i=e.pathname.replace(/[^\/]$/,"$&/")===this.root,this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!i?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&i&&e.hash&&(this.fragment=this.getHash().replace(_,""),this.history.replaceState({},document.title,this.root+this.fragment+e.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),y.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(t){var e=this.fragment=this.getFragment(t);return h.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(t,e){if(!y.started)return!1;if(e&&!0!==e||(e={trigger:e}),t=this.getFragment(t||""),this.fragment!==t){this.fragment=t;var i=this.root+t;if(this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}e.trigger&&this.loadUrl(t)}},_updateHash:function(t,e,i){i?(i=t.href.replace(/(javascript:|#).*$/,""),t.replace(i+"#"+e)):t.hash="#"+e}}),t.history=new y;var E=t.View=function(t){this.cid=h.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},k=/^(\S+)\s*(.*)$/,S="model collection el id attributes className tagName events".split(" ");h.extend(E.prototype,s,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,i){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],!1!==i&&this.delegateEvents(),this},delegateEvents:function(t){if(t||(t=h.result(this,"events"))){this.undelegateEvents();for(var e in t){var i=t[e];if(h.isFunction(i)||(i=this[t[e]]),!i)throw Error('Method "'+t[e]+'" does not exist');var s=e.match(k),n=s[1],s=s[2],i=h.bind(i,this),n=n+(".delegateEvents"+this.cid);""===s?this.$el.on(n,i):this.$el.on(n,s,i)}}},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid)},_configure:function(t){this.options&&(t=h.extend({},h.result(this,"options"),t)),h.extend(this,h.pick(t,S)),this.options=t},_ensureElement:function(){if(this.el)this.setElement(h.result(this,"el"),!1);else{var e=h.extend({},h.result(this,"attributes"));this.id&&(e.id=h.result(this,"id")),this.className&&(e["class"]=h.result(this,"className")),e=t.$("<"+h.result(this,"tagName")+">").attr(e),this.setElement(e,!1)}}});var $={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.sync=function(e,i,s){var n=$[e];h.defaults(s||(s={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var r={type:n,dataType:"json"};if(s.url||(r.url=h.result(i,"url")||A()),null!=s.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(r.contentType="application/json",r.data=JSON.stringify(s.attrs||i.toJSON(s))),s.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),s.emulateHTTP&&("PUT"===n||"DELETE"===n||"PATCH"===n)){r.type="POST",s.emulateJSON&&(r.data._method=n);var a=s.beforeSend;s.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",n),a?a.apply(this,arguments):void 0}}"GET"!==r.type&&!s.emulateJSON&&(r.processData=!1);var o=s.success;s.success=function(t){o&&o(i,t,s),i.trigger("sync",i,t,s)};var u=s.error;return s.error=function(t){u&&u(i,t,s),i.trigger("error",i,t,s)},e=s.xhr=t.ajax(h.extend(r,s)),i.trigger("request",i,e,s),e},t.ajax=function(){return t.$.ajax.apply(t.$,arguments)},l.extend=d.extend=f.extend=E.extend=y.extend=function(t,e){var i,s=this;i=t&&h.has(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},h.extend(i,s,e);var n=function(){this.constructor=i};return n.prototype=s.prototype,i.prototype=new n,t&&h.extend(i.prototype,t),i.__super__=s.prototype,i};var A=function(){throw Error('A "url" property or function must be specified')}}).call(this);;
/** @license

   Copyright 2011 Mike Samuel et al

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.

*/
!function(){var e=null;window.PR_SHOULD_USE_CONTINUATION=!0,function(){function t(e){function t(e){var t=e.charCodeAt(0);if(92!==t)return t;var n=e.charAt(1);return(t=d[n])?t:n>="0"&&"7">=n?parseInt(e.substring(1),8):"u"===n||"x"===n?parseInt(e.substring(2),16):e.charCodeAt(1)}function n(e){return 32>e?(16>e?"\\x0":"\\x")+e.toString(16):(e=String.fromCharCode(e),"\\"===e||"-"===e||"]"===e||"^"===e?"\\"+e:e)}function r(e){var r=e.substring(1,e.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),e=[],s="^"===r[0],a=["["];s&&a.push("^");for(var s=s?1:0,i=r.length;i>s;++s){var l=r[s];if(/\\[bdsw]/i.test(l))a.push(l);else{var o,l=t(l);i>s+2&&"-"===r[s+1]?(o=t(r[s+2]),s+=2):o=l,e.push([l,o]),65>o||l>122||(65>o||l>90||e.push([32|Math.max(65,l),32|Math.min(o,90)]),97>o||l>122||e.push([-33&Math.max(97,l),-33&Math.min(o,122)]))}}for(e.sort(function(e,t){return e[0]-t[0]||t[1]-e[1]}),r=[],i=[],s=0;s<e.length;++s)l=e[s],l[0]<=i[1]+1?i[1]=Math.max(i[1],l[1]):r.push(i=l);for(s=0;s<r.length;++s)l=r[s],a.push(n(l[0])),l[1]>l[0]&&(l[1]+1>l[0]&&a.push("-"),a.push(n(l[1])));return a.push("]"),a.join("")}function s(e){for(var t=e.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),s=t.length,l=[],o=0,c=0;s>o;++o){var u=t[o];"("===u?++c:"\\"===u.charAt(0)&&(u=+u.substring(1))&&(c>=u?l[u]=-1:t[o]=n(u))}for(o=1;o<l.length;++o)-1===l[o]&&(l[o]=++a);for(c=o=0;s>o;++o)u=t[o],"("===u?(++c,l[c]||(t[o]="(?:")):"\\"===u.charAt(0)&&(u=+u.substring(1))&&c>=u&&(t[o]="\\"+l[u]);for(o=0;s>o;++o)"^"===t[o]&&"^"!==t[o+1]&&(t[o]="");if(e.ignoreCase&&i)for(o=0;s>o;++o)u=t[o],e=u.charAt(0),u.length>=2&&"["===e?t[o]=r(u):"\\"!==e&&(t[o]=u.replace(/[A-Za-z]/g,function(e){return e=e.charCodeAt(0),"["+String.fromCharCode(-33&e,32|e)+"]"}));return t.join("")}for(var a=0,i=!1,l=!1,o=0,c=e.length;c>o;++o){var u=e[o];if(u.ignoreCase)l=!0;else if(/[a-z]/i.test(u.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){i=!0,l=!1;break}}for(var d={b:8,t:9,n:10,v:11,f:12,r:13},p=[],o=0,c=e.length;c>o;++o){if(u=e[o],u.global||u.multiline)throw Error(""+u);p.push("(?:"+s(u)+")")}return RegExp(p.join("|"),l?"gi":"g")}function n(e,t){function n(e){var o=e.nodeType;if(1==o){if(!r.test(e.className)){for(o=e.firstChild;o;o=o.nextSibling)n(o);o=e.nodeName.toLowerCase(),("br"===o||"li"===o)&&(s[l]="\n",i[l<<1]=a++,i[l++<<1|1]=e)}}else(3==o||4==o)&&(o=e.nodeValue,o.length&&(o=t?o.replace(/\r\n?/g,"\n"):o.replace(/[\t\n\r ]+/g," "),s[l]=o,i[l<<1]=a,a+=o.length,i[l++<<1|1]=e))}var r=/(?:^|\s)nocode(?:\s|$)/,s=[],a=0,i=[],l=0;return n(e),{a:s.join("").replace(/\n$/,""),d:i}}function r(e,t,n,r){t&&(e={a:t,e:e},n(e),r.push.apply(r,e.g))}function s(n,s){function a(e){for(var t=e.e,n=[t,"pln"],u=0,d=e.a.match(i)||[],p={},f=0,h=d.length;h>f;++f){var g,m=d[f],y=p[m],v=void 0;if("string"==typeof y)g=!1;else{var b=l[m.charAt(0)];if(b)v=m.match(b[1]),y=b[0];else{for(g=0;c>g;++g)if(b=s[g],v=m.match(b[1])){y=b[0];break}v||(y="pln")}!(g=y.length>=5&&"lang-"===y.substring(0,5))||v&&"string"==typeof v[1]||(g=!1,y="src"),g||(p[m]=y)}if(b=u,u+=m.length,g){g=v[1];var w=m.indexOf(g),S=w+g.length;v[2]&&(S=m.length-v[2].length,w=S-g.length),y=y.substring(5),r(t+b,m.substring(0,w),a,n),r(t+b+w,g,o(y,g),n),r(t+b+S,m.substring(S),a,n)}else n.push(t+b,y)}e.g=n}var i,l={};!function(){for(var r=n.concat(s),a=[],o={},c=0,u=r.length;u>c;++c){var d=r[c],p=d[3];if(p)for(var f=p.length;--f>=0;)l[p.charAt(f)]=d;d=d[1],p=""+d,o.hasOwnProperty(p)||(a.push(d),o[p]=e)}a.push(/[\S\s]/),i=t(a)}();var c=s.length;return a}function a(t){var n=[],r=[];n.push(t.tripleQuotedStrings?["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,e,"'\""]:t.multiLineStrings?["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,e,"'\"`"]:["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,e,"\"'"]),t.verbatimStrings&&r.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,e]);var a=t.hashComments;return a&&(t.cStyleComments?(n.push(a>1?["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,e,"#"]:["com",/^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\b|[^\n\r]*)/,e,"#"]),r.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h(?:h|pp|\+\+)?|[a-z]\w*)>/,e])):n.push(["com",/^#[^\n\r]*/,e,"#"])),t.cStyleComments&&(r.push(["com",/^\/\/[^\n\r]*/,e]),r.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,e])),t.regexLiterals&&r.push(["lang-regex",/^(?:^^\.?|[+-]|[!=]={0,2}|#|%=?|&&?=?|\(|\*=?|[+-]=|->|\/=?|::?|<<?=?|>{1,3}=?|[,;?@[{~]|\^\^?=?|\|\|?=?|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\s*(\/(?=[^*/])(?:[^/[\\]|\\[\S\s]|\[(?:[^\\\]]|\\[\S\s])*(?:]|$))+\/)/]),(a=t.types)&&r.push(["typ",a]),t=(""+t.keywords).replace(/^ | $/g,""),t.length&&r.push(["kwd",RegExp("^(?:"+t.replace(/[\s,]+/g,"|")+")\\b"),e]),n.push(["pln",/^\s+/,e," \r\n	 "]),r.push(["lit",/^@[$_a-z][\w$@]*/i,e],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,e],["pln",/^[$_a-z][\w$@]*/i,e],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,e,"0123456789"],["pln",/^\\[\S\s]?/,e],["pun",/^.[^\s\w"$'./@\\`]*/,e]),s(n,r)}function i(e,t,n){function r(e){var t=e.nodeType;if(1!=t||a.test(e.className)){if((3==t||4==t)&&n){var o=e.nodeValue,c=o.match(i);c&&(t=o.substring(0,c.index),e.nodeValue=t,(o=o.substring(c.index+c[0].length))&&e.parentNode.insertBefore(l.createTextNode(o),e.nextSibling),s(e),t||e.parentNode.removeChild(e))}}else if("br"===e.nodeName)s(e),e.parentNode&&e.parentNode.removeChild(e);else for(e=e.firstChild;e;e=e.nextSibling)r(e)}function s(e){function t(e,n){var r=n?e.cloneNode(!1):e,s=e.parentNode;if(s){var s=t(s,1),a=e.nextSibling;s.appendChild(r);for(var i=a;i;i=a)a=i.nextSibling,s.appendChild(i)}return r}for(;!e.nextSibling;)if(e=e.parentNode,!e)return;for(var n,e=t(e.nextSibling,0);(n=e.parentNode)&&1===n.nodeType;)e=n;c.push(e)}for(var a=/(?:^|\s)nocode(?:\s|$)/,i=/\r\n?|\n/,l=e.ownerDocument,o=l.createElement("li");e.firstChild;)o.appendChild(e.firstChild);for(var c=[o],u=0;u<c.length;++u)r(c[u]);t===(0|t)&&c[0].setAttribute("value",t);var d=l.createElement("ol");d.className="linenums";for(var t=Math.max(0,t-1|0)||0,u=0,p=c.length;p>u;++u)o=c[u],o.className="L"+(u+t)%10,o.firstChild||o.appendChild(l.createTextNode(" ")),d.appendChild(o);e.appendChild(d)}function l(e,t){for(var n=t.length;--n>=0;){var r=t[n];x.hasOwnProperty(r)?u.console&&console.warn("cannot override language handler %s",r):x[r]=e}}function o(e,t){return e&&x.hasOwnProperty(e)||(e=/^\s*</.test(t)?"default-markup":"default-code"),x[e]}function c(e){var t=e.h;try{var r=n(e.c,e.i),s=r.a;e.a=s,e.d=r.d,e.e=0,o(t,s)(e);var a=/\bMSIE\s(\d+)/.exec(navigator.userAgent),a=a&&+a[1]<=8,t=/\n/g,i=e.a,l=i.length,r=0,c=e.d,d=c.length,s=0,p=e.g,f=p.length,h=0;p[f]=l;var g,m;for(m=g=0;f>m;)p[m]!==p[m+2]?(p[g++]=p[m++],p[g++]=p[m++]):m+=2;for(f=g,m=g=0;f>m;){for(var y=p[m],v=p[m+1],b=m+2;f>=b+2&&p[b+1]===v;)b+=2;p[g++]=y,p[g++]=v,m=b}p.length=g;var w,S=e.c;S&&(w=S.style.display,S.style.display="none");try{for(;d>s;){var x,N=c[s+2]||l,C=p[h+2]||l,b=Math.min(N,C),_=c[s+1];if(1!==_.nodeType&&(x=i.substring(r,b))){a&&(x=x.replace(t,"\r")),_.nodeValue=x;var k=_.ownerDocument,T=k.createElement("span");T.className=p[h+1];var $=_.parentNode;$.replaceChild(T,_),T.appendChild(_),N>r&&(c[s+1]=_=k.createTextNode(i.substring(b,N)),$.insertBefore(_,T.nextSibling))}r=b,r>=N&&(s+=2),r>=C&&(h+=2)}}finally{S&&(S.style.display=w)}}catch(A){u.console&&console.log(A&&A.stack?A.stack:A)}}var u=window,d=["break,continue,do,else,for,if,return,while"],p=[[d,"auto,case,char,const,default,double,enum,extern,float,goto,inline,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],f=[p,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,delegate,dynamic_cast,explicit,export,friend,generic,late_check,mutable,namespace,nullptr,property,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],h=[p,"abstract,assert,boolean,byte,extends,final,finally,implements,import,instanceof,interface,null,native,package,strictfp,super,synchronized,throws,transient"],g=[h,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,internal,into,is,let,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var,virtual,where"],p=[p,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],m=[d,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],y=[d,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],v=[d,"as,assert,const,copy,drop,enum,extern,fail,false,fn,impl,let,log,loop,match,mod,move,mut,priv,pub,pure,ref,self,static,struct,true,trait,type,unsafe,use"],d=[d,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],b=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)\b/,w=/\S/,S=a({keywords:[f,g,p,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",m,y,d],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),x={};l(S,["default-code"]),l(s([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),l(s([["pln",/^\s+/,e," 	\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,e,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'/>]|\/(?=\s)))/],["pun",/^[/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]),l(s([],[["atv",/^[\S\s]+/]]),["uq.val"]),l(a({keywords:f,hashComments:!0,cStyleComments:!0,types:b}),["c","cc","cpp","cxx","cyc","m"]),l(a({keywords:"null,true,false"}),["json"]),l(a({keywords:g,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:b}),["cs"]),l(a({keywords:h,cStyleComments:!0}),["java"]),l(a({keywords:d,hashComments:!0,multiLineStrings:!0}),["bash","bsh","csh","sh"]),l(a({keywords:m,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py","python"]),l(a({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["perl","pl","pm"]),l(a({keywords:y,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb","ruby"]),l(a({keywords:p,cStyleComments:!0,regexLiterals:!0}),["javascript","js"]),l(a({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,throw,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),l(a({keywords:v,cStyleComments:!0,multilineStrings:!0}),["rc","rs","rust"]),l(s([],[["str",/^[\S\s]+/]]),["regex"]);var N=u.PR={createSimpleLexer:s,registerLangHandler:l,sourceDecorator:a,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ",prettyPrintOne:u.prettyPrintOne=function(e,t,n){var r=document.createElement("div");return r.innerHTML="<pre>"+e+"</pre>",r=r.firstChild,n&&i(r,n,!0),c({h:t,j:n,c:r,i:1}),r.innerHTML},prettyPrint:u.prettyPrint=function(t,n){function r(){for(var n,s=u.PR_SHOULD_USE_CONTINUATION?f.now()+250:1/0;g<l.length&&f.now()<s;g++){var o=l[g],d=o.className;if(y.test(d)&&!v.test(d)){for(var p=!1,N=o.parentNode;N;N=N.parentNode)if(x.test(N.tagName)&&N.className&&y.test(N.className)){p=!0;break}if(!p){o.className+=" prettyprinted";var C,d=d.match(m);if(p=!d){for(var p=o,N=void 0,_=p.firstChild;_;_=_.nextSibling)var k=_.nodeType,N=1===k?N?p:_:3===k&&w.test(_.nodeValue)?p:N;p=(C=N===p?void 0:N)&&S.test(C.tagName)}p&&(d=C.className.match(m)),d&&(d=d[1]),b.test(o.tagName)?p=1:(p=o.currentStyle,N=a.defaultView,n=(p=p?p.whiteSpace:N&&N.getComputedStyle?N.getComputedStyle(o,e).getPropertyValue("white-space"):0)&&"pre"===p.substring(0,3),p=n),(N=(N=o.className.match(/\blinenums\b(?::(\d+))?/))?N[1]&&N[1].length?+N[1]:!0:!1)&&i(o,N,p),h={h:d,c:o,j:N,i:p},c(h)}}}g<l.length?setTimeout(r,250):"function"==typeof t&&t()}for(var s=n||document.body,a=s.ownerDocument||document,s=[s.getElementsByTagName("pre"),s.getElementsByTagName("code"),s.getElementsByTagName("xmp")],l=[],o=0;o<s.length;++o)for(var d=0,p=s[o].length;p>d;++d)l.push(s[o][d]);var s=e,f=Date;f.now||(f={now:function(){return+new Date}});var h,g=0,m=/\blang(?:uage)?-([\w.]+)(?!\S)/,y=/\bprettyprint\b/,v=/\bprettyprinted\b/,b=/pre|xmp/i,S=/^code$/i,x=/^(?:pre|code|xmp)$/i;r()}};"function"==typeof define&&define.amd&&define("google-code-prettify",[],function(){return N})}()}();;
/*! @license
 * Copyright (C) 2011 by Vitaly Puzrin
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
!function(){"use strict";"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(t){var e,n=[];if(t&&"object"==typeof t)for(e in t)t.hasOwnProperty(e)&&n.push(e);return n})}();var jsyaml=window.jsyaml=function(){var t=function(e,n){var r=t.resolve(e,n||"/"),i=t.modules[r];if(!i)throw new Error("Failed to resolve module "+e+", tried "+r);var s=t.cache[r],o=s?s.exports:i();return o};return t.paths=[],t.modules={},t.cache={},t.extensions=[".js",".coffee"],t._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},t.resolve=function(){return function(e,n){function r(e){if(e=a.normalize(e),t.modules[e])return e;for(var n=0;n<t.extensions.length;n++){var r=t.extensions[n];if(t.modules[e+r])return e+r}}function i(e){e=e.replace(/\/+$/,"");var n=a.normalize(e+"/package.json");if(t.modules[n]){var i=t.modules[n](),s=i.browserify;if("object"==typeof s&&s.main){var o=r(a.resolve(e,s.main));if(o)return o}else if("string"==typeof s){var o=r(a.resolve(e,s));if(o)return o}else if(i.main){var o=r(a.resolve(e,i.main));if(o)return o}}return r(e+"/index")}function s(t,e){for(var n=o(e),s=0;s<n.length;s++){var a=n[s],c=r(a+"/"+t);if(c)return c;var h=i(a+"/"+t);if(h)return h}var c=r(t);return c?c:void 0}function o(t){var e;e="/"===t?[""]:a.normalize(t).split("/");for(var n=[],r=e.length-1;r>=0;r--)if("node_modules"!==e[r]){var i=e.slice(0,r+1).join("/")+"/node_modules";n.push(i)}return n}if(n||(n="/"),t._core[e])return e;var a=t.modules.path();n=a.resolve("/",n);var c=n||"/";if(e.match(/^(?:\.\.?\/|\/)/)){var h=r(a.resolve(c,e))||i(a.resolve(c,e));if(h)return h}var l=s(e,c);if(l)return l;throw new Error("Cannot find module '"+e+"'")}}(),t.alias=function(e,n){var r=t.modules.path(),i=null;try{i=t.resolve(e+"/package.json","/")}catch(s){i=t.resolve(e,"/")}for(var o=r.dirname(i),a=(Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e})(t.modules),c=0;c<a.length;c++){var h=a[c];if(h.slice(0,o.length+1)===o+"/"){var l=h.slice(o.length);t.modules[n+l]=t.modules[o+l]}else h===o&&(t.modules[n]=t.modules[o])}},function(){var e={};t.define=function(n,r){t.modules.__browserify_process&&(e=t.modules.__browserify_process());var i=t._core[n]?"":t.modules.path().dirname(n),s=function(e){var n=t(e,i),r=t.cache[t.resolve(e,i)];return null===r.parent&&(r.parent=o),n};s.resolve=function(e){return t.resolve(e,i)},s.modules=t.modules,s.define=t.define,s.cache=t.cache;var o={id:n,filename:n,exports:{},loaded:!1,parent:null};t.modules[n]=function(){return t.cache[n]=o,r.call(o.exports,s,o,o.exports,i,n,e),o.loaded=!0,o.exports}}}(),t.define("path",function(t,e,n,r,i,s){function o(t,e){for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}function a(t,e){for(var n=0,r=t.length;r>=0;r--){var i=t[r];"."==i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var c=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;n.resolve=function(){for(var t="",e=!1,n=arguments.length;n>=-1&&!e;n--){var r=n>=0?arguments[n]:s.cwd();"string"==typeof r&&r&&(t=r+"/"+t,e="/"===r.charAt(0))}return t=a(o(t.split("/"),function(t){return!!t}),!e).join("/"),(e?"/":"")+t||"."},n.normalize=function(t){var e="/"===t.charAt(0),n="/"===t.slice(-1);return t=a(o(t.split("/"),function(t){return!!t}),!e).join("/"),!t&&!e&&(t="."),t&&n&&(t+="/"),(e?"/":"")+t},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(o(t,function(t,e){return t&&"string"==typeof t}).join("/"))},n.dirname=function(t){var e=c.exec(t)[1]||"",n=!1;return e?1===e.length||n&&e.length<=3&&":"===e.charAt(1)?e:e.substring(0,e.length-1):"."},n.basename=function(t,e){var n=c.exec(t)[2]||"";return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return c.exec(t)[3]||""}}),t.define("__browserify_process",function(t,e,n,r,i,s){var s=e.exports={};s.nextTick=function(){var t=[],e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;return e&&window.addEventListener("message",function(e){if(e.source===window&&"browserify-tick"===e.data&&(e.stopPropagation(),t.length>0)){var n=t.shift();n()}},!0),function(n){e?(t.push(n),window.postMessage("browserify-tick","*")):setTimeout(n,0)}}(),s.title="browser",s.browser=!0,s.env={},s.argv=[],s.binding=function(e){if("evals"===e)return t("vm");throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,n="/";s.cwd=function(){return n},s.chdir=function(r){e||(e=t("path")),n=e.resolve(r,n)}}()}),t.define("/package.json",function(t,e,n,r,i,s){e.exports={main:"./index.js"}}),t.define("/index.js",function(t,e,n,r,i,s){e.exports=t("./lib/js-yaml.js")}),t.define("/lib/js-yaml.js",function(t,e,n,r,i,s){"use strict";var o=t("fs"),a=t("./js-yaml/loader"),c=e.exports={};c.scan=function(t,e,n){n=n||a.SafeLoader;for(var r=new n(t);r.checkToken();)e(r.getToken())},c.compose=function(t,e){e=e||a.SafeLoader;var n=new e(t);return n.getSingleNode()},c.load=function(t,e){e=e||a.Loader;var n=new e(t);return n.getSingleData()},c.loadAll=function(t,e,n){n=n||a.Loader;for(var r=new n(t);r.checkData();)e(r.getData())},c.safeLoad=function(t){return c.load(t,a.SafeLoader)},c.safeLoadAll=function(t,e){c.loadAll(t,e,a.SafeLoader)},c.addConstructor=function(t,e,n){(n||a.Loader).addConstructor(t,e)},function(){var e=function(t,e){var n=o.readFileSync(e,"utf8");t.exports=c.load(n)};void 0!==t.extensions&&(t.extensions[".yml"]=e,t.extensions[".yaml"]=e)}()}),t.define("fs",function(t,e,n,r,i,s){}),t.define("/lib/js-yaml/loader.js",function(t,e,n,r,i,s){"use strict";function o(t){l.Reader.call(this,t),u.Scanner.call(this),p.Parser.call(this),f.Composer.call(this),k.BaseConstructor.call(this),d.BaseResolver.call(this)}function a(t){l.Reader.call(this,t),u.Scanner.call(this),p.Parser.call(this),f.Composer.call(this),k.SafeConstructor.call(this),d.Resolver.call(this)}function c(t){l.Reader.call(this,t),u.Scanner.call(this),p.Parser.call(this),f.Composer.call(this),k.Constructor.call(this),d.Resolver.call(this)}var h=t("./common"),l=t("./reader"),u=t("./scanner"),p=t("./parser"),f=t("./composer"),d=t("./resolver"),k=t("./constructor");h.extend(o.prototype,l.Reader.prototype,u.Scanner.prototype,p.Parser.prototype,f.Composer.prototype,k.BaseConstructor.prototype,d.BaseResolver.prototype),h.extend(a.prototype,l.Reader.prototype,u.Scanner.prototype,p.Parser.prototype,f.Composer.prototype,k.SafeConstructor.prototype,d.Resolver.prototype),h.extend(c.prototype,l.Reader.prototype,u.Scanner.prototype,p.Parser.prototype,f.Composer.prototype,k.Constructor.prototype,d.Resolver.prototype),o.addConstructor=function(t,e){k.BaseConstructor.addConstructor(t,e)},a.addConstructor=function(t,e){k.SafeConstructor.addConstructor(t,e)},c.addConstructor=function(t,e){k.Constructor.addConstructor(t,e)},e.exports.BaseLoader=o,e.exports.SafeLoader=a,e.exports.Loader=c}),t.define("/lib/js-yaml/common.js",function(t,e,n,r,i,s){"use strict";var o=e.exports={};o.extend=function(t){var e,n,r,i=[];for(t=t||{},n=arguments.length,!!arguments[n-1]&&!!arguments[n-1].except&&(i=arguments[n-1].except,n-=1),e=1;n>e;e+=1)if(arguments[e]&&"object"==typeof arguments[e])for(r in arguments[e])arguments[e].hasOwnProperty(r)&&-1===i.indexOf(r)&&(t[r]=arguments[e][r]);return t},o.inherits=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,o.extend(t.prototype,e.prototype,{except:["arguments","length","name","prototype","caller"]}),o.extend(t.prototype,{constructor:t}),t.__parent__=e},o.isInstanceOf=function(t,e){var n;return t instanceof e?!0:t&&t.constructor?(n=t.constructor.__parent__,n===e||o.isInstanceOf(n,e)):!1},o.each=function(t,e,n){var r,i,s;if(null!==t&&void 0!==t)if(n=n||e,t.forEach===Array.prototype.forEach)t.forEach(e,n);else for(r=Object.getOwnPropertyNames(t),i=0,s=r.length;s>i;i+=1)e.call(n,t[r[i]],r[i],t)},o.reverse=function(t){var e,n,r=[];for(e=0,n=t.length;n>e;e+=1)r.unshift(t[e]);return r},o.decodeBase64=function(){var t="=",e=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];return function(n){var r,i,s,o,a=0,c=[];for(s=0,o=0,a=0;a<n.length;a+=1)if(i=n.charCodeAt(a),r=e[127&i],10!==i&&13!==i){if(-1===r)throw new Error("Illegal characters (code="+i+") in position "+a+": ordinal not in range(0..128)");o=o<<6|r,s+=6,s>=8&&(s-=8,t!==n.charAt(a)&&c.push(o>>s&255),o&=(1<<s)-1)}if(s)throw new Error("Corrupted base64 string");return new Buffer(c)}}(),o.Populator=function(t,e,n){return this instanceof o.Populator?(this.data=t,void(this.execute=function(){e.call(n||e)})):new o.Populator(t,e,n)},o.Hash=function(t){var e,n,r;return this instanceof o.Hash?(r=0,e=[],n=[],this.store=function(t,i){var s=e.indexOf(t);return s>=0?void(n[s]=i):(s=r,r+=1,e[s]=t,n[s]=i,void 0)},this.remove=function(t){var r=e.indexOf(t);r>=0&&(delete e[r],delete n[r])},this.hasKey=function(t){return 0<=e.indexOf(t)},this.get=function(r){var i=e.indexOf(r);return i>=0?n[i]:t},void 0):new o.Hash(t)}}),t.define("/lib/js-yaml/reader.js",function(t,e,n,r,i,s){"use strict";function o(t,e,n,r,i){h.YAMLError.call(this,"unacceptable character "+n+": "+i+'\n in "'+t+'", position '+e)}function a(t){if(this.name="<unicode string>",this.stream=null,this.streamPointer=0,this.eof=!0,this.buffer="",this.pointer=0,this.encoding="utf-8",this.index=0,this.line=0,this.column=0,"string"!=typeof t)throw new h.YAMLError("Invalid source. Unicode string expected.");this.name="<unicode string>",this.checkPrintable(t),this.buffer=t+"\x00"}var c=t("./common"),h=t("./errors"),l=new RegExp("[^	\n\r -~ -퟿-�]"),u=void 0==="a"[0]?function(t,e){return t.charAt(e)}:function(t,e){return t[e]};c.inherits(o,h.YAMLError),o.prototype.name="ReaderError",a.prototype.peek=function(t){return t=+t||0,u(this.buffer,this.pointer+t)},a.prototype.prefix=function(t){return t=+t||1,this.buffer.slice(this.pointer,this.pointer+t)},a.prototype.forward=function(t){var e;for(t=void 0!==t?+t:1;t;)e=this.buffer.charAt(this.pointer),this.pointer+=1,this.index+=1,0<="\n\u2028\u2029".indexOf(e)||"\r"===e&&"\n"!==this.buffer.charAt(this.pointer)?(this.line+=1,this.column=0):""!==e&&(this.column+=1),t-=1},a.prototype.getMark=function(){return null===this.stream?new h.Mark(this.name,this.index,this.line,this.column,this.buffer,this.pointer):new h.Mark(this.name,this.index,this.line,this.column,null,null)},a.prototype.checkPrintable=function(t){var e,n=String(t).match(l);if(n)throw e=this.index+this.buffer.length-this.pointer+n.index,new o(this.name,e,n[0],"unicode","special characters are not allowed")},e.exports.Reader=a}),t.define("/lib/js-yaml/errors.js",function(t,e,n,r,i,s){"use strict";function o(t,e,n,r,i,s){this.name=t,this.index=e,this.line=n,this.column=r,this.buffer=i,this.pointer=s}function a(t){this.message=t}function c(t){var e="Error ";return null!==t.problemMark&&(e+="on line "+(t.problemMark.line+1)+", col "+(t.problemMark.column+1)+": "),null!==t.problem&&(e+=t.problem),null!==t.note&&(e+=t.note),e}function h(t){var e=[];return null!==t.context&&e.push(t.context),null!==t.contextMark&&(null===t.problem||null===t.problemMark||t.contextMark.name!==t.problemMark.name||t.contextMark.line!==t.problemMark.line||t.contextMark.column!==t.problemMark.column)&&e.push(t.contextMark.toString()),null!==t.problem&&e.push(t.problem),null!==t.problemMark&&e.push(t.problemMark.toString()),null!==t.note&&e.push(t.note),e.join("\n")}function l(t,e,n,r,i){a.call(this),this.name="MarkedYAMLError",this.context=t||null,this.contextMark=e||null,this.problem=n||null,this.problemMark=r||null,this.note=i||null,this.toString=function(t){return t?c(this):h(this)}}var u=t("./common"),p=function(t,e){var n,r="";for(n=0;e>n;n+=1)r+=t;return r};o.prototype.getSnippet=function(t,e){var n,r,i,s,o;if(!this.buffer)return null;for(t=t||4,e=e||75,n="",r=this.pointer;r>0&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(r-1));)if(r-=1,this.pointer-r>e/2-1){n=" ... ",r+=5;break}for(i="",s=this.pointer;s<this.buffer.length&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(s));)if(s+=1,s-this.pointer>e/2-1){i=" ... ",s-=5;break}return o=this.buffer.slice(r,s),p(" ",t)+n+o+i+"\n"+p(" ",t+this.pointer-r+n.length)+"^"},o.prototype.toString=function(){var t,e=this.getSnippet();return t=' in "'+this.name+'", line '+(this.line+1)+", column "+(this.column+1),e&&(t+=":\n"+e),t},a.prototype.name="YAMLError",a.prototype.toString=function(){return this.name+": "+this.message},u.inherits(l,a),e.exports.Mark=o,e.exports.YAMLError=a,e.exports.MarkedYAMLError=l}),t.define("/lib/js-yaml/scanner.js",function(t,e,n,r,i,s){"use strict";function o(){l.MarkedYAMLError.apply(this,arguments),this.name="ScannerError"}function a(t,e,n,r,i,s){this.tokenNumber=t,this.required=e,this.index=n,this.line=r,this.column=i,this.mark=s}function c(){this.done=!1,this.flowLevel=0,this.tokens=[],this.fetchStreamStart(),this.tokensTaken=0,this.indent=-1,this.indents=[],this.allowSimpleKey=!0,this.possibleSimpleKeys={}}var h=t("./common"),l=t("./errors"),u=t("./tokens"),p={0:"\x00",a:"",b:"\b",t:"	","	":"	",n:"\n",v:"",f:"\f",r:"\r",e:""," ":" ",'"':'"',"\\":"\\",N:"",_:" ",L:"\u2028",P:"\u2029"},f={x:2,u:4,U:8},d=function(t,e){var n=[];for(void 0===e&&(e=t,t=0);e>0;)n.push(t),e-=1,t+=1;return n};h.inherits(o,l.MarkedYAMLError),c.prototype.checkToken=function(){for(var t;this.needMoreTokens();)this.fetchMoreTokens();if(this.tokens.length){if(!arguments.length)return!0;for(t=0;t<arguments.length;t+=1)if(h.isInstanceOf(this.tokens[0],arguments[t]))return!0}return!1},c.prototype.peekToken=function(){for(;this.needMoreTokens();)this.fetchMoreTokens();return this.tokens.length?this.tokens[0]:null},c.prototype.getToken=function(){for(var t=null;this.needMoreTokens();)this.fetchMoreTokens();return this.tokens.length&&(this.tokensTaken+=1,t=this.tokens.shift()),t},c.prototype.needMoreTokens=function(){return this.done?!1:this.tokens.length?(this.stalePossibleSimpleKeys(),this.nextPossibleSimpleKey()===this.tokensTaken?!0:!1):!0},c.prototype.fetchMoreTokens=function(){var t;if(this.scanToNextToken(),this.stalePossibleSimpleKeys(),this.unwindIndent(this.column),t=this.peek(),"\x00"===t)return this.fetchStreamEnd();if("%"===t&&this.checkDirective())return this.fetchDirective();if("-"===t&&this.checkDocumentStart())return this.fetchDocumentStart();if("."===t&&this.checkDocumentEnd())return this.fetchDocumentEnd();if("["===t)return this.fetchFlowSequenceStart();if("{"===t)return this.fetchFlowMappingStart();if("]"===t)return this.fetchFlowSequenceEnd();if("}"===t)return this.fetchFlowMappingEnd();if(","===t)return this.fetchFlowEntry();if("-"===t&&this.checkBlockEntry())return this.fetchBlockEntry();if("?"===t&&this.checkKey())return this.fetchKey();if(":"===t&&this.checkValue())return this.fetchValue();if("*"===t)return this.fetchAlias();if("&"===t)return this.fetchAnchor();if("!"===t)return this.fetchTag();if("|"===t&&!this.flowLevel)return this.fetchLiteral();if(">"===t&&!this.flowLevel)return this.fetchFolded();if("'"===t)return this.fetchSingle();if('"'===t)return this.fetchDouble();if(this.checkPlain())return this.fetchPlain();throw new o("while scanning for the next token",null,"found character "+t+" that cannot start any token",this.getMark())},c.prototype.nextPossibleSimpleKey=function(){var t=null;return h.each(this.possibleSimpleKeys,function(e){(null===t||e.tokenNumber<t)&&(t=e.tokenNumber)}),t},c.prototype.stalePossibleSimpleKeys=function(){h.each(this.possibleSimpleKeys,function(t,e){if(t.line!==this.line||1024<this.index-t.index){if(t.required)throw new o("while scanning a simple key",t.mark,"could not found expected ':'",this.getMark());delete this.possibleSimpleKeys[e]}},this)},c.prototype.savePossibleSimpleKey=function(){var t,e,n;if(t=!this.flowLevel&&this.indent===this.column,!this.allowSimpleKey&&t)throw new l.YAMLError("Simple key is required");this.allowSimpleKey&&(this.removePossibleSimpleKey(),e=this.tokensTaken+this.tokens.length,n=new a(e,t,this.index,this.line,this.column,this.getMark()),this.possibleSimpleKeys[this.flowLevel]=n)},c.prototype.removePossibleSimpleKey=function(){var t;if(void 0!==this.possibleSimpleKeys[this.flowLevel]){if(t=this.possibleSimpleKeys[this.flowLevel],t.required)throw new o("while scanning a simple key",t.mark,"could not found expected ':'",this.getMark());delete this.possibleSimpleKeys[this.flowLevel]}},c.prototype.unwindIndent=function(t){var e;if(!this.flowLevel)for(;this.indent>t;)e=this.getMark(),this.indent=this.indents.pop(),this.tokens.push(new u.BlockEndToken(e,e))},c.prototype.addIndent=function(t){return this.indent<t?(this.indents.push(this.indent),this.indent=t,!0):!1},c.prototype.fetchStreamStart=function(){var t;t=this.getMark(),this.tokens.push(new u.StreamStartToken(t,t,this.encoding))},c.prototype.fetchStreamEnd=function(){var t;this.unwindIndent(-1),this.removePossibleSimpleKey(),this.allowSimpleKey=!1,this.possibleSimpleKeys={},t=this.getMark(),this.tokens.push(new u.StreamEndToken(t,t)),this.done=!0},c.prototype.fetchDirective=function(){this.unwindIndent(-1),this.removePossibleSimpleKey(),this.allowSimpleKey=!1,this.tokens.push(this.scanDirective())},c.prototype.fetchDocumentStart=function(){this.fetchDocumentIndicator(u.DocumentStartToken)},c.prototype.fetchDocumentEnd=function(){this.fetchDocumentIndicator(u.DocumentEndToken)},c.prototype.fetchDocumentIndicator=function(t){var e,n;this.unwindIndent(-1),this.removePossibleSimpleKey(),this.allowSimpleKey=!1,e=this.getMark(),this.forward(3),n=this.getMark(),this.tokens.push(new t(e,n))},c.prototype.fetchFlowSequenceStart=function(){this.fetchFlowCollectionStart(u.FlowSequenceStartToken)},c.prototype.fetchFlowMappingStart=function(){this.fetchFlowCollectionStart(u.FlowMappingStartToken)},c.prototype.fetchFlowCollectionStart=function(t){var e,n;this.savePossibleSimpleKey(),this.flowLevel+=1,this.allowSimpleKey=!0,e=this.getMark(),this.forward(),n=this.getMark(),this.tokens.push(new t(e,n))},c.prototype.fetchFlowSequenceEnd=function(){this.fetchFlowCollectionEnd(u.FlowSequenceEndToken)},c.prototype.fetchFlowMappingEnd=function(){this.fetchFlowCollectionEnd(u.FlowMappingEndToken)},c.prototype.fetchFlowCollectionEnd=function(t){var e,n;this.removePossibleSimpleKey(),this.flowLevel-=1,this.allowSimpleKey=!1,e=this.getMark(),this.forward(),n=this.getMark(),this.tokens.push(new t(e,n))},c.prototype.fetchFlowEntry=function(){var t,e;this.allowSimpleKey=!0,this.removePossibleSimpleKey(),t=this.getMark(),this.forward(),e=this.getMark(),this.tokens.push(new u.FlowEntryToken(t,e))},c.prototype.fetchBlockEntry=function(){var t,e,n;if(!this.flowLevel){if(!this.allowSimpleKey)throw new o(null,null,"sequence entries are not allowed here",this.getMark());this.addIndent(this.column)&&(t=this.getMark(),this.tokens.push(new u.BlockSequenceStartToken(t,t)))}this.allowSimpleKey=!0,this.removePossibleSimpleKey(),e=this.getMark(),this.forward(),n=this.getMark(),this.tokens.push(new u.BlockEntryToken(e,n))},c.prototype.fetchKey=function(){var t,e,n;if(!this.flowLevel){if(!this.allowSimpleKey)throw new o(null,null,"mapping keys are not allowed here",this.getMark());this.addIndent(this.column)&&(t=this.getMark(),this.tokens.push(new u.BlockMappingStartToken(t,t)))}this.allowSimpleKey=!this.flowLevel,this.removePossibleSimpleKey(),e=this.getMark(),this.forward(),n=this.getMark(),this.tokens.push(new u.KeyToken(e,n))},c.prototype.fetchValue=function(){var t,e,n,r;if(void 0!==this.possibleSimpleKeys[this.flowLevel])t=this.possibleSimpleKeys[this.flowLevel],delete this.possibleSimpleKeys[this.flowLevel],this.tokens.splice(t.tokenNumber-this.tokensTaken,0,new u.KeyToken(t.mark,t.mark)),this.flowLevel||this.addIndent(t.column)&&this.tokens.splice(t.tokenNumber-this.tokensTaken,0,new u.BlockMappingStartToken(t.mark,t.mark)),this.allowSimpleKey=!1;else{if(!this.flowLevel&&!this.allowSimpleKey)throw new o(null,null,"mapping values are not allowed here",this.getMark());this.flowLevel||this.addIndent(this.column)&&(e=this.getMark(),this.tokens.push(new u.BlockMappingStartToken(e,e))),this.allowSimpleKey=!this.flowLevel,this.removePossibleSimpleKey()}n=this.getMark(),this.forward(),r=this.getMark(),this.tokens.push(new u.ValueToken(n,r))},c.prototype.fetchAlias=function(){this.savePossibleSimpleKey(),this.allowSimpleKey=!1,this.tokens.push(this.scanAnchor(u.AliasToken))},c.prototype.fetchAnchor=function(){this.savePossibleSimpleKey(),this.allowSimpleKey=!1,this.tokens.push(this.scanAnchor(u.AnchorToken))},c.prototype.fetchTag=function(){this.savePossibleSimpleKey(),this.allowSimpleKey=!1,this.tokens.push(this.scanTag())},c.prototype.fetchLiteral=function(){this.fetchBlockScalar("|")},c.prototype.fetchFolded=function(){this.fetchBlockScalar(">")},c.prototype.fetchBlockScalar=function(t){this.allowSimpleKey=!0,this.removePossibleSimpleKey(),this.tokens.push(this.scanBlockScalar(t))},c.prototype.fetchSingle=function(){this.fetchFlowScalar("'")},c.prototype.fetchDouble=function(){this.fetchFlowScalar('"')},c.prototype.fetchFlowScalar=function(t){this.savePossibleSimpleKey(),this.allowSimpleKey=!1,this.tokens.push(this.scanFlowScalar(t))},c.prototype.fetchPlain=function(){this.savePossibleSimpleKey(),this.allowSimpleKey=!1,this.tokens.push(this.scanPlain())},c.prototype.checkDirective=function(){return 0===this.column},c.prototype.checkDocumentStart=function(){return 0===+this.column&&"---"===this.prefix(3)?0<="\x00 	\r\n\u2028\u2029".indexOf(this.peek(3)):!1},c.prototype.checkDocumentEnd=function(){return 0===+this.column&&"..."===this.prefix(3)?0<="\x00 	\r\n\u2028\u2029".indexOf(this.peek(3)):!1},c.prototype.checkBlockEntry=function(){return 0<="\x00 	\r\n\u2028\u2029".indexOf(this.peek(1))},c.prototype.checkKey=function(){return this.flowLevel?!0:0<="\x00 	\r\n\u2028\u2029".indexOf(this.peek(1))},c.prototype.checkValue=function(){return this.flowLevel?!0:0<="\x00 	\r\n\u2028\u2029".indexOf(this.peek(1))},c.prototype.checkPlain=function(){var t=this.peek();return-1==="\x00 	\r\n\u2028\u2029-?:,[]{}#&*!|>'\"%@`".indexOf(t)||-1==="\x00 	\r\n\u2028\u2029".indexOf(this.peek(1))&&("-"===t||!this.flowLevel&&0<="?:".indexOf(t))},c.prototype.scanToNextToken=function(){var t=!1;for(0===this.index&&""===this.peek()&&this.forward();!t;){for(;" "===this.peek();)this.forward();if("#"===this.peek())for(;-1==="\x00\r\n\u2028\u2029".indexOf(this.peek());)this.forward();this.scanLineBreak()?this.flowLevel||(this.allowSimpleKey=!0):t=!0}},c.prototype.scanDirective=function(){var t,e,n,r;if(t=this.getMark(),this.forward(),n=this.scanDirectiveName(t),r=null,"YAML"===n)r=this.scanYamlDirectiveValue(t),e=this.getMark();else if("TAG"===n)r=this.scanTagDirectiveValue(t),e=this.getMark();else for(e=this.getMark();-1==="\x00\r\n\u2028\u2029".indexOf(this.peek());)this.forward();return this.scanDirectiveIgnoredLine(t),new u.DirectiveToken(n,r,t,e)},c.prototype.scanDirectiveName=function(t){var e,n,r;for(e=0,n=this.peek(e);/^[0-9A-Za-z]/.test(n)||0<="-_".indexOf(n);)e+=1,n=this.peek(e);if(!e)throw new o("while scanning a directive",t,"expected alphabetic or numeric character, but found "+n,this.getMark());if(r=this.prefix(e),this.forward(e),n=this.peek(),-1==="\x00 \r\n\u2028\u2029".indexOf(n))throw new o("while scanning a directive",t,"expected alphabetic or numeric character, but found "+n,this.getMark());return r},c.prototype.scanYamlDirectiveValue=function(t){for(var e,n;" "===this.peek();)this.forward();if(e=this.scanYamlDirectiveNumber(t),"."!==this.peek())throw new o("while scanning a directive",t,"expected a digit or '.', but found "+this.peek(),this.getMark());if(this.forward(),n=this.scanYamlDirectiveNumber(t),-1==="\x00 \r\n\u2028\u2029".indexOf(this.peek()))throw new o("while scanning a directive",t,"expected a digit or ' ', but found "+this.peek(),this.getMark());return[e,n]},c.prototype.scanYamlDirectiveNumber=function(t){var e,n,r;if(e=this.peek(),!/^[0-9]/.test(e))throw new o("while scanning a directive",t,"expected a digit, but found "+e,this.getMark());for(n=0;/^[0-9]/.test(this.peek(n));)n+=1;return r=+this.prefix(n),this.forward(n),r},c.prototype.scanTagDirectiveValue=function(t){for(var e,n;" "===this.peek();)this.forward();for(e=this.scanTagDirectiveHandle(t);" "===this.peek();)this.forward();return n=this.scanTagDirectivePrefix(t),[e,n]},c.prototype.scanTagDirectiveHandle=function(t){var e,n;if(e=this.scanTagHandle("directive",t),n=this.peek()," "!==n)throw new o("while scanning a directive",t,"expected ' ', but found "+n,this.getMark());return e},c.prototype.scanTagDirectivePrefix=function(t){var e,n;if(e=this.scanTagUri("directive",t),n=this.peek(),-1==="\x00 \r\n\u2028\u2029".indexOf(n))throw new o("while scanning a directive",t,"expected ' ', but found "+n,this.getMark());return e},c.prototype.scanDirectiveIgnoredLine=function(t){for(var e;" "===this.peek();)this.forward();if("#"===this.peek())for(;-1==="\x00\r\n\u2028\u2029".indexOf(this.peek());)this.forward();if(e=this.peek(),-1==="\x00\r\n\u2028\u2029".indexOf(e))throw new o("while scanning a directive",t,"expected a comment or a line break, but found "+e,this.getMark());this.scanLineBreak()},c.prototype.scanAnchor=function(t){var e,n,r,i,s,a;for(e=this.getMark(),n=this.peek(),r="*"===n?"alias":"anchor",this.forward(),i=0,s=this.peek(i);/^[0-9A-Za-z]/.test(s)||0<="-_".indexOf(s);)i+=1,s=this.peek(i);if(!i)throw new o("while scanning an "+r,e,"expected alphabetic or numeric character, but found "+s,this.getMark());if(a=this.prefix(i),this.forward(i),s=this.peek(),-1==="\x00 	\r\n\u2028\u2029?:,]}%@`".indexOf(s))throw new o("while scanning an "+r,e,"expected alphabetic or numeric character, but found "+s,this.getMark());return new t(a,e,this.getMark())},c.prototype.scanTag=function(){var t,e,n,r,i,s;if(t=this.getMark(),e=this.peek(1),"<"===e){if(n=null,this.forward(2),r=this.scanTagUri("tag",t),">"!==this.peek())throw new o("while parsing a tag",t,"expected '>', but found "+this.peek(),this.getMark());this.forward()}else if(0<="\x00 	\r\n\u2028\u2029".indexOf(e))n=null,r="!",this.forward();else{for(i=1,s=!1;-1==="\x00 \r\n\u2028\u2029".indexOf(e);){if("!"===e){s=!0;break}i+=1,e=this.peek(i)}s?n=this.scanTagHandle("tag",t):(n="!",this.forward()),r=this.scanTagUri("tag",t)}if(e=this.peek(),-1==="\x00 \r\n\u2028\u2029".indexOf(e))throw new o("while scanning a tag",t,"expected ' ', but found "+e,this.getMark());return new u.TagToken([n,r],t,this.getMark())},c.prototype.scanBlockScalar=function(t){var e,n,r,i,s,o,a,c,h,l,p,f,d,k=null;for(e=">"===t,n=[],r=this.getMark(),this.forward(),f=this.scanBlockScalarIndicators(r),s=f[0],k=f[1]||null,this.scanBlockScalarIgnoredLine(r),o=this.indent+1,1>o&&(o=1),null===k?(f=this.scanBlockScalarIndentation(),h=f[0],a=f[1],i=f[2],c=Math.max(o,a)):(c=o+k-1,f=this.scanBlockScalarBreaks(c),h=f[0],i=f[1]),l="";+this.column===c&&"\x00"!==this.peek();){for(n=n.concat(h),p=-1===" 	".indexOf(this.peek()),d=0;-1==="\x00\r\n\u2028\u2029".indexOf(this.peek(d));)d+=1;if(n.push(this.prefix(d)),this.forward(d),l=this.scanLineBreak(),f=this.scanBlockScalarBreaks(c),h=f[0],i=f[1],+this.column!==c||"\x00"===this.peek())break;e&&"\n"===l&&p&&-1===" 	".indexOf(this.peek())?(!h||!h.length)&&n.push(" "):n.push(l)}return!1!==s&&n.push(l),!0===s&&(n=n.concat(h)),new u.ScalarToken(n.join(""),!1,r,i,t)},c.prototype.scanBlockScalarIndicators=function(t){var e=null,n=null,r=this.peek();if(0<="+-".indexOf(r)){if(e="+"===r,this.forward(),r=this.peek(),0<="0123456789".indexOf(r)){if(n=+r,0===n)throw new o("while scanning a block scalar",t,"expected indentation indicator in the range 1-9, but found 0",this.getMark());this.forward()}}else if(0<="0123456789".indexOf(r)){if(n=+r,0===n)throw new o("while scanning a block scalar",t,"expected indentation indicator in the range 1-9, but found 0",this.getMark());this.forward(),r=this.peek(),0<="+-".indexOf(r)&&(e="+"===r,this.forward())}if(r=this.peek(),-1==="\x00 \r\n\u2028\u2029".indexOf(r))throw new o("while scanning a block scalar",t,"expected chomping or indentation indicators, but found "+r,this.getMark());return[e,n]},c.prototype.scanBlockScalarIgnoredLine=function(t){for(var e;" "===this.peek();)this.forward();if("#"===this.peek())for(;-1==="\x00\r\n\u2028\u2029".indexOf(this.peek());)this.forward();if(e=this.peek(),-1==="\x00\r\n\u2028\u2029".indexOf(e))throw new o("while scanning a block scalar",t,"expected a comment or a line break, but found "+e,this.getMark());this.scanLineBreak()},c.prototype.scanBlockScalarIndentation=function(){var t,e,n;for(t=[],e=0,n=this.getMark();0<=" \r\n\u2028\u2029".indexOf(this.peek());)" "!==this.peek()?(t.push(this.scanLineBreak()),n=this.getMark()):(this.forward(),this.column>e&&(e=this.column));return[t,e,n]},c.prototype.scanBlockScalarBreaks=function(t){var e,n;for(e=[],n=this.getMark();this.column<t&&" "===this.peek();)this.forward();for(;0<="\r\n\u2028\u2029".indexOf(this.peek());)for(e.push(this.scanLineBreak()),n=this.getMark();this.column<t&&" "===this.peek();)this.forward();return[e,n]},c.prototype.scanFlowScalar=function(t){var e,n,r,i,s;for(e='"'===t,n=[],r=this.getMark(),i=this.peek(),this.forward(),n=n.concat(this.scanFlowScalarNonSpaces(e,r));this.peek()!==i;)n=n.concat(this.scanFlowScalarSpaces(e,r)),n=n.concat(this.scanFlowScalarNonSpaces(e,r));return this.forward(),s=this.getMark(),new u.ScalarToken(n.join(""),!1,r,s,t)},c.prototype.scanFlowScalarNonSpaces=function(t,e){var n,r,i,s,a,c=this;for(a=function(t){if(-1==="0123456789ABCDEFabcdef".indexOf(c.peek(t)))throw new o("while scanning a double-quoted scalar",e,"expected escape sequence of "+r+" hexdecimal numbers, but found "+c.peek(t),c.getMark())},n=[];;){for(r=0;-1==="'\"\\\x00 	\r\n\u2028\u2029".indexOf(this.peek(r));)r+=1;if(r&&(n.push(this.prefix(r)),this.forward(r)),i=this.peek(),t||"'"!==i||"'"!==this.peek(1))if(t&&"'"===i||!t&&0<='"\\'.indexOf(i))n.push(i),this.forward();else{if(!t||"\\"!==i)return n;if(this.forward(),i=this.peek(),p.hasOwnProperty(i))n.push(p[i]),this.forward();else if(f.hasOwnProperty(i))r=f[i],this.forward(),d(r).forEach(a),s=parseInt(this.prefix(r),16),n.push(String.fromCharCode(s)),this.forward(r);else{if(!(0<="\r\n\u2028\u2029".indexOf(i)))throw new o("while scanning a double-quoted scalar",e,"found unknown escape character "+i,this.getMark());this.scanLineBreak(),n=n.concat(this.scanFlowScalarBreaks(t,e))}}else n.push("'"),this.forward(2)}},c.prototype.scanFlowScalarSpaces=function(t,e){var n,r,i,s,a,c;for(n=[],r=0;0<=" 	".indexOf(this.peek(r));)r+=1;if(i=this.prefix(r),this.forward(r),s=this.peek(),"\x00"===s)throw new o("while scanning a quoted scalar",e,"found unexpected end of stream",this.getMark());return 0<="\r\n\u2028\u2029".indexOf(s)?(a=this.scanLineBreak(),c=this.scanFlowScalarBreaks(t,e),"\n"!==a?n.push(a):c||n.push(" "),n=n.concat(c)):n.push(i),n},c.prototype.scanFlowScalarBreaks=function(t,e){for(var n,r=[];;){if(n=this.prefix(3),("---"===n||"..."===n)&&0<="\x00 	\r\n\u2028\u2029".indexOf(this.peek(3)))throw new o("while scanning a quoted scalar",e,"found unexpected document separator",this.getMark());for(;0<=" 	".indexOf(this.peek());)this.forward();if(!(0<="\r\n\u2028\u2029".indexOf(this.peek())))return r;r.push(this.scanLineBreak())}},c.prototype.scanPlain=function(){var t,e,n,r,i,s,a;for(e=[],n=this.getMark(),r=n,i=this.indent+1,s=[];a=0,"#"!==this.peek();){for(;t=this.peek(a),!(0<="\x00 	\r\n\u2028\u2029".indexOf(t)||!this.flowLevel&&":"===t&&0<="\x00 	\r\n\u2028\u2029".indexOf(this.peek(a+1))||this.flowLevel&&0<=",:?[]{}".indexOf(t));)a+=1;if(this.flowLevel&&":"===t&&-1==="\x00 	\r\n\u2028\u2029,[]{}".indexOf(this.peek(a+1)))throw this.forward(a),new o("while scanning a plain scalar",n,"found unexpected ':'",this.getMark(),"Please check http://pyyaml.org/wiki/YAMLColonInFlowContext for details.");

if(0===a)break;if(this.allowSimpleKey=!1,e=e.concat(s),e.push(this.prefix(a)),this.forward(a),r=this.getMark(),s=this.scanPlainSpaces(i,n),!Array.isArray(s)||!s.length||"#"===this.peek()||!this.flowLevel&&this.column<i)break}return new u.ScalarToken(e.join(""),!0,n,r)},c.prototype.scanPlainSpaces=function(){var t,e,n,r,i,s,o;for(t=[],e=0;" "===this.peek(e);)e+=1;if(n=this.prefix(e),this.forward(e),r=this.peek(),0<="\r\n\u2028\u2029".indexOf(r)){if(o=this.scanLineBreak(),this.allowSimpleKey=!0,i=this.prefix(3),("---"===i||"..."===i)&&0<="\x00 	\r\n\u2028\u2029".indexOf(this.peek(3)))return;for(s=[];0<=" \r\n\u2028\u2029".indexOf(this.peek());)if(" "===this.peek())this.forward();else if(s.push(this.scanLineBreak()),i=this.prefix(3),("---"===i||"..."===i)&&0<="\x00 	\r\n\u2028\u2029".indexOf(this.peek(3)))return;"\n"!==o?t.push(o):(!s||!s.length)&&t.push(" "),t=t.concat(s)}else n&&t.push(n);return t},c.prototype.scanTagHandle=function(t,e){var n,r,i;if(n=this.peek(),"!"!==n)throw new o("while scanning a "+t,e,"expected '!', but found "+n,this.getMark());if(r=1,n=this.peek(r)," "!==n){for(;/^[0-9A-Za-z]/.test(n)||0<="-_".indexOf(n);)r+=1,n=this.peek(r);if("!"!==n)throw this.forward(r),new o("while scanning a "+t,e,"expected '!', but found "+n,this.getMark());r+=1}return i=this.prefix(r),this.forward(r),i},c.prototype.scanTagUri=function(t,e){var n,r,i;for(n=[],r=0,i=this.peek(r);/^[0-9A-Za-z]/.test(i)||0<="-;/?:@&=+$,_.!~*'()[]%".indexOf(i);)"%"===i?(n.push(this.prefix(r)),this.forward(r),r=0,n.push(this.scanUriEscapes(t,e))):r+=1,i=this.peek(r);if(r&&(n.push(this.prefix(r)),this.forward(r),r=0),!n.length)throw new o("while parsing a "+t,e,"expected URI, but found "+i,this.getMark());return n.join("")},c.prototype.scanUriEscapes=function(t,e){var n,r,i,s,a=this;for(n=[],r=this.getMark(),s=function(n){if(-1==="0123456789ABCDEFabcdef".indexOf(a.peek(n)))throw new o("while scanning a "+t,e,"expected URI escape sequence of 2 hexdecimal numbers, but found "+a.peek(n),a.getMark())};"%"===this.peek();)this.forward(),d(2).forEach(s),n.push(parseInt(this.prefix(2),16)),this.forward(2);try{i=new Buffer(n).toString("utf8")}catch(c){throw new o("while scanning a "+t,e,c.toString(),r)}return i},c.prototype.scanLineBreak=function(){var t;return t=this.peek(),0<="\r\n".indexOf(t)?("\r\n"===this.prefix(2)?this.forward(2):this.forward(),"\n"):0<="\u2028\u2029".indexOf(t)?(this.forward(),t):""},e.exports.Scanner=c}),t.define("/lib/js-yaml/tokens.js",function(t,e,n,r,i,s){"use strict";function o(t,e){this.startMark=t||null,this.endMark=e||null}function a(t,e,n,r){o.call(this,n,r),this.name=t,this.value=e}function c(){o.apply(this,arguments)}function h(){o.apply(this,arguments)}function l(t,e,n){o.call(this,t,e),this.encoding=n||null}function u(){o.apply(this,arguments)}function p(){o.apply(this,arguments)}function f(){o.apply(this,arguments)}function d(){o.apply(this,arguments)}function k(){o.apply(this,arguments)}function m(){o.apply(this,arguments)}function g(){o.apply(this,arguments)}function y(){o.apply(this,arguments)}function w(){o.apply(this,arguments)}function v(){o.apply(this,arguments)}function S(){o.apply(this,arguments)}function M(){o.apply(this,arguments)}function x(t,e,n){o.call(this,e,n),this.value=t}function E(t,e,n){o.call(this,e,n),this.value=t}function T(t,e,n){o.call(this,e,n),this.value=t}function b(t,e,n,r,i){o.call(this,n,r),this.value=t,this.plain=e,this.style=i||null}var O=t("./common");o.prototype.hash=o.prototype.toString=function(){var t=[],e=this;return Object.getOwnPropertyNames(this).forEach(function(n){/startMark|endMark|__meta__/.test(n)||t.push(n+":"+e[n])}),this.constructor.name+"("+t.join(", ")+")"},O.inherits(a,o),a.id="<directive>",O.inherits(c,o),c.id="<document start>",O.inherits(h,o),h.id="<document end>",O.inherits(l,o),l.id="<stream start>",O.inherits(u,o),u.id="<stream end>",O.inherits(p,o),p.id="<block sequence start>",O.inherits(f,o),f.id="<block mapping start>",O.inherits(d,o),d.id="<block end>",O.inherits(k,o),k.id="[",O.inherits(m,o),m.id="{",O.inherits(g,o),g.id="]",O.inherits(y,o),y.id="}",O.inherits(w,o),w.id="?",O.inherits(v,o),v.id=":",O.inherits(S,o),S.id="-",O.inherits(M,o),M.id=",",O.inherits(x,o),x.id="<alias>",O.inherits(E,o),E.id="<anchor>",O.inherits(T,o),T.id="<tag>",O.inherits(b,o),T.id="<scalar>",e.exports.DirectiveToken=a,e.exports.DocumentStartToken=c,e.exports.DocumentEndToken=h,e.exports.StreamStartToken=l,e.exports.StreamEndToken=u,e.exports.BlockSequenceStartToken=p,e.exports.BlockMappingStartToken=f,e.exports.BlockEndToken=d,e.exports.FlowSequenceStartToken=k,e.exports.FlowMappingStartToken=m,e.exports.FlowSequenceEndToken=g,e.exports.FlowMappingEndToken=y,e.exports.KeyToken=w,e.exports.ValueToken=v,e.exports.BlockEntryToken=S,e.exports.FlowEntryToken=M,e.exports.AliasToken=x,e.exports.AnchorToken=E,e.exports.TagToken=T,e.exports.ScalarToken=b}),t.define("/lib/js-yaml/parser.js",function(t,e,n,r,i,s){"use strict";function o(){h.MarkedYAMLError.apply(this,arguments),this.name="ParserError"}function a(){this.currentEvent=null,this.yamlVersion=null,this.tagHandles={},this.states=[],this.marks=[],this.state=this.parseStreamStart.bind(this)}var c=t("./common"),h=t("./errors"),l=t("./tokens"),u=t("./events");c.inherits(o,h.MarkedYAMLError);var p={"!":"!","!!":"tag:yaml.org,2002:"};a.prototype.dispose=function(){this.states=[],this.state=null},a.prototype.checkEvent=function(){var t;if(null===this.currentEvent&&!!this.state&&(this.currentEvent=this.state()),null!==this.currentEvent){if(0===arguments.length)return!0;for(t=0;t<arguments.length;t+=1)if(c.isInstanceOf(this.currentEvent,arguments[t]))return!0}return!1},a.prototype.peekEvent=function(){return null===this.currentEvent&&!!this.state&&(this.currentEvent=this.state()),this.currentEvent},a.prototype.getEvent=function(){var t;return null===this.currentEvent&&!!this.state&&(this.currentEvent=this.state()),t=this.currentEvent,this.currentEvent=null,t},a.prototype.parseStreamStart=function(){var t,e;return t=this.getToken(),e=new u.StreamStartEvent(t.startMark,t.endMark,t.encoding),this.state=this.parseImplicitDocumentStart.bind(this),e},a.prototype.parseImplicitDocumentStart=function(){var t,e;return this.checkToken(l.DirectiveToken,l.DocumentStartToken,l.StreamEndToken)?this.parseDocumentStart():(this.tagHandles=p,t=this.peekToken(),e=new u.DocumentStartEvent(t.startMark,t.startMark,!1),this.states.push(this.parseDocumentEnd.bind(this)),this.state=this.parseBlockNode.bind(this),e)},a.prototype.parseDocumentStart=function(){for(var t,e,n,r,i,s;this.checkToken(l.DocumentEndToken);)this.getToken();if(this.checkToken(l.StreamEndToken)){if(t=this.getToken(),e=new u.StreamEndEvent(t.startMark,t.endMark),this.states&&this.states.length)throw new h.YAMLError("States supposed to be empty");if(this.marks&&this.marks.length)throw new h.YAMLError("Marks supposed to be empty");return this.state=null,e}if(t=this.peekToken(),i=t.startMark,s=this.processDirectives(),n=s.shift(),r=s.shift(),!this.checkToken(l.DocumentStartToken))throw new o(null,null,"expected '<document start>', but found "+this.peekToken().constructor.id,this.peekToken().startMark);return t=this.getToken(),e=new u.DocumentStartEvent(i,t.endMark,!0,n,r),this.states.push(this.parseDocumentEnd.bind(this)),this.state=this.parseDocumentContent.bind(this),e},a.prototype.parseDocumentEnd=function(){var t,e,n,r,i;return t=this.peekToken(),r=i=t.startMark,n=!1,this.checkToken(l.DocumentEndToken)&&(t=this.getToken(),i=t.endMark,n=!0),e=new u.DocumentEndEvent(r,i,n),this.state=this.parseDocumentStart.bind(this),e},a.prototype.parseDocumentContent=function(){var t;return this.checkToken(l.DirectiveToken,l.DocumentStartToken,l.DocumentEndToken,l.StreamEndToken)?(t=this.processEmptyScalar(this.peekToken().startMark),this.state=this.states.pop(),t):this.parseBlockNode()},a.prototype.processDirectives=function(){var t,e,n,r;for(this.yamlVersion=null,this.tagHandles={};this.checkToken(l.DirectiveToken);)if(t=this.getToken(),"YAML"===t.name){if(null!==this.yamlVersion)throw new o(null,null,"found duplicate YAML directive",t.startMark);if(1!==+t.value[0])throw new o(null,null,"found incompatible YAML document (version 1.* is required)",t.startMark);this.yamlVersion=t.value}else if("TAG"===t.name){if(e=t.value[0],n=t.value[1],void 0!==this.tagHandles[e])throw new o(null,null,"duplicate tag handle "+e,t.startMark);this.tagHandles[e]=n}return Object.getOwnPropertyNames(this.tagHandles).length?(r=[this.yamlVersion,{}],Object.getOwnPropertyNames(this.tagHandles).forEach(function(t){r[1][t]=this.tagHandles[t]}.bind(this))):r=[this.yamlVersion,null],Object.getOwnPropertyNames(p).forEach(function(t){void 0===this.tagHandles[t]&&(this.tagHandles[t]=p[t])}.bind(this)),r},a.prototype.parseBlockNode=function(){return this.parseNode(!0)},a.prototype.parseFlowNode=function(){return this.parseNode()},a.prototype.parseBlockNodeOrIndentlessSequence=function(){return this.parseNode(!0,!0)},a.prototype.parseNode=function(t,e){var n,r,i,s,a,c,h=null,p=null,f=null,d=null,k=null;if(t=t||!1,e=e||!1,this.checkToken(l.AliasToken))n=this.getToken(),r=new u.AliasEvent(n.value,n.startMark,n.endMark),this.state=this.states.pop();else{if(h=null,p=null,f=i=s=null,this.checkToken(l.AnchorToken)?(n=this.getToken(),f=n.startMark,i=n.endMark,h=n.value,this.checkToken(l.TagToken)&&(n=this.getToken(),s=n.startMark,i=n.endMark,p=n.value)):this.checkToken(l.TagToken)&&(n=this.getToken(),f=s=n.startMark,i=n.endMark,p=n.value,this.checkToken(l.AnchorToken)&&(n=this.getToken(),i=n.endMark,h=n.value)),null!==p)if(d=p[0],k=p[1],null===d)p=k;else{if(void 0===this.tagHandles[d])throw new o("while parsing a node",f,"found undefined tag handle "+d,s);p=this.tagHandles[d]+k}if(null===f&&(f=i=this.peekToken().startMark),r=null,a=null===p||"!"===p,e&&this.checkToken(l.BlockEntryToken))i=this.peekToken().endMark,r=new u.SequenceStartEvent(h,p,a,f,i),this.state=this.parseIndentlessSequenceEntry.bind(this);else if(this.checkToken(l.ScalarToken))n=this.getToken(),i=n.endMark,a=n.plain&&null===p||"!"===p?[!0,!1]:null===p?[!1,!0]:[!1,!1],r=new u.ScalarEvent(h,p,a,n.value,f,i,n.style),this.state=this.states.pop();else if(this.checkToken(l.FlowSequenceStartToken))i=this.peekToken().endMark,r=new u.SequenceStartEvent(h,p,a,f,i,!0),this.state=this.parseFlowSequenceFirstEntry.bind(this);else if(this.checkToken(l.FlowMappingStartToken))i=this.peekToken().endMark,r=new u.MappingStartEvent(h,p,a,f,i,!0),this.state=this.parseFlowMappingFirstKey.bind(this);else if(t&&this.checkToken(l.BlockSequenceStartToken))i=this.peekToken().startMark,r=new u.SequenceStartEvent(h,p,a,f,i,!1),this.state=this.parseBlockSequenceFirstEntry.bind(this);else if(t&&this.checkToken(l.BlockMappingStartToken))i=this.peekToken().startMark,r=new u.MappingStartEvent(h,p,a,f,i,!1),this.state=this.parseBlockMappingFirstKey.bind(this);else{if(null===h&&null===p)throw c=t?"block":"flow",n=this.peekToken(),new o("while parsing a "+c+" node",f,"expected the node content, but found "+n.constructor.id,n.startMark);r=new u.ScalarEvent(h,p,[a,!1],"",f,i),this.state=this.states.pop()}}return r},a.prototype.parseBlockSequenceFirstEntry=function(){var t=this.getToken();return this.marks.push(t.startMark),this.parseBlockSequenceEntry()},a.prototype.parseBlockSequenceEntry=function(){var t,e;if(this.checkToken(l.BlockEntryToken))return t=this.getToken(),this.checkToken(l.BlockEntryToken,l.BlockEndToken)?(this.state=this.parseBlockSequenceEntry.bind(this),this.processEmptyScalar(t.endMark)):(this.states.push(this.parseBlockSequenceEntry.bind(this)),this.parseBlockNode());if(!this.checkToken(l.BlockEndToken))throw t=this.peekToken(),new o("while parsing a block collection",this.marks[this.marks.length-1],"expected <block end>, but found "+t.constructor.id,t.startMark);return t=this.getToken(),e=new u.SequenceEndEvent(t.startMark,t.endMark),this.state=this.states.pop(),this.marks.pop(),e},a.prototype.parseIndentlessSequenceEntry=function(){var t,e;return this.checkToken(l.BlockEntryToken)?(t=this.getToken(),this.checkToken(l.BlockEntryToken,l.KeyToken,l.ValueToken,l.BlockEndToken)?(this.state=this.parseIndentlessSequenceEntry.bind(this),this.processEmptyScalar(t.endMark)):(this.states.push(this.parseIndentlessSequenceEntry.bind(this)),this.parseBlockNode())):(t=this.peekToken(),e=new u.SequenceEndEvent(t.startMark,t.startMark),this.state=this.states.pop(),e)},a.prototype.parseBlockMappingFirstKey=function(){var t=this.getToken();return this.marks.push(t.startMark),this.parseBlockMappingKey()},a.prototype.parseBlockMappingKey=function(){var t,e;if(this.checkToken(l.KeyToken))return t=this.getToken(),this.checkToken(l.KeyToken,l.ValueToken,l.BlockEndToken)?(this.state=this.parseBlockMappingValue.bind(this),this.processEmptyScalar(t.endMark)):(this.states.push(this.parseBlockMappingValue.bind(this)),this.parseBlockNodeOrIndentlessSequence());if(!this.checkToken(l.BlockEndToken))throw t=this.peekToken(),new o("while parsing a block mapping",this.marks[this.marks.length-1],"expected <block end>, but found "+t.constructor.id,t.startMark);return t=this.getToken(),e=new u.MappingEndEvent(t.startMark,t.endMark),this.state=this.states.pop(),this.marks.pop(),e},a.prototype.parseBlockMappingValue=function(){var t;return this.checkToken(l.ValueToken)?(t=this.getToken(),this.checkToken(l.KeyToken,l.ValueToken,l.BlockEndToken)?(this.state=this.parseBlockMappingKey.bind(this),this.processEmptyScalar(t.endMark)):(this.states.push(this.parseBlockMappingKey.bind(this)),this.parseBlockNodeOrIndentlessSequence())):(this.state=this.parseBlockMappingKey.bind(this),t=this.peekToken(),this.processEmptyScalar(t.startMark))},a.prototype.parseFlowSequenceFirstEntry=function(){var t=this.getToken();return this.marks.push(t.startMark),this.parseFlowSequenceEntry(!0)},a.prototype.parseFlowSequenceEntry=function(t){var e,n;if(t=t||!1,!this.checkToken(l.FlowSequenceEndToken)){if(!t){if(!this.checkToken(l.FlowEntryToken))throw e=this.peekToken(),new o("while parsing a flow sequence",this.marks[this.marks.length-1],"expected ',' or ']', but got "+e.constructor.id,e.startMark);this.getToken()}if(this.checkToken(l.KeyToken))return e=this.peekToken(),n=new u.MappingStartEvent(null,null,!0,e.startMark,e.endMark,!0),this.state=this.parseFlowSequenceEntryMappingKey.bind(this),n;if(!this.checkToken(l.FlowSequenceEndToken))return this.states.push(this.parseFlowSequenceEntry.bind(this)),this.parseFlowNode()}return e=this.getToken(),n=new u.SequenceEndEvent(e.startMark,e.endMark),this.state=this.states.pop(),this.marks.pop(),n},a.prototype.parseFlowSequenceEntryMappingKey=function(){var t=this.getToken();return this.checkToken(l.ValueToken,l.FlowEntryToken,l.FlowSequenceEndToken)?(this.state=this.parseFlowSequenceEntryMappingValue.bind(this),this.processEmptyScalar(t.endMark)):(this.states.push(this.parseFlowSequenceEntryMappingValue.bind(this)),this.parseFlowNode())},a.prototype.parseFlowSequenceEntryMappingValue=function(){var t;return this.checkToken(l.ValueToken)?(t=this.getToken(),this.checkToken(l.FlowEntryToken,l.FlowSequenceEndToken)?(this.state=this.parseFlowSequenceEntryMappingEnd.bind(this),this.processEmptyScalar(t.endMark)):(this.states.push(this.parseFlowSequenceEntryMappingEnd.bind(this)),this.parseFlowNode())):(this.state=this.parseFlowSequenceEntryMappingEnd.bind(this),t=this.peekToken(),this.processEmptyScalar(t.startMark))},a.prototype.parseFlowSequenceEntryMappingEnd=function(){var t;return this.state=this.parseFlowSequenceEntry.bind(this),t=this.peekToken(),new u.MappingEndEvent(t.startMark,t.startMark)},a.prototype.parseFlowMappingFirstKey=function(){var t=this.getToken();return this.marks.push(t.startMark),this.parseFlowMappingKey(!0)},a.prototype.parseFlowMappingKey=function(t){var e,n;if(t=t||!1,!this.checkToken(l.FlowMappingEndToken)){if(!t){if(!this.checkToken(l.FlowEntryToken))throw e=this.peekToken(),new o("while parsing a flow mapping",this.marks[this.marks.length-1],"expected ',' or '}', but got "+e.constructor.id,e.startMark);this.getToken()}if(this.checkToken(l.KeyToken))return e=this.getToken(),this.checkToken(l.ValueToken,l.FlowEntryToken,l.FlowMappingEndToken)?(this.state=this.parseFlowMappingValue.bind(this),this.processEmptyScalar(e.endMark)):(this.states.push(this.parseFlowMappingValue.bind(this)),this.parseFlowNode());if(!this.checkToken(l.FlowMappingEndToken))return this.states.push(this.parseFlowMappingEmptyValue.bind(this)),this.parseFlowNode()}return e=this.getToken(),n=new u.MappingEndEvent(e.startMark,e.endMark),this.state=this.states.pop(),this.marks.pop(),n},a.prototype.parseFlowMappingValue=function(){var t;return this.checkToken(l.ValueToken)?(t=this.getToken(),this.checkToken(l.FlowEntryToken,l.FlowMappingEndToken)?(this.state=this.parseFlowMappingKey.bind(this),this.processEmptyScalar(t.endMark)):(this.states.push(this.parseFlowMappingKey.bind(this)),this.parseFlowNode())):(this.state=this.parseFlowMappingKey.bind(this),t=this.peekToken(),this.processEmptyScalar(t.startMark))},a.prototype.parseFlowMappingEmptyValue=function(){return this.state=this.parseFlowMappingKey.bind(this),this.processEmptyScalar(this.peekToken().startMark)},a.prototype.processEmptyScalar=function(t){return new u.ScalarEvent(null,null,[!0,!1],"",t,t)},e.exports.Parser=a}),t.define("/lib/js-yaml/events.js",function(t,e,n,r,i,s){"use strict";function o(t,e){this.startMark=t||null,this.endMark=e||null}function a(t,e,n){o.call(this,e,n),this.anchor=t}function c(t,e,n,r,i,s){a.call(this,t,r,i),this.tag=e,this.implicit=n,this.flowStyle=s||null}function h(){o.apply(this,arguments)}function l(t,e,n){o.call(this,t,e),this.encoding=n||null}function u(){o.apply(this,arguments)}function p(t,e,n,r,i){o.call(this,t,e),this.explicit=n||null,this.version=r||null,this.tags=i||null}function f(t,e,n){o.call(this,t,e),this.explicit=n||null}function d(){a.apply(this,arguments)}function k(t,e,n,r,i,s,o){a.call(this,t,i,s),this.tag=e,this.implicit=n,this.value=r,this.style=o||null}function m(){c.apply(this,arguments)}function g(){h.apply(this,arguments)}function y(){c.apply(this,arguments)}function w(){h.apply(this,arguments)}var v=t("./common"),S=["anchor","tag","implicit","value"];o.prototype.hash=o.prototype.toString=function(){var t=this,e=[];return Object.getOwnPropertyNames(this).forEach(function(n){0<=S.indexOf(n)&&e.push(n+"="+t[n])}),this.constructor.name+"("+e.join(", ")+")"},v.inherits(a,o),v.inherits(c,a),v.inherits(h,o),v.inherits(l,o),v.inherits(u,o),v.inherits(p,o),v.inherits(f,o),v.inherits(d,a),v.inherits(k,a),v.inherits(m,c),v.inherits(g,h),v.inherits(y,c),v.inherits(w,h),e.exports.NodeEvent=a,e.exports.CollectionStartEvent=c,e.exports.CollectionEndEvent=h,e.exports.StreamStartEvent=l,e.exports.StreamEndEvent=u,e.exports.DocumentStartEvent=p,e.exports.DocumentEndEvent=f,e.exports.AliasEvent=d,e.exports.ScalarEvent=k,e.exports.SequenceStartEvent=m,e.exports.SequenceEndEvent=g,e.exports.MappingStartEvent=y,e.exports.MappingEndEvent=w}),t.define("/lib/js-yaml/composer.js",function(t,e,n,r,i,s){"use strict";function o(){u.MarkedYAMLError.apply(this,arguments),this.name="ComposerError"}function a(){this.anchors={}}var c=t("./common"),h=t("./nodes"),l=t("./events"),u=t("./errors");c.inherits(o,u.MarkedYAMLError),a.prototype.checkNode=function(){return this.checkEvent(l.StreamStartEvent)&&this.getEvent(),!this.checkEvent(l.StreamEndEvent)},a.prototype.getNode=function(){return this.checkEvent(l.StreamEndEvent)?null:this.composeDocument()},a.prototype.getSingleNode=function(){var t=null;if(this.getEvent(),this.checkEvent(l.StreamEndEvent)||(t=this.composeDocument()),!this.checkEvent(l.StreamEndEvent))throw new o("expected a single document in the stream",t.startMark,"but found another document",this.getEvent().startMark);return this.getEvent(),t},a.prototype.composeDocument=function(){var t;return this.getEvent(),t=this.composeNode(null,null),this.getEvent(),this.anchors={},t},a.prototype.composeNode=function(){var t,e,n=null;if(this.checkEvent(l.AliasEvent)){if(t=this.getEvent(),e=t.anchor,void 0===this.anchors[e])throw new o(null,null,"found undefined alias "+e,t.startMark);return this.anchors[e]}if(t=this.peekEvent(),e=t.anchor,null!==e&&void 0!==this.anchors[e])throw new o("found duplicate anchor "+e+"; first occurence",this.anchors[e].startMark,"second occurence",t.startMark);return this.checkEvent(l.ScalarEvent)?n=this.composeScalarNode(e):this.checkEvent(l.SequenceStartEvent)?n=this.composeSequenceNode(e):this.checkEvent(l.MappingStartEvent)&&(n=this.composeMappingNode(e)),n},a.prototype.composeScalarNode=function(t){var e,n,r;return e=this.getEvent(),n=e.tag,null===n?n=this.resolve(h.ScalarNode,e.value,e.implicit):"!"===n&&(n=this.resolve(h.ScalarNode,e.value,!1)),r=new h.ScalarNode(n,e.value,e.startMark,e.endMark,e.style),null!==t&&(this.anchors[t]=r),r},a.prototype.composeSequenceNode=function(t){var e,n,r,i,s;for(e=this.getEvent(),n=e.tag,null===n?n=this.resolve(h.SequenceNode,null,e.implicit):"!"===n&&(n=this.resolve(h.SequenceNode,null,!1)),r=new h.SequenceNode(n,[],e.startMark,null,e.flowStyle),null!==t&&(this.anchors[t]=r),i=0;!this.checkEvent(l.SequenceEndEvent);)r.value.push(this.composeNode(r,i)),i+=1;return s=this.getEvent(),r.endMark=s.endMark,r},a.prototype.composeMappingNode=function(t){var e,n,r,i,s,o;for(e=this.getEvent(),n=e.tag,null===n?n=this.resolve(h.MappingNode,null,e.implicit):"!"===n&&(n=this.resolve(h.MappingNode,null,!1)),r=new h.MappingNode(n,[],e.startMark,null,e.flowStyle),null!==t&&(this.anchors[t]=r);!this.checkEvent(l.MappingEndEvent);)i=this.composeNode(r,null),s=this.composeNode(r,i),r.value.push([i,s]);return o=this.getEvent(),r.endMark=o.endMark,r},e.exports.Composer=a}),t.define("/lib/js-yaml/nodes.js",function(t,e,n,r,i,s){"use strict";function o(t,e,n,r){this.tag=t,this.value=e,this.startMark=n||null,this.endMark=r||null}function a(t,e,n,r,i){o.call(this,t,e,n,r),this.style=i||null}function c(t,e,n,r,i){o.call(this,t,e,n,r),this.flowStyle=i||null}function h(){c.apply(this,arguments)}function l(){c.apply(this,arguments)}var u=t("./common");o.prototype.hash=o.prototype.toString=function(){var t=this.value.toString();return this.constructor.name+"("+this.tag+", "+t+")"},u.inherits(a,o),a.id="scalar",u.inherits(c,o),u.inherits(h,c),h.id="sequence",u.inherits(l,c),l.id="mapping",e.exports.ScalarNode=a,e.exports.SequenceNode=h,e.exports.MappingNode=l}),t.define("/lib/js-yaml/resolver.js",function(t,e,n,r,i,s){"use strict";function o(){this.resolverExactPaths=[],this.resolverPrefixPaths=[],this.yamlImplicitResolvers=o.yamlImplicitResolvers}function a(){o.apply(this,arguments),this.yamlImplicitResolvers=a.yamlImplicitResolvers}var c=t("./common"),h=t("./nodes"),l="tag:yaml.org,2002:str",u="tag:yaml.org,2002:seq",p="tag:yaml.org,2002:map";o.yamlImplicitResolvers={},o.addImplicitResolver=function(t,e,n){var r=this;void 0===n&&(n=[null]),n.forEach(function(n){void 0===r.yamlImplicitResolvers[n]&&(r.yamlImplicitResolvers[n]=[]),r.yamlImplicitResolvers[n].push([t,e])})},o.prototype.resolve=function(t,e,n){var r,i,s,o;if(t===h.ScalarNode&&n&&n[0])for(r=""===e?this.yamlImplicitResolvers[""]||[]:this.yamlImplicitResolvers[e.charAt(0)]||[],r=r.concat(this.yamlImplicitResolvers[null]||[]),i=0;i<r.length;i+=1)if(s=r[i][0],o=r[i][1],o.test(e))return s;return s=t===h.ScalarNode?l:t===h.SequenceNode?u:t===h.MappingNode?p:null},c.inherits(a,o),a.yamlImplicitResolvers={},a.addImplicitResolver=o.addImplicitResolver,a.addImplicitResolver("tag:yaml.org,2002:bool",new RegExp("^(?:true|True|TRUE|false|False|FALSE)$"),["t","T","f","F"]),a.addImplicitResolver("tag:yaml.org,2002:float",new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)\\.[0-9_]*(?:[eE][-+][0-9]+)?|\\.[0-9_]+(?:[eE][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),["-","+","0","1","2","3","4","5","6","7","8","9","."]),a.addImplicitResolver("tag:yaml.org,2002:int",new RegExp("^(?:[-+]?0b[0-1_]+|[-+]?0[0-7_]+|[-+]?(?:0|[1-9][0-9_]*)|[-+]?0x[0-9a-fA-F_]+|[-+]?[1-9][0-9_]*(?::[0-5]?[0-9])+)$"),["-","+","0","1","2","3","4","5","6","7","8","9"]),a.addImplicitResolver("tag:yaml.org,2002:merge",new RegExp("^(?:<<)$"),["<"]),a.addImplicitResolver("tag:yaml.org,2002:null",new RegExp("^(?:~|null|Null|NULL|)$"),["~","n","N",""]),a.addImplicitResolver("tag:yaml.org,2002:timestamp",new RegExp("^(?:[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]|[0-9][0-9][0-9][0-9]-[0-9][0-9]?-[0-9][0-9]?(?:[Tt]|[ \\t]+)[0-9][0-9]?:[0-9][0-9]:[0-9][0-9](?:\\.[0-9]*)?(?:[ \\t]*(?:Z|[-+][0-9][0-9]?(?::[0-9][0-9])?))?)$"),["0","1","2","3","4","5","6","7","8","9"]),a.addImplicitResolver("tag:yaml.org,2002:value",new RegExp("^(?:=)$"),["="]),a.addImplicitResolver("tag:yaml.org,2002:yaml",new RegExp("^(?:!|&|\\*)$"),["!","&","*"]),e.exports.BaseResolver=o,e.exports.Resolver=a}),t.define("/lib/js-yaml/constructor.js",function(t,e,n,r,i,s){"use strict";function o(){u.MarkedYAMLError.apply(this,arguments),this.name="ConstructorError"}function a(){this.constructedObjects=new l.Hash,this.recursiveObjects=new l.Hash,this.statePopulators=[],this.deepConstruct=!1,this.yamlConstructors=a.yamlConstructors}function c(){a.apply(this),this.yamlConstructors=c.yamlConstructors}function h(){c.apply(this),this.yamlConstructors=h.yamlConstructors}var l=t("./common"),u=t("./errors"),p=t("./nodes");l.inherits(o,u.MarkedYAMLError);var f={y:!0,yes:!0,n:!1,no:!1,"true":!0,"false":!1,on:!0,off:!1},d=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?)?$");a.yamlConstructors={},a.addConstructor=function(t,e){this.yamlConstructors[t]=e},a.prototype.checkData=function(){return this.checkNode()},a.prototype.getData=function(){return this.checkNode()?this.constructDocument(this.getNode()):void 0},a.prototype.getSingleData=function(){var t=this.getSingleNode();return null!==t?this.constructDocument(t):null},a.prototype.constructDocument=function(t){var e,n,r=this.constructObject(t);for(e=function(t){t.execute()};this.statePopulators.length;)n=this.statePopulators,this.statePopulators=[],n.forEach(e);return this.constructedObjects=new l.Hash,this.recursiveObjects=new l.Hash,this.deepConstruct=!1,r},a.prototype.constructObject=function(t,e){var n,r,i,s;if(this.constructedObjects.hasKey(t))return this.constructedObjects.get(t);if(!e||(r=this.deepConstruct,this.deepConstruct=!0),this.recursiveObjects.hasKey(t))throw new o(null,null,"found unconstructable recursive node",t.startMark);if(this.recursiveObjects.store(t,null),void 0!==this.yamlConstructors[t.tag])i=this.yamlConstructors[t.tag];else{if(void 0===this.yamlConstructors[null])throw new o(null,null,"can't find any constructor for tag="+t.tag,t.startMark);i=this.yamlConstructors[null]}return n=i.call(this,t),n instanceof l.Populator&&(s=n,n=s.data,this.deepConstruct?s.execute():this.statePopulators.push(s)),this.constructedObjects.store(t,n),this.recursiveObjects.remove(t),e&&(this.deepConstruct=r),n},a.prototype.constructScalar=function(t){if(!l.isInstanceOf(t,p.ScalarNode))throw new o(null,null,"expected a scalar node, but found "+t.id,t.startMark);return t.value},a.prototype.constructSequence=function(t,e){if(!l.isInstanceOf(t,p.SequenceNode))throw new o(null,null,"expected a sequence node, but found "+t.id,t.startMark);return t.value.map(function(t){return this.constructObject(t,e)},this)},a.prototype.constructMapping=function(t,e){var n;if(!l.isInstanceOf(t,p.MappingNode))throw new o(null,null,"expected a mapping node, but found "+t.id,t.startMark);return n={},l.each(t.value,function(t){var r,i,s=t[0],a=t[1];if(r=this.constructObject(s,e),void 0===s.hash)throw new o("while constructing a mapping",s.startMark,"found unhashable key",s.startMark);i=this.constructObject(a,e),n[r]=i},this),n},a.prototype.constructPairs=function(t,e){var n;if(!l.isInstanceOf(t,p.MappingNode))throw new o(null,null,"expected a mapping node, but found "+t.id,t.startMark);return n=[],l.each(t.value,function(t){var r,i;r=this.constructObject(t[0],e),i=this.constructObject(t[1],e),n.store(r,i)},this),n},l.inherits(c,a),c.yamlConstructors=l.extend({},a.yamlConstructors),c.addConstructor=a.addConstructor,c.prototype.constructScalar=function(t){var e;return l.isInstanceOf(t,p.MappingNode)&&(l.each(t.value,function(t){var n=t[0],r=t[1];"tag:yaml.org,2002:value"===n.tag&&(e=this.constructScalar(r))},this),void 0!==e)?e:a.prototype.constructScalar.call(this,t)},c.prototype.flattenMapping=function(t){var e,n,r,i,s,a,c=this,h=[],u=0;for(i=function(t){h.push(t)},s=function(t){t.forEach(i)},a=function(e){if(!l.isInstanceOf(e,p.MappingNode))throw new o("while constructing a mapping",t.startMark,"expected a mapping for merging, but found "+e.id,e.startMark);c.flattenMapping(e),r.push(e.value)};u<t.value.length;)if(e=t.value[u][0],n=t.value[u][1],"tag:yaml.org,2002:merge"===e.tag)if(t.value.splice(u,1),l.isInstanceOf(n,p.MappingNode))c.flattenMapping(n),l.each(n.value,i);else{if(!l.isInstanceOf(n,p.SequenceNode))throw new o("while constructing a mapping",t.startMark,"expected a mapping or list of mappings for merging, but found "+n.id,n.startMark);r=[],l.each(n.value,a),l.reverse(r).forEach(s)}else"tag:yaml.org,2002:value"===e.tag?(e.tag="tag:yaml.org,2002:str",u+=1):u+=1;!h.length||(l.each(t.value,function(t){h.push(t)}),t.value=h)},c.prototype.constructMapping=function(t){return l.isInstanceOf(t,p.MappingNode)&&this.flattenMapping(t),a.prototype.constructMapping.call(this,t)},c.prototype.constructYamlNull=function(t){return this.constructScalar(t),null},c.prototype.constructYamlBool=function(t){var e=this.constructScalar(t);return f[e.toLowerCase()]},c.prototype.constructYamlInt=function(t){var e,n=this.constructScalar(t).replace(/_/g,""),r="-"===n[0]?-1:1,i=[];return 0<="+-".indexOf(n[0])&&(n=n.slice(1)),"0"===n?0:/^0b/.test(n)?r*parseInt(n.slice(2),2):/^0x/.test(n)?r*parseInt(n,16):"0"===n[0]?r*parseInt(n,8):0<=n.indexOf(":")?(n.split(":").forEach(function(t){i.unshift(parseInt(t,10))}),n=0,e=1,i.forEach(function(t){n+=t*e,e*=60}),r*n):r*parseInt(n,10)},c.prototype.constructYamlFloat=function(t){var e,n=this.constructScalar(t).replace(/_/g,""),r="-"===n[0]?-1:1,i=[];return 0<="+-".indexOf(n[0])&&(n=n.slice(1)),".inf"===n?1===r?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===n?0/0:0<=n.indexOf(":")?(n.split(":").forEach(function(t){i.unshift(parseFloat(t,10))}),n=0,e=1,i.forEach(function(t){n+=t*e,e*=60}),r*n):r*parseFloat(n,10)},c.prototype.constructYamlBinary=function(t){try{return l.decodeBase64(this.constructScalar(t))}catch(e){throw new o(null,null,"failed to decode base64 data: "+e.toString(),t.startMark)}},c.prototype.constructYamlTimestamp=function(t){var e,n,r,i,s,o,a,c,h,l,u=0,p=null;if(e=d.exec(this.constructScalar(t)),n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(s=+e[4],o=+e[5],a=+e[6],e[7]){for(u=e[7].slice(0,3);u.length<3;)u+="0";u=+u}return!e[9]||(c=+e[10],h=+(e[11]||0),p=6e4*(60*c+h),"-"===e[9]&&(p=-p)),l=new Date(Date.UTC(n,r,i,s,o,a,u)),!p||l.setTime(l.getTime()-p),l},c.prototype.constructYamlOmap=function(t){var e=this,n=[];return l.Populator(n,function(){if(!l.isInstanceOf(t,p.SequenceNode))throw new o("while constructing an ordered map",t.startMark,"expected a sequence, but found "+t.id,t.startMark);t.value.forEach(function(r){var i,s,a;if(!l.isInstanceOf(r,p.MappingNode))throw new o("while constructing an ordered map",t.startMark,"expected a mapping of length 1, but found "+r.id,r.startMark);if(1!==r.value.length)throw new o("while constructing an ordered map",t.startMark,"expected a single mapping item, but found "+r.value.length+" items",r.startMark);s=e.constructObject(r.value[0][0]),a=e.constructObject(r.value[0][1]),i=Object.create(null),i[s]=a,n.push(i)})})},c.prototype.constructYamlPairs=function(t){var e=this,n=[];return l.Populator(n,function(){if(!l.isInstanceOf(t,p.SequenceNode))throw new o("while constructing pairs",t.startMark,"expected a sequence, but found "+t.id,t.startMark);

t.value.forEach(function(r){var i,s;if(!l.isInstanceOf(r,p.MappingNode))throw new o("while constructing pairs",t.startMark,"expected a mapping of length 1, but found "+r.id,r.startMark);if(1!==r.value.length)throw new o("while constructing pairs",t.startMark,"expected a single mapping item, but found "+r.value.length+" items",r.startMark);i=e.constructObject(r.value[0][0]),s=e.constructObject(r.value[0][1]),n.push([i,s])})})},c.prototype.constructYamlSet=function(t){var e={};return l.Populator(e,function(){l.extend(e,this.constructMapping(t))},this)},c.prototype.constructYamlStr=function(t){return this.constructScalar(t)},c.prototype.constructYamlSeq=function(t){var e=[];return l.Populator(e,function(){this.constructSequence(t).forEach(function(t){e.push(t)})},this)},c.prototype.constructYamlMap=function(t){var e={};return l.Populator(e,function(){l.extend(e,this.constructMapping(t,!0))},this)},c.prototype.constructUndefined=function(t){throw new o(null,null,"could not determine constructor for the tag "+t.tag,t.startMark)},c.addConstructor("tag:yaml.org,2002:null",c.prototype.constructYamlNull),c.addConstructor("tag:yaml.org,2002:bool",c.prototype.constructYamlBool),c.addConstructor("tag:yaml.org,2002:int",c.prototype.constructYamlInt),c.addConstructor("tag:yaml.org,2002:float",c.prototype.constructYamlFloat),c.addConstructor("tag:yaml.org,2002:binary",c.prototype.constructYamlBinary),c.addConstructor("tag:yaml.org,2002:timestamp",c.prototype.constructYamlTimestamp),c.addConstructor("tag:yaml.org,2002:omap",c.prototype.constructYamlOmap),c.addConstructor("tag:yaml.org,2002:pairs",c.prototype.constructYamlPairs),c.addConstructor("tag:yaml.org,2002:set",c.prototype.constructYamlSet),c.addConstructor("tag:yaml.org,2002:str",c.prototype.constructYamlStr),c.addConstructor("tag:yaml.org,2002:seq",c.prototype.constructYamlSeq),c.addConstructor("tag:yaml.org,2002:map",c.prototype.constructYamlMap),c.addConstructor(null,c.prototype.constructUndefined),l.inherits(h,c),h.yamlConstructors=l.extend({},c.yamlConstructors),h.addConstructor=c.addConstructor,h.prototype.constructJavascriptRegExp=function(t){var e,n=this.constructScalar(t),r=/\/([gim]*)$/.exec(n);return"/"===n[0]&&!!r&&4>=r[0].length&&(n=n.slice(1,n.length-r[0].length),e=r[1]),new RegExp(n,e)},h.prototype.constructJavascriptUndefined=function(){var t;return t},h.prototype.constructJavascriptFunction=function(t){var e=new Function("return "+this.constructScalar(t));return e()},h.addConstructor("tag:yaml.org,2002:js/undefined",h.prototype.constructJavascriptUndefined),h.addConstructor("tag:yaml.org,2002:js/regexp",h.prototype.constructJavascriptRegExp),h.addConstructor("tag:yaml.org,2002:js/function",h.prototype.constructJavascriptFunction),e.exports.BaseConstructor=a,e.exports.SafeConstructor=c,e.exports.Constructor=h}),t("./index")}();;
/** @license
 * marked - a markdown parser
 * Copyright (c) 2011-2013, Christopher Jeffrey. (MIT Licensed)
 * https://github.com/chjj/marked
 */
(function(){function t(t){this.tokens=[],this.tokens.links={},this.options=t||h.defaults,this.rules=o.normal,this.options.gfm&&(this.rules=this.options.tables?o.tables:o.gfm)}function e(t,e){if(this.options=e||h.defaults,this.links=t,this.rules=a.normal,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?a.breaks:a.gfm:this.options.pedantic&&(this.rules=a.pedantic)}function s(t){this.tokens=[],this.token=null,this.options=t||h.defaults}function n(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function i(t,e){return t=t.source,e=e||"",function s(n,i){return n?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),t=t.replace(n,i),s):new RegExp(t,e)}}function r(){}function l(t){for(var e,s,n=1;n<arguments.length;n++){e=arguments[n];for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t}function h(e,i,r){if(r||"function"==typeof i){r||(r=i,i=null),i&&(i=l({},h.defaults,i));var o,a,u=i.highlight,p=0;try{o=t.lex(e,i)}catch(g){return r(g)}a=o.length;var c=function(t){var e,n;t!==!0&&delete i.highlight;try{e=s.parse(o,i)}catch(l){n=l}return i.highlight=u,n?r(n):r(null,e)};if(!u||u.length<3)return c(!0);if(!a)return c();for(;p<o.length;p++)(function(t){return"code"!==t.type?--a||c():u(t.text,t.lang,function(e,s){return null==s||s===t.text?--a||c():(t.text=s,t.escaped=!0,--a||c(),void 0)})})(o[p])}else try{return i&&(i=l({},h.defaults,i)),s.parse(t.lex(e,i),i)}catch(g){if(g.message+="\nPlease report this to https://github.com/chjj/marked.",(i||h.defaults).silent)return"<p>An error occured:</p><pre>"+n(g.message+"",!0)+"</pre>";throw g}}var o={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:r,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:r,lheading:/^([^\n]+)\n *(=|-){3,} *\n*/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:r,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};o.bullet=/(?:[*+-]|\d+\.)/,o.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,o.item=i(o.item,"gm")(/bull/g,o.bullet)(),o.list=i(o.list)(/bull/g,o.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)(),o._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|@)\\b",o.html=i(o.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,o._tag)(),o.paragraph=i(o.paragraph)("hr",o.hr)("heading",o.heading)("lheading",o.lheading)("blockquote",o.blockquote)("tag","<"+o._tag)("def",o.def)(),o.normal=l({},o),o.gfm=l({},o.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),o.gfm.paragraph=i(o.paragraph)("(?!","(?!"+o.gfm.fences.source.replace("\\1","\\2")+"|")(),o.tables=l({},o.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=o,t.lex=function(e,s){var n=new t(s);return n.lex(e)},t.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},t.prototype.token=function(t,e){for(var s,n,i,r,l,h,a,u,p,t=t.replace(/^ +$/gm,"");t;)if((i=this.rules.newline.exec(t))&&(t=t.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(t))t=t.substring(i[0].length),i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?i:i.replace(/\n+$/,"")});else if(i=this.rules.fences.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"code",lang:i[2],text:i[3]});else if(i=this.rules.heading.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if(e&&(i=this.rules.nptable.exec(t))){for(t=t.substring(i[0].length),h={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/\n$/,"").split("\n")},u=0;u<h.align.length;u++)h.align[u]=/^ *-+: *$/.test(h.align[u])?"right":/^ *:-+: *$/.test(h.align[u])?"center":/^ *:-+ *$/.test(h.align[u])?"left":null;for(u=0;u<h.cells.length;u++)h.cells[u]=h.cells[u].split(/ *\| */);this.tokens.push(h)}else if(i=this.rules.lheading.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(i=this.rules.hr.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,e),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(t)){for(t=t.substring(i[0].length),r=i[2],this.tokens.push({type:"list_start",ordered:r.length>1}),i=i[0].match(this.rules.item),s=!1,p=i.length,u=0;p>u;u++)h=i[u],a=h.length,h=h.replace(/^ *([*+-]|\d+\.) +/,""),~h.indexOf("\n ")&&(a-=h.length,h=this.options.pedantic?h.replace(/^ {1,4}/gm,""):h.replace(new RegExp("^ {1,"+a+"}","gm"),"")),this.options.smartLists&&u!==p-1&&(l=o.bullet.exec(i[u+1])[0],r!==l&&!(r.length>1&&l.length>1)&&(t=i.slice(u+1).join("\n")+t,u=p-1)),n=s||/\n\n(?!\s*$)/.test(h),u!==p-1&&(s="\n"===h[h.length-1],n||(n=s)),this.tokens.push({type:n?"loose_item_start":"list_item_start"}),this.token(h,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(t))t=t.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===i[1]||"script"===i[1],text:i[0]});else if(e&&(i=this.rules.def.exec(t)))t=t.substring(i[0].length),this.tokens.links[i[1].toLowerCase()]={href:i[2],title:i[3]};else if(e&&(i=this.rules.table.exec(t))){for(t=t.substring(i[0].length),h={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/(?: *\| *)?\n$/,"").split("\n")},u=0;u<h.align.length;u++)h.align[u]=/^ *-+: *$/.test(h.align[u])?"right":/^ *:-+: *$/.test(h.align[u])?"center":/^ *:-+ *$/.test(h.align[u])?"left":null;for(u=0;u<h.cells.length;u++)h.cells[u]=h.cells[u].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(h)}else if(e&&(i=this.rules.paragraph.exec(t)))t=t.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1][i[1].length-1]?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(t))t=t.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var a={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:r,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:r,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};a._inside=/(?:\[[^\]]*\]|[^\]]|\](?=[^\[]*\]))*/,a._href=/\s*<?([^\s]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,a.link=i(a.link)("inside",a._inside)("href",a._href)(),a.reflink=i(a.reflink)("inside",a._inside)(),a.normal=l({},a),a.pedantic=l({},a.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),a.gfm=l({},a.normal,{escape:i(a.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:i(a.text)("]|","~]|")("|","|https?://|")()}),a.breaks=l({},a.gfm,{br:i(a.br)("{2,}","*")(),text:i(a.gfm.text)("{2,}","*")()}),e.rules=a,e.output=function(t,s,n){var i=new e(s,n);return i.output(t)},e.prototype.output=function(t){for(var e,s,i,r,l="";t;)if(r=this.rules.escape.exec(t))t=t.substring(r[0].length),l+=r[1];else if(r=this.rules.autolink.exec(t))t=t.substring(r[0].length),"@"===r[2]?(s=this.mangle(":"===r[1][6]?r[1].substring(7):r[1]),i=this.mangle("mailto:")+s):(s=n(r[1]),i=s),l+='<a href="'+i+'">'+s+"</a>";else if(r=this.rules.url.exec(t))t=t.substring(r[0].length),s=n(r[1]),i=s,l+='<a href="'+i+'">'+s+"</a>";else if(r=this.rules.tag.exec(t))t=t.substring(r[0].length),l+=this.options.sanitize?n(r[0]):r[0];else if(r=this.rules.link.exec(t))t=t.substring(r[0].length),l+=this.outputLink(r,{href:r[2],title:r[3]});else if((r=this.rules.reflink.exec(t))||(r=this.rules.nolink.exec(t))){if(t=t.substring(r[0].length),e=(r[2]||r[1]).replace(/\s+/g," "),e=this.links[e.toLowerCase()],!e||!e.href){l+=r[0][0],t=r[0].substring(1)+t;continue}l+=this.outputLink(r,e)}else if(r=this.rules.strong.exec(t))t=t.substring(r[0].length),l+="<strong>"+this.output(r[2]||r[1])+"</strong>";else if(r=this.rules.em.exec(t))t=t.substring(r[0].length),l+="<em>"+this.output(r[2]||r[1])+"</em>";else if(r=this.rules.code.exec(t))t=t.substring(r[0].length),l+="<code>"+n(r[2],!0)+"</code>";else if(r=this.rules.br.exec(t))t=t.substring(r[0].length),l+="<br>";else if(r=this.rules.del.exec(t))t=t.substring(r[0].length),l+="<del>"+this.output(r[1])+"</del>";else if(r=this.rules.text.exec(t))t=t.substring(r[0].length),l+=n(this.smartypants(r[0]));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return l},e.prototype.outputLink=function(t,e){return"!"!==t[0][0]?'<a href="'+n(e.href)+'"'+(e.title?' title="'+n(e.title)+'"':"")+">"+this.output(t[1])+"</a>":'<img src="'+n(e.href)+'" alt="'+n(t[1])+'"'+(e.title?' title="'+n(e.title)+'"':"")+">"},e.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/--/g,"—").replace(/'([^']*)'/g,"‘$1’").replace(/"([^"]*)"/g,"“$1”").replace(/\.{3}/g,"…"):t},e.prototype.mangle=function(t){for(var e,s="",n=t.length,i=0;n>i;i++)e=t.charCodeAt(i),Math.random()>.5&&(e="x"+e.toString(16)),s+="&#"+e+";";return s},s.parse=function(t,e){var n=new s(e);return n.parse(t)},s.prototype.parse=function(t){this.inline=new e(t.links,this.options),this.tokens=t.reverse();for(var s="";this.next();)s+=this.tok();return s},s.prototype.next=function(){return this.token=this.tokens.pop()},s.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},s.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},s.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return"<hr>\n";case"heading":return"<h"+this.token.depth+">"+this.inline.output(this.token.text)+"</h"+this.token.depth+">\n";case"code":if(this.options.highlight){var t=this.options.highlight(this.token.text,this.token.lang);null!=t&&t!==this.token.text&&(this.token.escaped=!0,this.token.text=t)}return this.token.escaped||(this.token.text=n(this.token.text,!0)),"<pre><code"+(this.token.lang?' class="'+this.options.langPrefix+this.token.lang+'"':"")+">"+this.token.text+"</code></pre>\n";case"table":var e,s,i,r,l,h="";for(h+="<thead>\n<tr>\n",s=0;s<this.token.header.length;s++)e=this.inline.output(this.token.header[s]),h+=this.token.align[s]?'<th align="'+this.token.align[s]+'">'+e+"</th>\n":"<th>"+e+"</th>\n";for(h+="</tr>\n</thead>\n",h+="<tbody>\n",s=0;s<this.token.cells.length;s++){for(i=this.token.cells[s],h+="<tr>\n",l=0;l<i.length;l++)r=this.inline.output(i[l]),h+=this.token.align[l]?'<td align="'+this.token.align[l]+'">'+r+"</td>\n":"<td>"+r+"</td>\n";h+="</tr>\n"}return h+="</tbody>\n","<table>\n"+h+"</table>\n";case"blockquote_start":for(var h="";"blockquote_end"!==this.next().type;)h+=this.tok();return"<blockquote>\n"+h+"</blockquote>\n";case"list_start":for(var o=this.token.ordered?"ol":"ul",h="";"list_end"!==this.next().type;)h+=this.tok();return"<"+o+">\n"+h+"</"+o+">\n";case"list_item_start":for(var h="";"list_item_end"!==this.next().type;)h+="text"===this.token.type?this.parseText():this.tok();return"<li>"+h+"</li>\n";case"loose_item_start":for(var h="";"list_item_end"!==this.next().type;)h+=this.tok();return"<li>"+h+"</li>\n";case"html":return this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);case"paragraph":return"<p>"+this.inline.output(this.token.text)+"</p>\n";case"text":return"<p>"+this.parseText()+"</p>\n"}},r.exec=r,h.options=h.setOptions=function(t){return l(h.defaults,t),h},h.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1},h.Parser=s,h.parser=s.parse,h.Lexer=t,h.lexer=t.lex,h.InlineLexer=e,h.inlineLexer=e.output,h.parse=h,"object"==typeof exports?module.exports=h:"function"==typeof define&&define.amd?define(function(){return h}):this.marked=h}).call(function(){return this||("undefined"!=typeof window?window:global)}());;
/** @license
Copyright (C) 2014 by Marijn Haverbeke <marijnh@gmail.com> and others

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/
window.CodeMirror=function(){"use strict";function t(r,n){if(!(this instanceof t))return new t(r,n);this.options=n=n||{};for(var i in ri)!n.hasOwnProperty(i)&&ri.hasOwnProperty(i)&&(n[i]=ri[i]);h(n);var o="string"==typeof n.value?0:n.value.first,l=this.display=e(r,o);l.wrapper.CodeMirror=this,c(this),n.autofocus&&!In&&ht(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,draggingText:!1,highlight:new jr},a(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");var s=n.value;"string"==typeof s&&(s=new gi(n.value,n.mode)),it(this,sr)(this,s),kn&&setTimeout(Jr(ft,this,!0),20),pt(this);var u;try{u=document.activeElement==l.input}catch(f){}u||n.autofocus&&!In?setTimeout(Jr(Ht,this),20):Wt(this),it(this,function(){for(var t in ei)ei.propertyIsEnumerable(t)&&ei[t](this,n[t],ni);for(var e=0;e<ai.length;++e)ai[e](this)})()}function e(t,e){var r={},n=r.input=en("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none; font-size: 4px;");return Sn?n.style.width="1000px":n.setAttribute("wrap","off"),zn&&(n.style.border="1px solid black"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck","false"),r.inputDiv=en("div",[n],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),r.scrollbarH=en("div",[en("div",null,null,"height: 1px")],"CodeMirror-hscrollbar"),r.scrollbarV=en("div",[en("div",null,null,"width: 1px")],"CodeMirror-vscrollbar"),r.scrollbarFiller=en("div",null,"CodeMirror-scrollbar-filler"),r.gutterFiller=en("div",null,"CodeMirror-gutter-filler"),r.lineDiv=en("div",null,"CodeMirror-code"),r.selectionDiv=en("div",null,null,"position: relative; z-index: 1"),r.cursor=en("div"," ","CodeMirror-cursor"),r.otherCursor=en("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"),r.measure=en("div",null,"CodeMirror-measure"),r.lineSpace=en("div",[r.measure,r.selectionDiv,r.lineDiv,r.cursor,r.otherCursor],null,"position: relative; outline: none"),r.mover=en("div",[en("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=en("div",[r.mover],"CodeMirror-sizer"),r.heightForcer=en("div",null,null,"position: absolute; height: "+Ci+"px; width: 1px;"),r.gutters=en("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=en("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=en("div",[r.inputDiv,r.scrollbarH,r.scrollbarV,r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),Ln&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),t.appendChild?t.appendChild(r.wrapper):t(r.wrapper),zn&&(n.style.width="0px"),Sn||(r.scroller.draggable=!0),Wn?(r.inputDiv.style.height="1px",r.inputDiv.style.position="absolute"):Ln&&(r.scrollbarH.style.minWidth=r.scrollbarV.style.minWidth="18px"),r.viewOffset=r.lastSizeC=0,r.showingFrom=r.showingTo=e,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.prevInput="",r.alignWidgets=!1,r.pollingFast=!1,r.poll=new jr,r.cachedCharWidth=r.cachedTextHeight=null,r.measureLineCache=[],r.measureLineCachePos=0,r.inaccurateSelection=!1,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r}function r(e){e.doc.mode=t.getMode(e.options,e.doc.modeOption),e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.frontier=e.doc.first,W(e,100),e.state.modeGen++,e.curOp&&at(e)}function n(t){t.options.lineWrapping?(t.display.wrapper.className+=" CodeMirror-wrap",t.display.sizer.style.minWidth=""):(t.display.wrapper.className=t.display.wrapper.className.replace(" CodeMirror-wrap",""),f(t)),o(t),at(t),K(t),setTimeout(function(){d(t)},100)}function i(t){var e=tt(t.display),r=t.options.lineWrapping,n=r&&Math.max(5,t.display.scroller.clientWidth/et(t.display)-3);return function(i){return Fe(t.doc,i)?0:r?(Math.ceil(i.text.length/n)||1)*e:e}}function o(t){var e=t.doc,r=i(t);e.iter(function(t){var e=r(t);e!=t.height&&hr(t,e)})}function l(t){var e=ui[t.options.keyMap],r=e.style;t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(r?" cm-keymap-"+r:""),t.state.disableInput=e.disableInput}function a(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),K(t)}function s(t){c(t),at(t),setTimeout(function(){m(t)},20)}function c(t){var e=t.display.gutters,r=t.options.gutters;rn(e);for(var n=0;n<r.length;++n){var i=r[n],o=e.appendChild(en("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=n?"":"none"}function u(t,e){if(0==e.height)return 0;for(var r,n=e.text.length,i=e;r=ze(i);){var o=r.find();i=cr(t,o.from.line),n+=o.from.ch-o.to.ch}for(i=e;r=Ie(i);){var o=r.find();n-=i.text.length-o.from.ch,i=cr(t,o.to.line),n+=i.text.length-o.to.ch}return n}function f(t){var e=t.display,r=t.doc;e.maxLine=cr(r,r.first),e.maxLineLength=u(r,e.maxLine),e.maxLineChanged=!0,r.iter(function(t){var n=u(r,t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}function h(t){for(var e=!1,r=0;r<t.gutters.length;++r)"CodeMirror-linenumbers"==t.gutters[r]&&(t.lineNumbers?e=!0:t.gutters.splice(r--,1));!e&&t.lineNumbers&&t.gutters.push("CodeMirror-linenumbers")}function d(t){var e=t.display,r=t.doc.height,n=r+I(e);e.sizer.style.minHeight=e.heightForcer.style.top=n+"px",e.gutters.style.height=Math.max(n,e.scroller.clientHeight-Ci)+"px";var i=Math.max(n,e.scroller.scrollHeight),o=e.scroller.scrollWidth>e.scroller.clientWidth+1,l=i>e.scroller.clientHeight+1;l?(e.scrollbarV.style.display="block",e.scrollbarV.style.bottom=o?sn(e.measure)+"px":"0",e.scrollbarV.firstChild.style.height=i-e.scroller.clientHeight+e.scrollbarV.clientHeight+"px"):e.scrollbarV.style.display="",o?(e.scrollbarH.style.display="block",e.scrollbarH.style.right=l?sn(e.measure)+"px":"0",e.scrollbarH.firstChild.style.width=e.scroller.scrollWidth-e.scroller.clientWidth+e.scrollbarH.clientWidth+"px"):e.scrollbarH.style.display="",o&&l?(e.scrollbarFiller.style.display="block",e.scrollbarFiller.style.height=e.scrollbarFiller.style.width=sn(e.measure)+"px"):e.scrollbarFiller.style.display="",o&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(e.gutterFiller.style.display="block",e.gutterFiller.style.height=sn(e.measure)+"px",e.gutterFiller.style.width=e.gutters.offsetWidth+"px"):e.gutterFiller.style.display="",On&&0===sn(e.measure)&&(e.scrollbarV.style.minWidth=e.scrollbarH.style.minHeight=Dn?"18px":"12px")}function p(t,e,r){var n=t.scroller.scrollTop,i=t.wrapper.clientHeight;"number"==typeof r?n=r:r&&(n=r.top,i=r.bottom-r.top),n=Math.floor(n-z(t));var o=Math.ceil(n+i);return{from:pr(e,n),to:pr(e,o)}}function m(t){var e=t.display;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var r=y(e)-e.scroller.scrollLeft+t.doc.scrollLeft,n=e.gutters.offsetWidth,i=r+"px",o=e.lineDiv.firstChild;o;o=o.nextSibling)if(o.alignable)for(var l=0,a=o.alignable;l<a.length;++l)a[l].style.left=i;t.options.fixedGutter&&(e.gutters.style.left=r+n+"px")}}function g(t){if(!t.options.lineNumbers)return!1;var e=t.doc,r=v(t.options,e.first+e.size-1),n=t.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(en("div",[en("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,l=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-l),n.lineNumWidth=n.lineNumInnerWidth+l,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",!0}return!1}function v(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function y(t){return ln(t.scroller).left-ln(t.sizer).left}function x(t,e,r){for(var n,i=t.display.showingFrom,o=t.display.showingTo,l=p(t.display,t.doc,r);b(t,e,l)&&(n=!0,T(t),d(t),r&&(r=Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,"number"==typeof r?r:r.top)),l=p(t.display,t.doc,r),!(l.from>=t.display.showingFrom&&l.to<=t.display.showingTo));)e=[];return n&&(Fr(t,"update",t),(t.display.showingFrom!=i||t.display.showingTo!=o)&&Fr(t,"viewportChange",t,t.display.showingFrom,t.display.showingTo)),n}function b(t,e,r){var n=t.display,i=t.doc;if(!n.wrapper.clientWidth)return n.showingFrom=n.showingTo=i.first,void(n.viewOffset=0);if(!(0==e.length&&r.from>n.showingFrom&&r.to<n.showingTo)){g(t)&&(e=[{from:i.first,to:i.first+i.size}]);var o=n.sizer.style.marginLeft=n.gutters.offsetWidth+"px";n.scrollbarH.style.left=t.options.fixedGutter?o:"0";var l=1/0;if(t.options.lineNumbers)for(var a=0;a<e.length;++a)if(e[a].diff){l=e[a].from;break}var s=i.first+i.size,c=Math.max(r.from-t.options.viewportMargin,i.first),u=Math.min(s,r.to+t.options.viewportMargin);if(n.showingFrom<c&&c-n.showingFrom<20&&(c=Math.max(i.first,n.showingFrom)),n.showingTo>u&&n.showingTo-u<20&&(u=Math.min(s,n.showingTo)),_n)for(c=dr(Pe(i,cr(i,c)));s>u&&Fe(i,cr(i,u));)++u;var f=[{from:Math.max(n.showingFrom,i.first),to:Math.min(n.showingTo,s)}];if(f=f[0].from>=f[0].to?[]:w(f,e),_n)for(var a=0;a<f.length;++a)for(var h,d=f[a];h=Ie(cr(i,d.to-1));){var p=h.find().from.line;if(!(p>d.from)){f.splice(a--,1);break}d.to=p}for(var m=0,a=0;a<f.length;++a){var d=f[a];d.from<c&&(d.from=c),d.to>u&&(d.to=u),d.from>=d.to?f.splice(a--,1):m+=d.to-d.from}if(m==u-c&&c==n.showingFrom&&u==n.showingTo)return void C(t);f.sort(function(t,e){return t.from-e.from});try{var v=document.activeElement}catch(y){}.7*(u-c)>m&&(n.lineDiv.style.display="none"),L(t,c,u,f,l),n.lineDiv.style.display="",v&&document.activeElement!=v&&v.offsetHeight&&v.focus();var x=c!=n.showingFrom||u!=n.showingTo||n.lastSizeC!=n.wrapper.clientHeight;x&&(n.lastSizeC=n.wrapper.clientHeight,W(t,400)),n.showingFrom=c,n.showingTo=u;for(var b,k=n.lineDiv.offsetTop,M=n.lineDiv.firstChild;M;M=M.nextSibling)if(M.lineObj){if(Ln){var S=M.offsetTop+M.offsetHeight;b=S-k,k=S}else{var T=ln(M);b=T.bottom-T.top}var A=M.lineObj.height-b;if(2>b&&(b=tt(n)),A>.001||-.001>A){hr(M.lineObj,b);var N=M.lineObj.widgets;if(N)for(var a=0;a<N.length;++a)N[a].height=N[a].node.offsetHeight}}return C(t),!0}}function C(t){var e=t.display.viewOffset=mr(t,cr(t.doc,t.display.showingFrom));t.display.mover.style.top=e+"px"}function w(t,e){for(var r=0,n=e.length||0;n>r;++r){for(var i=e[r],o=[],l=i.diff||0,a=0,s=t.length;s>a;++a){var c=t[a];i.to<=c.from&&i.diff?o.push({from:c.from+l,to:c.to+l}):i.to<=c.from||i.from>=c.to?o.push(c):(i.from>c.from&&o.push({from:c.from,to:i.from}),i.to<c.to&&o.push({from:i.to+l,to:c.to+l}))}t=o}return t}function k(t){for(var e=t.display,r={},n={},i=e.gutters.firstChild,o=0;i;i=i.nextSibling,++o)r[t.options.gutters[o]]=i.offsetLeft,n[t.options.gutters[o]]=i.offsetWidth;return{fixedPos:y(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:e.wrapper.clientWidth}}function L(t,e,r,n,i){function o(e){var r=e.nextSibling;return Sn&&Pn&&t.display.currentWheelTarget==e?(e.style.display="none",e.lineObj=null):e.parentNode.removeChild(e),r}var l=k(t),a=t.display,s=t.options.lineNumbers;n.length||Sn&&t.display.currentWheelTarget||rn(a.lineDiv);var c=a.lineDiv,u=c.firstChild,f=n.shift(),h=e;for(t.doc.iter(e,r,function(e){if(f&&f.to==h&&(f=n.shift()),Fe(t.doc,e)){if(0!=e.height&&hr(e,0),e.widgets&&u.previousSibling)for(var r=0;r<e.widgets.length;++r){var a=e.widgets[r];if(a.showIfHidden){var d=u.previousSibling;if(/pre/i.test(d.nodeName)){var p=en("div",null,null,"position: relative");d.parentNode.replaceChild(p,d),p.appendChild(d),d=p}var m=d.appendChild(en("div",[a.node],"CodeMirror-linewidget"));a.handleMouseEvents||(m.ignoreEvents=!0),S(a,m,d,l)}}}else if(f&&f.from<=h&&f.to>h){for(;u.lineObj!=e;)u=o(u);s&&h>=i&&u.lineNumber&&on(u.lineNumber,v(t.options,h)),u=u.nextSibling}else{if(e.widgets)for(var g,y=0,x=u;x&&20>y;++y,x=x.nextSibling)if(x.lineObj==e&&/div/i.test(x.nodeName)){g=x;break}var b=M(t,e,h,l,g);if(b!=g)c.insertBefore(b,u);else{for(;u!=g;)u=o(u);u=u.nextSibling}b.lineObj=e}++h});u;)u=o(u)}function M(t,e,r,n,i){var o,l=Je(t,e),a=e.gutterMarkers,s=t.display;if(!(t.options.lineNumbers||a||e.bgClass||e.wrapClass||e.widgets))return l;if(i){i.alignable=null;for(var c,u=!0,f=0,h=null,d=i.firstChild;d;d=c)if(c=d.nextSibling,/\bCodeMirror-linewidget\b/.test(d.className)){for(var p=0;p<e.widgets.length;++p){var m=e.widgets[p];if(m.node==d.firstChild){m.above||h||(h=d),S(m,d,i,n),++f;break}}if(p==e.widgets.length){u=!1;break}}else i.removeChild(d);i.insertBefore(l,h),u&&f==e.widgets.length&&(o=i,i.className=e.wrapClass||"")}if(o||(o=en("div",null,e.wrapClass,"position: relative"),o.appendChild(l)),e.bgClass&&o.insertBefore(en("div",null,e.bgClass+" CodeMirror-linebackground"),o.firstChild),t.options.lineNumbers||a){var g=o.insertBefore(en("div",null,null,"position: absolute; left: "+(t.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px"),o.firstChild);if(t.options.fixedGutter&&(o.alignable||(o.alignable=[])).push(g),!t.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(o.lineNumber=g.appendChild(en("div",v(t.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+s.lineNumInnerWidth+"px"))),a)for(var y=0;y<t.options.gutters.length;++y){var x=t.options.gutters[y],b=a.hasOwnProperty(x)&&a[x];b&&g.appendChild(en("div",[b],"CodeMirror-gutter-elt","left: "+n.gutterLeft[x]+"px; width: "+n.gutterWidth[x]+"px"))}}if(Ln&&(o.style.zIndex=2),e.widgets&&o!=i)for(var p=0,C=e.widgets;p<C.length;++p){var m=C[p],w=en("div",[m.node],"CodeMirror-linewidget");m.handleMouseEvents||(w.ignoreEvents=!0),S(m,w,o,n),m.above?o.insertBefore(w,t.options.lineNumbers&&0!=e.height?g:l):o.appendChild(w),Fr(m,"redraw")}return o}function S(t,e,r,n){if(t.noHScroll){(r.alignable||(r.alignable=[])).push(e);var i=n.wrapperWidth;e.style.left=n.fixedPos+"px",t.coverGutter||(i-=n.gutterTotalWidth,e.style.paddingLeft=n.gutterTotalWidth+"px"),e.style.width=i+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-n.gutterTotalWidth+"px"))}function T(t){var e=t.display,r=Kt(t.doc.sel.from,t.doc.sel.to);if(r||t.options.showCursorWhenSelecting?A(t):e.cursor.style.display=e.otherCursor.style.display="none",r?e.selectionDiv.style.display="none":N(t),t.options.moveInputWithCursor){var n=q(t,t.doc.sel.head,"div"),i=ln(e.wrapper),o=ln(e.lineDiv);e.inputDiv.style.top=Math.max(0,Math.min(e.wrapper.clientHeight-10,n.top+o.top-i.top))+"px",e.inputDiv.style.left=Math.max(0,Math.min(e.wrapper.clientWidth-10,n.left+o.left-i.left))+"px"}}function A(t){var e=t.display,r=q(t,t.doc.sel.head,"div");e.cursor.style.left=r.left+"px",e.cursor.style.top=r.top+"px",e.cursor.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",e.cursor.style.display="",r.other?(e.otherCursor.style.display="",e.otherCursor.style.left=r.other.left+"px",e.otherCursor.style.top=r.other.top+"px",e.otherCursor.style.height=.85*(r.other.bottom-r.other.top)+"px"):e.otherCursor.style.display="none"}function N(t){function e(t,e,r,n){0>e&&(e=0),l.appendChild(en("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==r?a-t:r)+"px; height: "+(n-e)+"px"))}function r(r,n,o){function l(e,n){return $(t,jt(r,e),"div",f,n)}var c,u,f=cr(i,r),h=f.text.length;return un(gr(f),n||0,null==o?h:o,function(t,r,i){var f,d,p,m=l(t,"left");if(t==r)f=m,d=p=m.left;else{if(f=l(r-1,"right"),"rtl"==i){var g=m;m=f,f=g}d=m.left,p=f.right}null==n&&0==t&&(d=s),f.top-m.top>3&&(e(d,m.top,null,m.bottom),d=s,m.bottom<f.top&&e(d,m.bottom,null,f.top)),null==o&&r==h&&(p=a),(!c||m.top<c.top||m.top==c.top&&m.left<c.left)&&(c=m),(!u||f.bottom>u.bottom||f.bottom==u.bottom&&f.right>u.right)&&(u=f),s+1>d&&(d=s),e(d,f.top,p-d,f.bottom)}),{start:c,end:u}}var n=t.display,i=t.doc,o=t.doc.sel,l=document.createDocumentFragment(),a=n.lineSpace.offsetWidth,s=P(t.display);if(o.from.line==o.to.line)r(o.from.line,o.from.ch,o.to.ch);else{var c=cr(i,o.from.line),u=cr(i,o.to.line),f=Pe(i,c)==Pe(i,u),h=r(o.from.line,o.from.ch,f?c.text.length:null).end,d=r(o.to.line,f?0:null,o.to.ch).start;f&&(h.top<d.top-2?(e(h.right,h.top,null,h.bottom),e(s,d.top,d.left,d.bottom)):e(h.right,h.top,d.left-h.right,h.bottom)),h.bottom<d.top&&e(s,h.bottom,null,d.top)}nn(n.selectionDiv,l),n.selectionDiv.style.display=""}function H(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var r=!0;e.cursor.style.visibility=e.otherCursor.style.visibility="",e.blinker=setInterval(function(){e.cursor.style.visibility=e.otherCursor.style.visibility=(r=!r)?"":"hidden"},t.options.cursorBlinkRate)}}function W(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.showingTo&&t.state.highlight.set(e,Jr(O,t))}function O(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.showingTo)){var r,n=+new Date+t.options.workTime,i=me(e.mode,E(t,e.frontier)),o=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.showingTo+500),function(l){if(e.frontier>=t.display.showingFrom){var a=l.styles;l.styles=Ye(t,l,i);for(var s=!a||a.length!=l.styles.length,c=0;!s&&c<a.length;++c)s=a[c]!=l.styles[c];s&&(r&&r.end==e.frontier?r.end++:o.push(r={start:e.frontier,end:e.frontier+1})),l.stateAfter=me(e.mode,i)}else qe(t,l,i),l.stateAfter=0==e.frontier%5?me(e.mode,i):null;return++e.frontier,+new Date>n?(W(t,t.options.workDelay),!0):void 0}),o.length&&it(t,function(){for(var t=0;t<o.length;++t)at(this,o[t].start,o[t].end)})()}}function D(t,e,r){for(var n,i,o=t.doc,l=e,a=e-100;l>a;--l){if(l<=o.first)return o.first;var s=cr(o,l-1);if(s.stateAfter&&(!r||l<=o.frontier))return l;var c=Kr(s.text,null,t.options.tabSize);(null==i||n>c)&&(i=l-1,n=c)}return i}function E(t,e,r){var n=t.doc,i=t.display;if(!n.mode.startState)return!0;var o=D(t,e,r),l=o>n.first&&cr(n,o-1).stateAfter;return l=l?me(n.mode,l):ge(n.mode),n.iter(o,e,function(r){qe(t,r,l);var a=o==e-1||0==o%5||o>=i.showingFrom&&o<i.showingTo;r.stateAfter=a?me(n.mode,l):null,++o}),l}function z(t){return t.lineSpace.offsetTop}function I(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function P(t){var e=nn(t.measure,en("pre",null,null,"text-align: left")).appendChild(en("span","x"));return e.offsetLeft}function F(t,e,r,n,i){var o=-1;n=n||G(t,e);for(var l=r;;l+=o){var a=n[l];if(a)break;0>o&&0==l&&(o=1)}return i=l>r?"left":r>l?"right":i,"left"==i&&a.leftSide?a=a.leftSide:"right"==i&&a.rightSide&&(a=a.rightSide),{left:r>l?a.right:a.left,right:l>r?a.left:a.right,top:a.top,bottom:a.bottom}}function V(t,e){for(var r=t.display.measureLineCache,n=0;n<r.length;++n){var i=r[n];if(i.text==e.text&&i.markedSpans==e.markedSpans&&t.display.scroller.clientWidth==i.width&&i.classes==e.textClass+"|"+e.bgClass+"|"+e.wrapClass)return i}}function B(t,e){var r=V(t,e);r&&(r.text=r.measure=r.markedSpans=null)}function G(t,e){var r=V(t,e);if(r)return r.measure;var n=R(t,e),i=t.display.measureLineCache,o={text:e.text,width:t.display.scroller.clientWidth,markedSpans:e.markedSpans,measure:n,classes:e.textClass+"|"+e.bgClass+"|"+e.wrapClass};return 16==i.length?i[++t.display.measureLineCachePos%16]=o:i.push(o),n}function R(t,e){function r(t){var e=t.top-p.top,r=t.bottom-p.top;r>v&&(r=v),0>e&&(e=0);for(var n=m.length-2;n>=0;n-=2){var i=m[n],o=m[n+1];if(!(i>r||e>o)&&(e>=i&&o>=r||i>=e&&r>=o||Math.min(r,o)-Math.max(e,i)>=r-e>>1)){m[n]=Math.min(e,i),m[n+1]=Math.max(r,o);break}}return 0>n&&(n=m.length,m.push(e,r)),{left:t.left-p.left,right:t.right-p.left,top:n,bottom:null}}function n(t){t.bottom=m[t.top+1],t.top=m[t.top]}var i=t.display,o=Zr(e.text.length),l=Je(t,e,o);if(kn&&!Ln&&!t.options.lineWrapping&&l.childNodes.length>100){for(var a=document.createDocumentFragment(),s=10,c=l.childNodes.length,u=0,f=Math.ceil(c/s);f>u;++u){for(var h=en("div",null,null,"display: inline-block"),d=0;s>d&&c;++d)h.appendChild(l.firstChild),--c;a.appendChild(h)}l.appendChild(a)}nn(i.measure,l);var p=ln(i.lineDiv),m=[],g=Zr(e.text.length),v=l.offsetHeight;Mn&&i.measure.first!=l&&nn(i.measure,l);for(var y,u=0;u<o.length;++u)if(y=o[u]){var x=y,b=null;if(/\bCodeMirror-widget\b/.test(y.className)&&y.getClientRects){1==y.firstChild.nodeType&&(x=y.firstChild);var C=x.getClientRects();C.length>1&&(b=g[u]=r(C[0]),b.rightSide=r(C[C.length-1]))}b||(b=g[u]=r(ln(x))),y.measureRight&&(b.right=ln(y.measureRight).left),y.leftSide&&(b.leftSide=r(ln(y.leftSide)))}for(var y,u=0;u<g.length;++u)(y=g[u])&&(n(y),y.leftSide&&n(y.leftSide),y.rightSide&&n(y.rightSide));return g}function j(t,e){var r=!1;if(e.markedSpans)for(var n=0;n<e.markedSpans;++n){var i=e.markedSpans[n];!i.collapsed||null!=i.to&&i.to!=e.text.length||(r=!0)}var o=!r&&V(t,e);if(o)return F(t,e,e.text.length,o.measure,"right").right;var l=Je(t,e),a=l.appendChild(cn(t.display.measure));return nn(t.display.measure,l),ln(a).right-ln(t.display.lineDiv).left}function K(t){t.display.measureLineCache.length=t.display.measureLineCachePos=0,t.display.cachedCharWidth=t.display.cachedTextHeight=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function U(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function _(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function X(t,e,r,n){if(e.widgets)for(var i=0;i<e.widgets.length;++i)if(e.widgets[i].above){var o=je(e.widgets[i]);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var l=mr(t,e);if("local"==n?l+=z(t.display):l-=t.display.viewOffset,"page"==n||"window"==n){var a=ln(t.display.lineSpace);l+=a.top+("window"==n?0:_());var s=a.left+("window"==n?0:U());r.left+=s,r.right+=s}return r.top+=l,r.bottom+=l,r}function Y(t,e,r){if("div"==r)return e;var n=e.left,i=e.top;if("page"==r)n-=U(),i-=_();else if("local"==r||!r){var o=ln(t.display.sizer);n+=o.left,i+=o.top}var l=ln(t.display.lineSpace);return{left:n-l.left,top:i-l.top}}function $(t,e,r,n,i){return n||(n=cr(t.doc,e.line)),X(t,n,F(t,n,e.ch,null,i),r)}function q(t,e,r,n,i){function o(e,o){var l=F(t,n,e,i,o?"right":"left");return o?l.left=l.right:l.right=l.left,X(t,n,l,r)}function l(t,e){var r=a[e],n=r.level%2;return t==fn(r)&&e&&r.level<a[e-1].level?(r=a[--e],t=hn(r)-(r.level%2?0:1),n=!0):t==hn(r)&&e<a.length-1&&r.level<a[e+1].level&&(r=a[++e],t=fn(r)-r.level%2,n=!1),n&&t==r.to&&t>r.from?o(t-1):o(t,n)}n=n||cr(t.doc,e.line),i||(i=G(t,n));var a=gr(n),s=e.ch;if(!a)return o(s);var c=yn(a,s),u=l(s,c);return null!=Di&&(u.other=l(s,Di)),u}function Z(t,e,r,n){var i=new jt(t,e);return i.xRel=n,r&&(i.outside=!0),i}function J(t,e,r){var n=t.doc;if(r+=t.display.viewOffset,0>r)return Z(n.first,0,!0,-1);var i=pr(n,r),o=n.first+n.size-1;if(i>o)return Z(n.first+n.size-1,cr(n,o).text.length,!0,1);for(0>e&&(e=0);;){var l=cr(n,i),a=Q(t,l,i,e,r),s=Ie(l),c=s&&s.find();if(!s||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;i=c.to.line}}function Q(t,e,r,n,i){function o(n){var i=q(t,jt(r,n),"line",e,c);return a=!0,l>i.bottom?i.left-s:l<i.top?i.left+s:(a=!1,i.left)}var l=i-mr(t,e),a=!1,s=2*t.display.wrapper.clientWidth,c=G(t,e),u=gr(e),f=e.text.length,h=dn(e),d=pn(e),p=o(h),m=a,g=o(d),v=a;if(n>g)return Z(r,d,v,1);for(;;){if(u?d==h||d==bn(e,h,1):1>=d-h){for(var y=p>n||g-n>=n-p?h:d,x=n-(y==h?p:g);Mi.test(e.text.charAt(y));)++y;var b=Z(r,y,y==h?m:v,0>x?-1:x?1:0);return b}var C=Math.ceil(f/2),w=h+C;if(u){w=h;for(var k=0;C>k;++k)w=bn(e,w,1)}var L=o(w);L>n?(d=w,g=L,(v=a)&&(g+=1e3),f=C):(h=w,p=L,m=a,f-=C)}}function tt(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Bn){Bn=en("pre");for(var e=0;49>e;++e)Bn.appendChild(document.createTextNode("x")),Bn.appendChild(en("br"));Bn.appendChild(document.createTextNode("x"))}nn(t.measure,Bn);var r=Bn.offsetHeight/50;return r>3&&(t.cachedTextHeight=r),rn(t.measure),r||1}function et(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=en("span","x"),r=en("pre",[e]);nn(t.measure,r);var n=e.offsetWidth;return n>2&&(t.cachedCharWidth=n),n||10}function rt(t){t.curOp={changes:[],updateInput:null,userSelChange:null,textChanged:null,selectionChanged:!1,cursorActivity:!1,updateMaxLine:!1,updateScrollPos:!1,id:++Xn},bi++||(xi=[])}function nt(t){var e=t.curOp,r=t.doc,n=t.display;if(t.curOp=null,e.updateMaxLine&&f(t),n.maxLineChanged&&!t.options.lineWrapping&&n.maxLine){var i=j(t,n.maxLine);n.sizer.style.minWidth=Math.max(0,i+3+Ci)+"px",n.maxLineChanged=!1;var o=Math.max(0,n.sizer.offsetLeft+n.sizer.offsetWidth-n.scroller.clientWidth);o<r.scrollLeft&&!e.updateScrollPos&&wt(t,Math.min(n.scroller.scrollLeft,o),!0)}var l,a;if(e.updateScrollPos)l=e.updateScrollPos;else if(e.selectionChanged&&n.scroller.clientHeight){var s=q(t,r.sel.head);l=oe(t,s.left,s.top,s.left,s.bottom)}(e.changes.length||l&&null!=l.scrollTop)&&(a=x(t,e.changes,l&&l.scrollTop),t.display.scroller.offsetHeight&&(t.doc.scrollTop=t.display.scroller.scrollTop)),!a&&e.selectionChanged&&T(t),e.updateScrollPos?(n.scroller.scrollTop=n.scrollbarV.scrollTop=r.scrollTop=l.scrollTop,n.scroller.scrollLeft=n.scrollbarH.scrollLeft=r.scrollLeft=l.scrollLeft,m(t),e.scrollToPos&&ne(t,Yt(t.doc,e.scrollToPos),e.scrollToPosMargin)):l&&re(t),e.selectionChanged&&H(t),t.state.focused&&e.updateInput&&ft(t,e.userSelChange);var c=e.maybeHiddenMarkers,u=e.maybeUnhiddenMarkers;if(c)for(var h=0;h<c.length;++h)c[h].lines.length||Pr(c[h],"hide");if(u)for(var h=0;h<u.length;++h)u[h].lines.length&&Pr(u[h],"unhide");var d;if(--bi||(d=xi,xi=null),e.textChanged&&Pr(t,"change",t,e.textChanged),e.cursorActivity&&Pr(t,"cursorActivity",t),d)for(var h=0;h<d.length;++h)d[h]()}function it(t,e){return function(){var r=t||this,n=!r.curOp;n&&rt(r);try{var i=e.apply(r,arguments)}finally{n&&nt(r)}return i}}function ot(t){return function(){var e,r=this.cm&&!this.cm.curOp;r&&rt(this.cm);try{e=t.apply(this,arguments)}finally{r&&nt(this.cm)}return e}}function lt(t,e){var r,n=!t.curOp;n&&rt(t);try{r=e()}finally{n&&nt(t)}return r}function at(t,e,r,n){null==e&&(e=t.doc.first),null==r&&(r=t.doc.first+t.doc.size),t.curOp.changes.push({from:e,to:r,diff:n})}function st(t){t.display.pollingFast||t.display.poll.set(t.options.pollInterval,function(){ut(t),t.state.focused&&st(t)})}function ct(t){function e(){var n=ut(t);n||r?(t.display.pollingFast=!1,st(t)):(r=!0,t.display.poll.set(60,e))}var r=!1;t.display.pollingFast=!0,t.display.poll.set(20,e)}function ut(t){var e=t.display.input,r=t.display.prevInput,n=t.doc,i=n.sel;if(!t.state.focused||Hi(e)||dt(t)||t.state.disableInput)return!1;var o=e.value;if(o==r&&Kt(i.from,i.to))return!1;if(kn&&!Mn&&t.display.inputHasSelection===o)return ft(t,!0),!1;var l=!t.curOp;l&&rt(t),i.shift=!1;for(var a=0,s=Math.min(r.length,o.length);s>a&&r.charCodeAt(a)==o.charCodeAt(a);)++a;var c=i.from,u=i.to;a<r.length?c=jt(c.line,c.ch-(r.length-a)):t.state.overwrite&&Kt(c,u)&&!t.state.pasteIncoming&&(u=jt(u.line,Math.min(cr(n,u.line).text.length,u.ch+(o.length-a))));var f=t.curOp.updateInput,h={from:c,to:u,text:Ni(o.slice(a)),origin:t.state.pasteIncoming?"paste":"+input"};return It(t.doc,h,"end"),t.curOp.updateInput=f,Fr(t,"inputRead",t,h),o.length>1e3||o.indexOf("\n")>-1?e.value=t.display.prevInput="":t.display.prevInput=o,l&&nt(t),t.state.pasteIncoming=!1,!0}function ft(t,e){var r,n,i=t.doc;if(Kt(i.sel.from,i.sel.to))e&&(t.display.prevInput=t.display.input.value="",kn&&!Mn&&(t.display.inputHasSelection=null));else{t.display.prevInput="",r=Wi&&(i.sel.to.line-i.sel.from.line>100||(n=t.getSelection()).length>1e3);var o=r?"-":n||t.getSelection();t.display.input.value=o,t.state.focused&&Xr(t.display.input),kn&&!Mn&&(t.display.inputHasSelection=o)}t.display.inaccurateSelection=r}function ht(t){"nocursor"==t.options.readOnly||In&&document.activeElement==t.display.input||t.display.input.focus()}function dt(t){return t.options.readOnly||t.doc.cantEdit}function pt(t){function e(){t.state.focused&&setTimeout(Jr(ht,t),0)}function r(){null==a&&(a=setTimeout(function(){a=null,l.cachedCharWidth=l.cachedTextHeight=Ti=null,K(t),lt(t,Jr(at,t))},100))}function n(){for(var t=l.wrapper.parentNode;t&&t!=document.body;t=t.parentNode);t?setTimeout(n,5e3):Ir(window,"resize",r)}function i(e){Vr(t,e)||t.options.onDragEvent&&t.options.onDragEvent(t,Ar(e))||Or(e)}function o(){l.inaccurateSelection&&(l.prevInput="",l.inaccurateSelection=!1,l.input.value=t.getSelection(),Xr(l.input))}var l=t.display;zr(l.scroller,"mousedown",it(t,vt)),kn?zr(l.scroller,"dblclick",it(t,function(e){if(!Vr(t,e)){var r=gt(t,e);if(r&&!yt(t,e)&&!mt(t.display,e)){Nr(e);var n=he(cr(t.doc,r.line).text,r);Zt(t.doc,n.from,n.to)}}})):zr(l.scroller,"dblclick",function(e){Vr(t,e)||Nr(e)}),zr(l.lineSpace,"selectstart",function(t){mt(l,t)||Nr(t)}),Kn||zr(l.scroller,"contextmenu",function(e){Ot(t,e)}),zr(l.scroller,"scroll",function(){l.scroller.clientHeight&&(Ct(t,l.scroller.scrollTop),wt(t,l.scroller.scrollLeft,!0),Pr(t,"scroll",t))}),zr(l.scrollbarV,"scroll",function(){l.scroller.clientHeight&&Ct(t,l.scrollbarV.scrollTop)}),zr(l.scrollbarH,"scroll",function(){l.scroller.clientHeight&&wt(t,l.scrollbarH.scrollLeft)}),zr(l.scroller,"mousewheel",function(e){kt(t,e)}),zr(l.scroller,"DOMMouseScroll",function(e){kt(t,e)}),zr(l.scrollbarH,"mousedown",e),zr(l.scrollbarV,"mousedown",e),zr(l.wrapper,"scroll",function(){l.wrapper.scrollTop=l.wrapper.scrollLeft=0});var a;zr(window,"resize",r),setTimeout(n,5e3),zr(l.input,"keyup",it(t,function(e){Vr(t,e)||t.options.onKeyEvent&&t.options.onKeyEvent(t,Ar(e))||16==e.keyCode&&(t.doc.sel.shift=!1)})),zr(l.input,"input",Jr(ct,t)),zr(l.input,"keydown",it(t,At)),zr(l.input,"keypress",it(t,Nt)),zr(l.input,"focus",Jr(Ht,t)),zr(l.input,"blur",Jr(Wt,t)),t.options.dragDrop&&(zr(l.scroller,"dragstart",function(e){bt(t,e)}),zr(l.scroller,"dragenter",i),zr(l.scroller,"dragover",i),zr(l.scroller,"drop",it(t,xt))),zr(l.scroller,"paste",function(e){mt(l,e)||(ht(t),ct(t))}),zr(l.input,"paste",function(){t.state.pasteIncoming=!0,ct(t)}),zr(l.input,"cut",o),zr(l.input,"copy",o),Wn&&zr(l.sizer,"mouseup",function(){document.activeElement==l.input&&l.input.blur(),ht(t)})}function mt(t,e){for(var r=Dr(e);r!=t.wrapper;r=r.parentNode)if(!r||r.ignoreEvents||r.parentNode==t.sizer&&r!=t.mover)return!0}function gt(t,e,r){var n=t.display;if(!r){var i=Dr(e);if(i==n.scrollbarH||i==n.scrollbarH.firstChild||i==n.scrollbarV||i==n.scrollbarV.firstChild||i==n.scrollbarFiller||i==n.gutterFiller)return null}var o,l,a=ln(n.lineSpace);try{o=e.clientX,l=e.clientY}catch(e){return null}return J(t,o-a.left,l-a.top)}function vt(t){function e(t){if(!Kt(v,t)){if(v=t,"single"==u)return void Zt(i.doc,Yt(l,s),t);if(m=Yt(l,m),g=Yt(l,g),"double"==u){var e=he(cr(l,t.line).text,t);Ut(t,m)?Zt(i.doc,e.from,g):Zt(i.doc,m,e.to)}else"triple"==u&&(Ut(t,m)?Zt(i.doc,g,Yt(l,jt(t.line,0))):Zt(i.doc,m,Yt(l,jt(t.line+1,0))))}}function r(t){var n=++x,a=gt(i,t,!0);if(a)if(Kt(a,h)){var s=t.clientY<y.top?-20:t.clientY>y.bottom?20:0;s&&setTimeout(it(i,function(){x==n&&(o.scroller.scrollTop+=s,r(t))}),50)}else{i.state.focused||Ht(i),h=a,e(a);var c=p(o,l);(a.line>=c.to||a.line<c.from)&&setTimeout(it(i,function(){x==n&&r(t)}),150)}}function n(t){x=1/0,Nr(t),ht(i),Ir(document,"mousemove",b),Ir(document,"mouseup",C)}if(!Vr(this,t)){var i=this,o=i.display,l=i.doc,a=l.sel;if(a.shift=t.shiftKey,mt(o,t))return void(Sn||(o.scroller.draggable=!1,setTimeout(function(){o.scroller.draggable=!0},100)));if(!yt(i,t)){var s=gt(i,t);switch(Er(t)){case 3:return void(Kn&&Ot.call(i,i,t));case 2:return s&&Zt(i.doc,s),setTimeout(Jr(ht,i),20),void Nr(t)}if(!s)return void(Dr(t)==o.scroller&&Nr(t));i.state.focused||Ht(i);var c=+new Date,u="single";if(Rn&&Rn.time>c-400&&Kt(Rn.pos,s))u="triple",Nr(t),setTimeout(Jr(ht,i),20),de(i,s.line);else if(Gn&&Gn.time>c-400&&Kt(Gn.pos,s)){u="double",Rn={time:c,pos:s},Nr(t);var f=he(cr(l,s.line).text,s);Zt(i.doc,f.from,f.to)}else Gn={time:c,pos:s};var h=s;if(i.options.dragDrop&&Si&&!dt(i)&&!Kt(a.from,a.to)&&!Ut(s,a.from)&&!Ut(a.to,s)&&"single"==u){var d=it(i,function(e){Sn&&(o.scroller.draggable=!1),i.state.draggingText=!1,Ir(document,"mouseup",d),Ir(o.scroller,"drop",d),Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)<10&&(Nr(e),Zt(i.doc,s),
ht(i))});return Sn&&(o.scroller.draggable=!0),i.state.draggingText=d,o.scroller.dragDrop&&o.scroller.dragDrop(),zr(document,"mouseup",d),void zr(o.scroller,"drop",d)}Nr(t),"single"==u&&Zt(i.doc,Yt(l,s));var m=a.from,g=a.to,v=s,y=ln(o.wrapper),x=0,b=it(i,function(t){kn||Er(t)?r(t):n(t)}),C=it(i,n);zr(document,"mousemove",b),zr(document,"mouseup",C)}}}function yt(t,e){var r=t.display;try{var n=e.clientX,i=e.clientY}catch(e){return!1}if(n>=Math.floor(ln(r.gutters).right))return!1;if(Nr(e),!Gr(t,"gutterClick"))return!0;var o=ln(r.lineDiv);if(i>o.bottom)return!0;i-=o.top-r.viewOffset;for(var l=0;l<t.options.gutters.length;++l){var a=r.gutters.childNodes[l];if(a&&ln(a).right>=n){var s=pr(t.doc,i),c=t.options.gutters[l];Fr(t,"gutterClick",t,s,c,e);break}}return!0}function xt(t){var e=this;if(!(Vr(e,t)||mt(e.display,t)||e.options.onDragEvent&&e.options.onDragEvent(e,Ar(t)))){Nr(t),kn&&(Yn=+new Date);var r=gt(e,t,!0),n=t.dataTransfer.files;if(r&&!dt(e))if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),l=0,a=function(t,n){var a=new FileReader;a.onload=function(){o[n]=a.result,++l==i&&(r=Yt(e.doc,r),It(e.doc,{from:r,to:r,text:Ni(o.join("\n")),origin:"paste"},"around"))},a.readAsText(t)},s=0;i>s;++s)a(n[s],s);else{if(e.state.draggingText&&!Ut(r,e.doc.sel.from)&&!Ut(e.doc.sel.to,r))return e.state.draggingText(t),void setTimeout(Jr(ht,e),20);try{var o=t.dataTransfer.getData("Text");if(o){var c=e.doc.sel.from,u=e.doc.sel.to;Qt(e.doc,r,r),e.state.draggingText&&Rt(e.doc,"",c,u,"paste"),e.replaceSelection(o,null,"paste"),ht(e),Ht(e)}}catch(t){}}}}function bt(t,e){if(kn&&(!t.state.draggingText||+new Date-Yn<100))return void Or(e);if(!Vr(t,e)&&!mt(t.display,e)){var r=t.getSelection();if(e.dataTransfer.setData("Text",r),e.dataTransfer.setDragImage&&!Hn){var n=en("img",null,null,"position: fixed; left: 0; top: 0;");Nn&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),Nn&&n.parentNode.removeChild(n)}}}function Ct(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,wn||x(t,[],e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbarV.scrollTop!=e&&(t.display.scrollbarV.scrollTop=e),wn&&x(t,[]),W(t,100))}function wt(t,e,r){(r?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,m(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbarH.scrollLeft!=e&&(t.display.scrollbarH.scrollLeft=e))}function kt(t,e){var r=e.wheelDeltaX,n=e.wheelDeltaY;null==r&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(r=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta);var i=t.display,o=i.scroller;if(r&&o.scrollWidth>o.clientWidth||n&&o.scrollHeight>o.clientHeight){if(n&&Pn&&Sn)for(var l=e.target;l!=o;l=l.parentNode)if(l.lineObj){t.display.currentWheelTarget=l;break}if(r&&!wn&&!Nn&&null!=qn)return n&&Ct(t,Math.max(0,Math.min(o.scrollTop+n*qn,o.scrollHeight-o.clientHeight))),wt(t,Math.max(0,Math.min(o.scrollLeft+r*qn,o.scrollWidth-o.clientWidth))),Nr(e),void(i.wheelStartX=null);if(n&&null!=qn){var a=n*qn,s=t.doc.scrollTop,c=s+i.wrapper.clientHeight;0>a?s=Math.max(0,s+a-50):c=Math.min(t.doc.height,c+a+50),x(t,[],{top:s,bottom:c})}20>$n&&(null==i.wheelStartX?(i.wheelStartX=o.scrollLeft,i.wheelStartY=o.scrollTop,i.wheelDX=r,i.wheelDY=n,setTimeout(function(){if(null!=i.wheelStartX){var t=o.scrollLeft-i.wheelStartX,e=o.scrollTop-i.wheelStartY,r=e&&i.wheelDY&&e/i.wheelDY||t&&i.wheelDX&&t/i.wheelDX;i.wheelStartX=i.wheelStartY=null,r&&(qn=(qn*$n+r)/($n+1),++$n)}},200)):(i.wheelDX+=r,i.wheelDY+=n))}}function Lt(t,e,r){if("string"==typeof e&&(e=ci[e],!e))return!1;t.display.pollingFast&&ut(t)&&(t.display.pollingFast=!1);var n=t.doc,i=n.sel.shift,o=!1;try{dt(t)&&(t.state.suppressEdits=!0),r&&(n.sel.shift=!1),o=e(t)!=wi}finally{n.sel.shift=i,t.state.suppressEdits=!1}return o}function Mt(t){var e=t.state.keyMaps.slice(0);return t.options.extraKeys&&e.push(t.options.extraKeys),e.push(t.options.keyMap),e}function St(t,e){var r=ve(t.options.keyMap),n=r.auto;clearTimeout(Zn),n&&!xe(e)&&(Zn=setTimeout(function(){ve(t.options.keyMap)==r&&(t.options.keyMap=n.call?n.call(null,t):n,l(t))},50));var i=be(e,!0),o=!1;if(!i)return!1;var a=Mt(t);return o=e.shiftKey?ye("Shift-"+i,a,function(e){return Lt(t,e,!0)})||ye(i,a,function(e){return("string"==typeof e?/^go[A-Z]/.test(e):e.motion)?Lt(t,e):void 0}):ye(i,a,function(e){return Lt(t,e)}),o&&(Nr(e),H(t),Mn&&(e.oldKeyCode=e.keyCode,e.keyCode=0),Fr(t,"keyHandled",t,i,e)),o}function Tt(t,e,r){var n=ye("'"+r+"'",Mt(t),function(e){return Lt(t,e,!0)});return n&&(Nr(e),H(t),Fr(t,"keyHandled",t,"'"+r+"'",e)),n}function At(t){var e=this;if(e.state.focused||Ht(e),kn&&27==t.keyCode&&(t.returnValue=!1),!(Vr(e,t)||e.options.onKeyEvent&&e.options.onKeyEvent(e,Ar(t)))){var r=t.keyCode;e.doc.sel.shift=16==r||t.shiftKey;var n=St(e,t);Nn&&(Qn=n?r:null,!n&&88==r&&!Wi&&(Pn?t.metaKey:t.ctrlKey)&&e.replaceSelection(""))}}function Nt(t){var e=this;if(!(Vr(e,t)||e.options.onKeyEvent&&e.options.onKeyEvent(e,Ar(t)))){var r=t.keyCode,n=t.charCode;if(Nn&&r==Qn)return Qn=null,void Nr(t);if(!(Nn&&(!t.which||t.which<10)||Wn)||!St(e,t)){var i=String.fromCharCode(null==n?r:n);this.options.electricChars&&this.doc.mode.electricChars&&this.options.smartIndent&&!dt(this)&&this.doc.mode.electricChars.indexOf(i)>-1&&setTimeout(it(e,function(){se(e,e.doc.sel.to.line,"smart")}),75),Tt(e,t,i)||(kn&&!Mn&&(e.display.inputHasSelection=null),ct(e))}}}function Ht(t){"nocursor"!=t.options.readOnly&&(t.state.focused||(Pr(t,"focus",t),t.state.focused=!0,-1==t.display.wrapper.className.search(/\bCodeMirror-focused\b/)&&(t.display.wrapper.className+=" CodeMirror-focused"),ft(t,!0)),st(t),H(t))}function Wt(t){t.state.focused&&(Pr(t,"blur",t),t.state.focused=!1,t.display.wrapper.className=t.display.wrapper.className.replace(" CodeMirror-focused","")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.doc.sel.shift=!1)},150)}function Ot(t,e){function r(){if(null!=i.input.selectionStart){var t=i.input.value=" "+(Kt(o.from,o.to)?"":i.input.value);i.prevInput=" ",i.input.selectionStart=1,i.input.selectionEnd=t.length}}function n(){if(i.inputDiv.style.position="relative",i.input.style.cssText=s,Mn&&(i.scrollbarV.scrollTop=i.scroller.scrollTop=a),st(t),null!=i.input.selectionStart){(!kn||Mn)&&r(),clearTimeout(Jn);var e=0,n=function(){" "==i.prevInput&&0==i.input.selectionStart?it(t,ci.selectAll)(t):e++<10?Jn=setTimeout(n,500):ft(t)};Jn=setTimeout(n,200)}}if(!Vr(t,e,"contextmenu")){var i=t.display,o=t.doc.sel;if(!mt(i,e)){var l=gt(t,e),a=i.scroller.scrollTop;if(l&&!Nn){(Kt(o.from,o.to)||Ut(l,o.from)||!Ut(l,o.to))&&it(t,Qt)(t.doc,l,l);var s=i.input.style.cssText;if(i.inputDiv.style.position="absolute",i.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: white; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);",ht(t),ft(t,!0),Kt(o.from,o.to)&&(i.input.value=i.prevInput=" "),kn&&!Mn&&r(),Kn){Or(e);var c=function(){Ir(window,"mouseup",c),setTimeout(n,20)};zr(window,"mouseup",c)}else setTimeout(n,50)}}}}function Dt(t,e,r){if(!Ut(e.from,r))return Yt(t,r);var n=e.text.length-1-(e.to.line-e.from.line);if(r.line>e.to.line+n){var i=r.line-n,o=t.first+t.size-1;return i>o?jt(o,cr(t,o).text.length):$t(r,cr(t,i).text.length)}if(r.line==e.to.line+n)return $t(r,_r(e.text).length+(1==e.text.length?e.from.ch:0)+cr(t,e.to.line).text.length-e.to.ch);var l=r.line-e.from.line;return $t(r,e.text[l].length+(l?0:e.from.ch))}function Et(t,e,r){if(r&&"object"==typeof r)return{anchor:Dt(t,e,r.anchor),head:Dt(t,e,r.head)};if("start"==r)return{anchor:e.from,head:e.from};var n=ti(e);if("around"==r)return{anchor:e.from,head:n};if("end"==r)return{anchor:n,head:n};var i=function(t){if(Ut(t,e.from))return t;if(!Ut(e.to,t))return n;var r=t.line+e.text.length-(e.to.line-e.from.line)-1,i=t.ch;return t.line==e.to.line&&(i+=n.ch-e.to.ch),jt(r,i)};return{anchor:i(t.sel.anchor),head:i(t.sel.head)}}function zt(t,e,r){var n={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return r&&(n.update=function(e,r,n,i){e&&(this.from=Yt(t,e)),r&&(this.to=Yt(t,r)),n&&(this.text=n),void 0!==i&&(this.origin=i)}),Pr(t,"beforeChange",t,n),t.cm&&Pr(t.cm,"beforeChange",t.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function It(t,e,r,n){if(t.cm){if(!t.cm.curOp)return it(t.cm,It)(t,e,r,n);if(t.cm.state.suppressEdits)return}if(!(Gr(t,"beforeChange")||t.cm&&Gr(t.cm,"beforeChange"))||(e=zt(t,e,!0))){var i=Un&&!n&&De(t,e.from,e.to);if(i){for(var o=i.length-1;o>=1;--o)Pt(t,{from:i[o].from,to:i[o].to,text:[""]});i.length&&Pt(t,{from:i[0].from,to:i[0].to,text:e.text},r)}else Pt(t,e,r)}}function Pt(t,e,r){var n=Et(t,e,r);br(t,e,n,t.cm?t.cm.curOp.id:0/0),Bt(t,e,n,We(t,e));var i=[];ar(t,function(t,r){r||-1!=Yr(i,t.history)||(Sr(t.history,e),i.push(t.history)),Bt(t,e,null,We(t,e))})}function Ft(t,e){if(!t.cm||!t.cm.state.suppressEdits){var r=t.history,n=("undo"==e?r.done:r.undone).pop();if(n){var i={changes:[],anchorBefore:n.anchorAfter,headBefore:n.headAfter,anchorAfter:n.anchorBefore,headAfter:n.headBefore,generation:r.generation};("undo"==e?r.undone:r.done).push(i),r.generation=n.generation||++r.maxGeneration;for(var o=Gr(t,"beforeChange")||t.cm&&Gr(t.cm,"beforeChange"),l=n.changes.length-1;l>=0;--l){var a=n.changes[l];if(a.origin=e,o&&!zt(t,a,!1))return void(("undo"==e?r.done:r.undone).length=0);i.changes.push(xr(t,a));var s=l?Et(t,a,null):{anchor:n.anchorBefore,head:n.headBefore};Bt(t,a,s,Oe(t,a));var c=[];ar(t,function(t,e){e||-1!=Yr(c,t.history)||(Sr(t.history,a),c.push(t.history)),Bt(t,a,null,Oe(t,a))})}}}}function Vt(t,e){function r(t){return jt(t.line+e,t.ch)}t.first+=e,t.cm&&at(t.cm,t.first,t.first,e),t.sel.head=r(t.sel.head),t.sel.anchor=r(t.sel.anchor),t.sel.from=r(t.sel.from),t.sel.to=r(t.sel.to)}function Bt(t,e,r,n){if(t.cm&&!t.cm.curOp)return it(t.cm,Bt)(t,e,r,n);if(e.to.line<t.first)return void Vt(t,e.text.length-1-(e.to.line-e.from.line));if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var i=e.text.length-1-(t.first-e.from.line);Vt(t,i),e={from:jt(t.first,0),to:jt(e.to.line+i,e.to.ch),text:[_r(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:jt(o,cr(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=ur(t,e.from,e.to),r||(r=Et(t,e,null)),t.cm?Gt(t.cm,e,n,r):ir(t,e,n,r)}}function Gt(t,e,r,n){var o=t.doc,l=t.display,a=e.from,s=e.to,c=!1,f=a.line;t.options.lineWrapping||(f=dr(Pe(o,cr(o,a.line))),o.iter(f,s.line+1,function(t){return t==l.maxLine?(c=!0,!0):void 0})),Ut(o.sel.head,e.from)||Ut(e.to,o.sel.head)||(t.curOp.cursorActivity=!0),ir(o,e,r,n,i(t)),t.options.lineWrapping||(o.iter(f,a.line+e.text.length,function(t){var e=u(o,t);e>l.maxLineLength&&(l.maxLine=t,l.maxLineLength=e,l.maxLineChanged=!0,c=!1)}),c&&(t.curOp.updateMaxLine=!0)),o.frontier=Math.min(o.frontier,a.line),W(t,400);var h=e.text.length-(s.line-a.line)-1;if(at(t,a.line,s.line+1,h),Gr(t,"change")){var d={from:a,to:s,text:e.text,removed:e.removed,origin:e.origin};if(t.curOp.textChanged){for(var p=t.curOp.textChanged;p.next;p=p.next);p.next=d}else t.curOp.textChanged=d}}function Rt(t,e,r,n,i){if(n||(n=r),Ut(n,r)){var o=n;n=r,r=o}"string"==typeof e&&(e=Ni(e)),It(t,{from:r,to:n,text:e,origin:i},null)}function jt(t,e){return this instanceof jt?(this.line=t,void(this.ch=e)):new jt(t,e)}function Kt(t,e){return t.line==e.line&&t.ch==e.ch}function Ut(t,e){return t.line<e.line||t.line==e.line&&t.ch<e.ch}function _t(t){return jt(t.line,t.ch)}function Xt(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function Yt(t,e){if(e.line<t.first)return jt(t.first,0);var r=t.first+t.size-1;return e.line>r?jt(r,cr(t,r).text.length):$t(e,cr(t,e.line).text.length)}function $t(t,e){var r=t.ch;return null==r||r>e?jt(t.line,e):0>r?jt(t.line,0):t}function qt(t,e){return e>=t.first&&e<t.first+t.size}function Zt(t,e,r,n){if(t.sel.shift||t.sel.extend){var i=t.sel.anchor;if(r){var o=Ut(e,i);o!=Ut(r,i)?(i=e,e=r):o!=Ut(e,r)&&(e=r)}Qt(t,i,e,n)}else Qt(t,e,r||e,n);t.cm&&(t.cm.curOp.userSelChange=!0)}function Jt(t,e,r){var n={anchor:e,head:r};return Pr(t,"beforeSelectionChange",t,n),t.cm&&Pr(t.cm,"beforeSelectionChange",t.cm,n),n.anchor=Yt(t,n.anchor),n.head=Yt(t,n.head),n}function Qt(t,e,r,n,i){if(!i&&Gr(t,"beforeSelectionChange")||t.cm&&Gr(t.cm,"beforeSelectionChange")){var o=Jt(t,e,r);r=o.head,e=o.anchor}var l=t.sel;if(l.goalColumn=null,(i||!Kt(e,l.anchor))&&(e=ee(t,e,n,"push"!=i)),(i||!Kt(r,l.head))&&(r=ee(t,r,n,"push"!=i)),!Kt(l.anchor,e)||!Kt(l.head,r)){l.anchor=e,l.head=r;var a=Ut(r,e);l.from=a?r:e,l.to=a?e:r,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=t.cm.curOp.cursorActivity=!0),Fr(t,"cursorActivity",t)}}function te(t){Qt(t.doc,t.doc.sel.from,t.doc.sel.to,null,"push")}function ee(t,e,r,n){var i=!1,o=e,l=r||1;t.cantEdit=!1;t:for(;;){var a=cr(t,o.line);if(a.markedSpans)for(var s=0;s<a.markedSpans.length;++s){var c=a.markedSpans[s],u=c.marker;if((null==c.from||(u.inclusiveLeft?c.from<=o.ch:c.from<o.ch))&&(null==c.to||(u.inclusiveRight?c.to>=o.ch:c.to>o.ch))){if(n&&(Pr(u,"beforeCursorEnter"),u.explicitlyCleared)){if(a.markedSpans){--s;continue}break}if(!u.atomic)continue;var f=u.find()[0>l?"from":"to"];if(Kt(f,o)&&(f.ch+=l,f.ch<0?f=f.line>t.first?Yt(t,jt(f.line-1)):null:f.ch>a.text.length&&(f=f.line<t.first+t.size-1?jt(f.line+1,0):null),!f)){if(i)return n?(t.cantEdit=!0,jt(t.first,0)):ee(t,e,r,!0);i=!0,f=e,l=-l}o=f;continue t}}return o}}function re(t){var e=ne(t,t.doc.sel.head,t.options.cursorScrollMargin);if(t.state.focused){var r=t.display,n=ln(r.sizer),i=null;if(e.top+n.top<0?i=!0:e.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!En){var o="none"==r.cursor.style.display;o&&(r.cursor.style.display="",r.cursor.style.left=e.left+"px",r.cursor.style.top=e.top-r.viewOffset+"px"),r.cursor.scrollIntoView(i),o&&(r.cursor.style.display="none")}}}function ne(t,e,r){for(null==r&&(r=0);;){var n=!1,i=q(t,e),o=oe(t,i.left,i.top-r,i.left,i.bottom+r),l=t.doc.scrollTop,a=t.doc.scrollLeft;if(null!=o.scrollTop&&(Ct(t,o.scrollTop),Math.abs(t.doc.scrollTop-l)>1&&(n=!0)),null!=o.scrollLeft&&(wt(t,o.scrollLeft),Math.abs(t.doc.scrollLeft-a)>1&&(n=!0)),!n)return i}}function ie(t,e,r,n,i){var o=oe(t,e,r,n,i);null!=o.scrollTop&&Ct(t,o.scrollTop),null!=o.scrollLeft&&wt(t,o.scrollLeft)}function oe(t,e,r,n,i){var o=t.display,l=tt(t.display);0>r&&(r=0);var a=o.scroller.clientHeight-Ci,s=o.scroller.scrollTop,c={},u=t.doc.height+I(o),f=l>r,h=i>u-l;if(s>r)c.scrollTop=f?0:r;else if(i>s+a){var d=Math.min(r,(h?u:i)-a);d!=s&&(c.scrollTop=d)}var p=o.scroller.clientWidth-Ci,m=o.scroller.scrollLeft;e+=o.gutters.offsetWidth,n+=o.gutters.offsetWidth;var g=o.gutters.offsetWidth,v=g+10>e;return m+g>e||v?(v&&(e=0),c.scrollLeft=Math.max(0,e-10-g)):n>p+m-3&&(c.scrollLeft=n+10-p),c}function le(t,e,r){t.curOp.updateScrollPos={scrollLeft:null==e?t.doc.scrollLeft:e,scrollTop:null==r?t.doc.scrollTop:r}}function ae(t,e,r){var n=t.curOp.updateScrollPos||(t.curOp.updateScrollPos={scrollLeft:t.doc.scrollLeft,scrollTop:t.doc.scrollTop}),i=t.display.scroller;n.scrollTop=Math.max(0,Math.min(i.scrollHeight-i.clientHeight,n.scrollTop+r)),n.scrollLeft=Math.max(0,Math.min(i.scrollWidth-i.clientWidth,n.scrollLeft+e))}function se(t,e,r,n){var i=t.doc;if(null==r&&(r="add"),"smart"==r)if(t.doc.mode.indent)var o=E(t,e);else r="prev";var l,a=t.options.tabSize,s=cr(i,e),c=Kr(s.text,null,a),u=s.text.match(/^\s*/)[0];if("smart"==r&&(l=t.doc.mode.indent(o,s.text.slice(u.length),s.text),l==wi)){if(!n)return;r="prev"}"prev"==r?l=e>i.first?Kr(cr(i,e-1).text,null,a):0:"add"==r?l=c+t.options.indentUnit:"subtract"==r?l=c-t.options.indentUnit:"number"==typeof r&&(l=c+r),l=Math.max(0,l);var f="",h=0;if(t.options.indentWithTabs)for(var d=Math.floor(l/a);d;--d)h+=a,f+="	";l>h&&(f+=Ur(l-h)),f!=u&&Rt(t.doc,f,jt(e,0),jt(e,u.length),"+input"),s.stateAfter=null}function ce(t,e,r){var n=e,i=e,o=t.doc;return"number"==typeof e?i=cr(o,Xt(o,e)):n=dr(e),null==n?null:r(i,n)?(at(t,n,n+1),i):null}function ue(t,e,r,n,i){function o(){var e=a+r;return e<t.first||e>=t.first+t.size?f=!1:(a=e,u=cr(t,e))}function l(t){var e=(i?bn:Cn)(u,s,r,!0);if(null==e){if(t||!o())return f=!1;s=i?(0>r?pn:dn)(u):0>r?u.text.length:0}else s=e;return!0}var a=e.line,s=e.ch,c=r,u=cr(t,a),f=!0;if("char"==n)l();else if("column"==n)l(!0);else if("word"==n||"group"==n)for(var h=null,d="group"==n,p=!0;!(0>r)||l(!p);p=!1){var m=u.text.charAt(s)||"\n",g=Qr(m)?"w":d?/\s/.test(m)?null:"p":null;if(h&&h!=g){0>r&&(r=1,l());break}if(g&&(h=g),r>0&&!l(!p))break}var v=ee(t,jt(a,s),c,!0);return f||(v.hitSide=!0),v}function fe(t,e,r,n){var i,o=t.doc,l=e.left;if("page"==n){var a=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=e.top+r*(a-(0>r?1.5:.5)*tt(t.display))}else"line"==n&&(i=r>0?e.bottom+3:e.top-3);for(;;){var s=J(t,l,i);if(!s.outside)break;if(0>r?0>=i:i>=o.height){s.hitSide=!0;break}i+=5*r}return s}function he(t,e){var r=e.ch,n=e.ch;if(t){(e.xRel<0||n==t.length)&&r?--r:++n;for(var i=t.charAt(r),o=Qr(i)?Qr:/\s/.test(i)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!Qr(t)};r>0&&o(t.charAt(r-1));)--r;for(;n<t.length&&o(t.charAt(n));)++n}return{from:jt(e.line,r),to:jt(e.line,n)}}function de(t,e){Zt(t.doc,jt(e,0),Yt(t.doc,jt(e+1,0)))}function pe(e,r,n,i){t.defaults[e]=r,n&&(ei[e]=i?function(t,e,r){r!=ni&&n(t,e,r)}:n)}function me(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var r={};for(var n in e){var i=e[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function ge(t,e,r){return t.startState?t.startState(e,r):!0}function ve(t){return"string"==typeof t?ui[t]:t}function ye(t,e,r){function n(e){e=ve(e);var i=e[t];if(i===!1)return"stop";if(null!=i&&r(i))return!0;if(e.nofallthrough)return"stop";var o=e.fallthrough;if(null==o)return!1;if("[object Array]"!=Object.prototype.toString.call(o))return n(o);for(var l=0,a=o.length;a>l;++l){var s=n(o[l]);if(s)return s}return!1}for(var i=0;i<e.length;++i){var o=n(e[i]);if(o)return"stop"!=o}}function xe(t){var e=Oi[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function be(t,e){if(Nn&&34==t.keyCode&&t["char"])return!1;var r=Oi[t.keyCode];return null==r||t.altGraphKey?!1:(t.altKey&&(r="Alt-"+r),(jn?t.metaKey:t.ctrlKey)&&(r="Ctrl-"+r),(jn?t.ctrlKey:t.metaKey)&&(r="Cmd-"+r),!e&&t.shiftKey&&(r="Shift-"+r),r)}function Ce(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0}function we(t,e){this.lines=[],this.type=e,this.doc=t}function ke(t,e,r,n,i){if(n&&n.shared)return Me(t,e,r,n,i);if(t.cm&&!t.cm.curOp)return it(t.cm,ke)(t,e,r,n,i);var o=new we(t,i);if("range"==i&&!Ut(e,r))return o;n&&qr(n,o),o.replacedWith&&(o.collapsed=!0,o.replacedWith=en("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||(o.replacedWith.ignoreEvents=!0)),o.collapsed&&(_n=!0),o.addToHistory&&br(t,{from:e,to:r,origin:"markText"},{head:t.sel.head,anchor:t.sel.anchor},0/0);var l,a,s,c=e.line,u=0,f=t.cm;if(t.iter(c,r.line+1,function(n){f&&o.collapsed&&!f.options.lineWrapping&&Pe(t,n)==f.display.maxLine&&(s=!0);var i={from:null,to:null,marker:o};u+=n.text.length,c==e.line&&(i.from=e.ch,u-=e.ch),c==r.line&&(i.to=r.ch,u-=n.text.length-r.ch),o.collapsed&&(c==r.line&&(a=Ee(n,r.ch)),c==e.line?l=Ee(n,e.ch):hr(n,0)),Ae(n,i),++c}),o.collapsed&&t.iter(e.line,r.line+1,function(e){Fe(t,e)&&hr(e,0)}),o.clearOnEnter&&zr(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Un=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed){if(l!=a)throw new Error("Inserting collapsed marker overlapping an existing one");o.size=u,o.atomic=!0}return f&&(s&&(f.curOp.updateMaxLine=!0),(o.className||o.title||o.startStyle||o.endStyle||o.collapsed)&&at(f,e.line,r.line+1),o.atomic&&te(f)),o}function Le(t,e){this.markers=t,this.primary=e;for(var r=0,n=this;r<t.length;++r)t[r].parent=this,zr(t[r],"clear",function(){n.clear()})}function Me(t,e,r,n,i){n=qr(n),n.shared=!1;var o=[ke(t,e,r,n,i)],l=o[0],a=n.replacedWith;return ar(t,function(t){a&&(n.replacedWith=a.cloneNode(!0)),o.push(ke(t,Yt(t,e),Yt(t,r),n,i));for(var s=0;s<t.linked.length;++s)if(t.linked[s].isParent)return;l=_r(o)}),new Le(o,l)}function Se(t,e){if(t)for(var r=0;r<t.length;++r){var n=t[r];if(n.marker==e)return n}}function Te(t,e){for(var r,n=0;n<t.length;++n)t[n]!=e&&(r||(r=[])).push(t[n]);return r}function Ae(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function Ne(t,e,r){if(t)for(var n,i=0;i<t.length;++i){var o=t[i],l=o.marker,a=null==o.from||(l.inclusiveLeft?o.from<=e:o.from<e);if(a||"bookmark"==l.type&&o.from==e&&(!r||!o.marker.insertLeft)){var s=null==o.to||(l.inclusiveRight?o.to>=e:o.to>e);(n||(n=[])).push({from:o.from,to:s?null:o.to,marker:l})}}return n}function He(t,e,r){if(t)for(var n,i=0;i<t.length;++i){var o=t[i],l=o.marker,a=null==o.to||(l.inclusiveRight?o.to>=e:o.to>e);if(a||"bookmark"==l.type&&o.from==e&&(!r||o.marker.insertLeft)){var s=null==o.from||(l.inclusiveLeft?o.from<=e:o.from<e);(n||(n=[])).push({from:s?null:o.from-e,to:null==o.to?null:o.to-e,marker:l})}}return n}function We(t,e){var r=qt(t,e.from.line)&&cr(t,e.from.line).markedSpans,n=qt(t,e.to.line)&&cr(t,e.to.line).markedSpans;if(!r&&!n)return null;var i=e.from.ch,o=e.to.ch,l=Kt(e.from,e.to),a=Ne(r,i,l),s=He(n,o,l),c=1==e.text.length,u=_r(e.text).length+(c?i:0);if(a)for(var f=0;f<a.length;++f){var h=a[f];if(null==h.to){var d=Se(s,h.marker);d?c&&(h.to=null==d.to?null:d.to+u):h.to=i}}if(s)for(var f=0;f<s.length;++f){var h=s[f];if(null!=h.to&&(h.to+=u),null==h.from){var d=Se(a,h.marker);d||(h.from=u,c&&(a||(a=[])).push(h))}else h.from+=u,c&&(a||(a=[])).push(h)}if(c&&a){for(var f=0;f<a.length;++f)null!=a[f].from&&a[f].from==a[f].to&&"bookmark"!=a[f].marker.type&&a.splice(f--,1);a.length||(a=null)}var p=[a];if(!c){var m,g=e.text.length-2;if(g>0&&a)for(var f=0;f<a.length;++f)null==a[f].to&&(m||(m=[])).push({from:null,to:null,marker:a[f].marker});for(var f=0;g>f;++f)p.push(m);p.push(s)}return p}function Oe(t,e){var r=wr(t,e),n=We(t,e);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],l=n[i];if(o&&l)t:for(var a=0;a<l.length;++a){for(var s=l[a],c=0;c<o.length;++c)if(o[c].marker==s.marker)continue t;o.push(s)}else l&&(r[i]=l)}return r}function De(t,e,r){var n=null;if(t.iter(e.line,r.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var r=t.markedSpans[e].marker;!r.readOnly||n&&-1!=Yr(n,r)||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:e,to:r}],o=0;o<n.length;++o)for(var l=n[o],a=l.find(),s=0;s<i.length;++s){var c=i[s];if(!Ut(c.to,a.from)&&!Ut(a.to,c.from)){var u=[s,1];(Ut(c.from,a.from)||!l.inclusiveLeft&&Kt(c.from,a.from))&&u.push({from:c.from,to:a.from}),(Ut(a.to,c.to)||!l.inclusiveRight&&Kt(c.to,a.to))&&u.push({from:a.to,to:c.to}),i.splice.apply(i,u),s+=u.length-1}}return i}function Ee(t,e){var r,n=_n&&t.markedSpans;if(n)for(var i,o=0;o<n.length;++o)i=n[o],i.marker.collapsed&&(null==i.from||i.from<e)&&(null==i.to||i.to>e)&&(!r||r.width<i.marker.width)&&(r=i.marker);return r}function ze(t){return Ee(t,-1)}function Ie(t){return Ee(t,t.text.length+1)}function Pe(t,e){for(var r;r=ze(e);)e=cr(t,r.find().from.line);return e}function Fe(t,e){var r=_n&&e.markedSpans;if(r)for(var n,i=0;i<r.length;++i)if(n=r[i],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.replacedWith&&0==n.from&&n.marker.inclusiveLeft&&Ve(t,e,n))return!0}}function Ve(t,e,r){if(null==r.to){var n=r.marker.find().to,i=cr(t,n.line);return Ve(t,i,Se(i.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==e.text.length)return!0;for(var o,l=0;l<e.markedSpans.length;++l)if(o=e.markedSpans[l],o.marker.collapsed&&!o.marker.replacedWith&&o.from==r.to&&(o.marker.inclusiveLeft||r.marker.inclusiveRight)&&Ve(t,e,o))return!0}function Be(t){var e=t.markedSpans;if(e){for(var r=0;r<e.length;++r)e[r].marker.detachLine(t);t.markedSpans=null}}function Ge(t,e){if(e){for(var r=0;r<e.length;++r)e[r].marker.attachLine(t);t.markedSpans=e}}function Re(t){return function(){var e=!this.cm.curOp;e&&rt(this.cm);try{var r=t.apply(this,arguments)}finally{e&&nt(this.cm)}return r}}function je(t){return null!=t.height?t.height:(t.node.parentNode&&1==t.node.parentNode.nodeType||nn(t.cm.display.measure,en("div",[t.node],null,"position: relative")),t.height=t.node.offsetHeight)}function Ke(t,e,r,n){var i=new fi(t,r,n);return i.noHScroll&&(t.display.alignWidgets=!0),ce(t,e,function(e){var r=e.widgets||(e.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=e,!Fe(t.doc,e)||i.showIfHidden){var n=mr(t,e)<t.doc.scrollTop;hr(e,e.height+je(i)),n&&ae(t,0,i.height)}return!0}),i}function Ue(t,e,r,n){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Be(t),Ge(t,r);var i=n?n(t):1;i!=t.height&&hr(t,i)}function _e(t){t.parent=null,Be(t)}function Xe(t,e,r,n,i){var o=r.flattenSpans;null==o&&(o=t.options.flattenSpans);var l,a=0,s=null,c=new Ce(e,t.options.tabSize);for(""==e&&r.blankLine&&r.blankLine(n);!c.eol();)c.pos>t.options.maxHighlightLength?(o=!1,c.pos=Math.min(e.length,c.start+5e4),l=null):l=r.token(c,n),o&&s==l||(a<c.start&&i(c.start,s),a=c.start,s=l),c.start=c.pos;a<c.pos&&i(c.pos,s)}function Ye(t,e,r){var n=[t.state.modeGen];Xe(t,e.text,t.doc.mode,r,function(t,e){n.push(t,e)});for(var i=0;i<t.state.overlays.length;++i){var o=t.state.overlays[i],l=1,a=0;Xe(t,e.text,o.mode,!0,function(t,e){for(var r=l;t>a;){var i=n[l];i>t&&n.splice(l,1,t,n[l+1],i),l+=2,a=Math.min(t,i)}if(e)if(o.opaque)n.splice(r,l-r,t,e),l=r+2;else for(;l>r;r+=2){var s=n[r+1];n[r+1]=s?s+" "+e:e}})}return n}function $e(t,e){return e.styles&&e.styles[0]==t.state.modeGen||(e.styles=Ye(t,e,e.stateAfter=E(t,dr(e)))),e.styles}function qe(t,e,r){var n=t.doc.mode,i=new Ce(e.text,t.options.tabSize);for(""==e.text&&n.blankLine&&n.blankLine(r);!i.eol()&&i.pos<=t.options.maxHighlightLength;)n.token(i,r),i.start=i.pos}function Ze(t){return t?di[t]||(di[t]="cm-"+t.replace(/ +/g," cm-")):null}function Je(t,e,r){for(var n,i=e,o=!0;n=ze(i);)i=cr(t.doc,n.find().from.line);var l={pre:en("pre"),col:0,pos:0,display:!r,measure:null,measuredSomething:!1,cm:t};i.textClass&&(l.pre.className=i.textClass);do{i.text&&(o=!1),l.measure=i==e&&r,l.pos=0,l.addToken=l.measure?tr:Qe,(kn||Sn)&&t.getOption("lineWrapping")&&(l.addToken=er(l.addToken));var a=nr(i,l,$e(t,i));r&&i==e&&!l.measuredSomething&&(r[0]=l.pre.appendChild(cn(t.display.measure)),l.measuredSomething=!0),a&&(i=cr(t.doc,a.to.line))}while(a);!r||l.measuredSomething||r[0]||(r[0]=l.pre.appendChild(o?en("span"," "):cn(t.display.measure))),l.pre.firstChild||Fe(t.doc,e)||l.pre.appendChild(document.createTextNode(" "));var s;if(r&&kn&&(s=gr(i))){var c=s.length-1;s[c].from==s[c].to&&--c;var u=s[c],f=s[c-1];if(u.from+1==u.to&&f&&u.level<f.level){var h=r[l.pos-1];h&&h.parentNode.insertBefore(h.measureRight=cn(t.display.measure),h.nextSibling)}}return Pr(t,"renderLine",t,e,l.pre),l.pre}function Qe(t,e,r,n,i,o){if(e){if(pi.test(e))for(var l=document.createDocumentFragment(),a=0;;){pi.lastIndex=a;var s=pi.exec(e),c=s?s.index-a:e.length-a;if(c&&(l.appendChild(document.createTextNode(e.slice(a,a+c))),t.col+=c),!s)break;if(a+=c+1,"	"==s[0]){var u=t.cm.options.tabSize,f=u-t.col%u;l.appendChild(en("span",Ur(f),"cm-tab")),t.col+=f}else{var h=en("span","•","cm-invalidchar");h.title="\\u"+s[0].charCodeAt(0).toString(16),l.appendChild(h),t.col+=1}}else{t.col+=e.length;var l=document.createTextNode(e)}if(r||n||i||t.measure){var d=r||"";n&&(d+=n),i&&(d+=i);var h=en("span",[l],d);return o&&(h.title=o),t.pre.appendChild(h)}t.pre.appendChild(l)}}function tr(t,e,r,n,i){for(var o=t.cm.options.lineWrapping,l=0;l<e.length;++l){var a=e.charAt(l),s=0==l;a>="�"&&"�">a&&l<e.length-1?(a=e.slice(l,l+2),++l):l&&o&&an(e,l)&&t.pre.appendChild(en("wbr"));var c=t.measure[t.pos],u=t.measure[t.pos]=Qe(t,a,r,s&&n,l==e.length-1&&i);c&&(u.leftSide=c.leftSide||c),kn&&o&&" "==a&&l&&!/\s/.test(e.charAt(l-1))&&l<e.length-1&&!/\s/.test(e.charAt(l+1))&&(u.style.whiteSpace="normal"),t.pos+=a.length}e.length&&(t.measuredSomething=!0)}function er(t){function e(t){for(var e=" ",r=0;r<t.length-2;++r)e+=r%2?" ":" ";return e+=" "}return function(r,n,i,o,l,a){return t(r,n.replace(/ {3,}/,e),i,o,l,a)}}function rr(t,e,r,n){var i=!n&&r.replacedWith;if(i&&(t.display||(i=i.cloneNode(!0)),t.pre.appendChild(i),t.measure)){if(e)t.measure[t.pos]=i;else{var o=t.measure[t.pos]=cn(t.cm.display.measure);"bookmark"!=r.type||r.insertLeft?t.pre.insertBefore(o,i):t.pre.appendChild(o)}t.measuredSomething=!0}t.pos+=e}function nr(t,e,r){var n=t.markedSpans,i=t.text,o=0;if(n)for(var l,a,s,c,u,f,h=i.length,d=0,p=1,m="",g=0;;){if(g==d){a=s=c=u="",f=null,g=1/0;for(var v=null,y=0;y<n.length;++y){var x=n[y],b=x.marker;x.from<=d&&(null==x.to||x.to>d)?(null!=x.to&&g>x.to&&(g=x.to,s=""),b.className&&(a+=" "+b.className),b.startStyle&&x.from==d&&(c+=" "+b.startStyle),b.endStyle&&x.to==g&&(s+=" "+b.endStyle),b.title&&!u&&(u=b.title),b.collapsed&&(!f||f.marker.size<b.size)&&(f=x)):x.from>d&&g>x.from&&(g=x.from),"bookmark"==b.type&&x.from==d&&b.replacedWith&&(v=b)}if(f&&(f.from||0)==d&&(rr(e,(null==f.to?h:f.to)-d,f.marker,null==f.from),null==f.to))return f.marker.find();v&&!f&&rr(e,0,v)}if(d>=h)break;for(var C=Math.min(h,g);;){if(m){var w=d+m.length;if(!f){var k=w>C?m.slice(0,C-d):m;e.addToken(e,k,l?l+a:a,c,d+k.length==g?s:"",u)}if(w>=C){m=m.slice(C-d),d=C;break}d=w,c=""}m=i.slice(o,o=r[p++]),l=Ze(r[p++])}}else for(var p=1;p<r.length;p+=2)e.addToken(e,i.slice(o,o=r[p]),Ze(r[p+1]))}function ir(t,e,r,n,i){function o(t){return r?r[t]:null}function l(t,r,n){Ue(t,r,n,i),Fr(t,"change",t,e)}var a=e.from,s=e.to,c=e.text,u=cr(t,a.line),f=cr(t,s.line),h=_r(c),d=o(c.length-1),p=s.line-a.line;if(0==a.ch&&0==s.ch&&""==h){for(var m=0,g=c.length-1,v=[];g>m;++m)v.push(new hi(c[m],o(m),i));l(f,f.text,d),p&&t.remove(a.line,p),v.length&&t.insert(a.line,v)}else if(u==f)if(1==c.length)l(u,u.text.slice(0,a.ch)+h+u.text.slice(s.ch),d);else{for(var v=[],m=1,g=c.length-1;g>m;++m)v.push(new hi(c[m],o(m),i));v.push(new hi(h+u.text.slice(s.ch),d,i)),l(u,u.text.slice(0,a.ch)+c[0],o(0)),t.insert(a.line+1,v)}else if(1==c.length)l(u,u.text.slice(0,a.ch)+c[0]+f.text.slice(s.ch),o(0)),t.remove(a.line+1,p);else{l(u,u.text.slice(0,a.ch)+c[0],o(0)),l(f,h+f.text.slice(s.ch),d);for(var m=1,g=c.length-1,v=[];g>m;++m)v.push(new hi(c[m],o(m),i));p>1&&t.remove(a.line+1,p-1),t.insert(a.line+1,v)}Fr(t,"change",t,e),Qt(t,n.anchor,n.head,null,!0)}function or(t){this.lines=t,this.parent=null;for(var e=0,r=t.length,n=0;r>e;++e)t[e].parent=this,n+=t[e].height;this.height=n}function lr(t){this.children=t;for(var e=0,r=0,n=0,i=t.length;i>n;++n){var o=t[n];e+=o.chunkSize(),r+=o.height,o.parent=this}this.size=e,this.height=r,this.parent=null}function ar(t,e,r){function n(t,i,o){if(t.linked)for(var l=0;l<t.linked.length;++l){var a=t.linked[l];if(a.doc!=i){var s=o&&a.sharedHist;(!r||s)&&(e(a.doc,s),n(a.doc,t,s))}}}n(t,null,!0)}function sr(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,o(t),r(t),t.options.lineWrapping||f(t),t.options.mode=e.modeOption,at(t)}function cr(t,e){for(e-=t.first;!t.lines;)for(var r=0;;++r){var n=t.children[r],i=n.chunkSize();if(i>e){t=n;break}e-=i}return t.lines[e]}function ur(t,e,r){var n=[],i=e.line;return t.iter(e.line,r.line+1,function(t){var o=t.text;i==r.line&&(o=o.slice(0,r.ch)),i==e.line&&(o=o.slice(e.ch)),n.push(o),++i}),n}function fr(t,e,r){var n=[];return t.iter(e,r,function(t){n.push(t.text)}),n}function hr(t,e){for(var r=e-t.height,n=t;n;n=n.parent)n.height+=r}function dr(t){if(null==t.parent)return null;for(var e=t.parent,r=Yr(e.lines,t),n=e.parent;n;e=n,n=n.parent)for(var i=0;n.children[i]!=e;++i)r+=n.children[i].chunkSize();return r+e.first}function pr(t,e){
var r=t.first;t:do{for(var n=0,i=t.children.length;i>n;++n){var o=t.children[n],l=o.height;if(l>e){t=o;continue t}e-=l,r+=o.chunkSize()}return r}while(!t.lines);for(var n=0,i=t.lines.length;i>n;++n){var a=t.lines[n],s=a.height;if(s>e)break;e-=s}return r+n}function mr(t,e){e=Pe(t.doc,e);for(var r=0,n=e.parent,i=0;i<n.lines.length;++i){var o=n.lines[i];if(o==e)break;r+=o.height}for(var l=n.parent;l;n=l,l=n.parent)for(var i=0;i<l.children.length;++i){var a=l.children[i];if(a==n)break;r+=a.height}return r}function gr(t){var e=t.order;return null==e&&(e=t.order=Ei(t.text)),e}function vr(t){return{done:[],undone:[],undoDepth:1/0,lastTime:0,lastOp:null,lastOrigin:null,generation:t||1,maxGeneration:t||1}}function yr(t,e,r,n){var i=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,r),Math.min(t.first+t.size,n),function(r){r.markedSpans&&((i||(i=e["spans_"+t.id]={}))[o]=r.markedSpans),++o})}function xr(t,e){var r={line:e.from.line,ch:e.from.ch},n={from:r,to:ti(e),text:ur(t,e.from,e.to)};return yr(t,n,e.from.line,e.to.line+1),ar(t,function(t){yr(t,n,e.from.line,e.to.line+1)},!0),n}function br(t,e,r,n){var i=t.history;i.undone.length=0;var o=+new Date,l=_r(i.done);if(l&&(i.lastOp==n||i.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&i.lastTime>o-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))){var a=_r(l.changes);Kt(e.from,e.to)&&Kt(e.from,a.to)?a.to=ti(e):l.changes.push(xr(t,e)),l.anchorAfter=r.anchor,l.headAfter=r.head}else for(l={changes:[xr(t,e)],generation:i.generation,anchorBefore:t.sel.anchor,headBefore:t.sel.head,anchorAfter:r.anchor,headAfter:r.head},i.done.push(l),i.generation=++i.maxGeneration;i.done.length>i.undoDepth;)i.done.shift();i.lastTime=o,i.lastOp=n,i.lastOrigin=e.origin}function Cr(t){if(!t)return null;for(var e,r=0;r<t.length;++r)t[r].marker.explicitlyCleared?e||(e=t.slice(0,r)):e&&e.push(t[r]);return e?e.length?e:null:t}function wr(t,e){var r=e["spans_"+t.id];if(!r)return null;for(var n=0,i=[];n<e.text.length;++n)i.push(Cr(r[n]));return i}function kr(t,e){for(var r=0,n=[];r<t.length;++r){var i=t[r],o=i.changes,l=[];n.push({changes:l,anchorBefore:i.anchorBefore,headBefore:i.headBefore,anchorAfter:i.anchorAfter,headAfter:i.headAfter});for(var a=0;a<o.length;++a){var s,c=o[a];if(l.push({from:c.from,to:c.to,text:c.text}),e)for(var u in c)(s=u.match(/^spans_(\d+)$/))&&Yr(e,Number(s[1]))>-1&&(_r(l)[u]=c[u],delete c[u])}}return n}function Lr(t,e,r,n){r<t.line?t.line+=n:e<t.line&&(t.line=e,t.ch=0)}function Mr(t,e,r,n){for(var i=0;i<t.length;++i){for(var o=t[i],l=!0,a=0;a<o.changes.length;++a){var s=o.changes[a];if(o.copied||(s.from=_t(s.from),s.to=_t(s.to)),r<s.from.line)s.from.line+=n,s.to.line+=n;else if(e<=s.to.line){l=!1;break}}o.copied||(o.anchorBefore=_t(o.anchorBefore),o.headBefore=_t(o.headBefore),o.anchorAfter=_t(o.anchorAfter),o.readAfter=_t(o.headAfter),o.copied=!0),l?(Lr(o.anchorBefore),Lr(o.headBefore),Lr(o.anchorAfter),Lr(o.headAfter)):(t.splice(0,i+1),i=0)}}function Sr(t,e){var r=e.from.line,n=e.to.line,i=e.text.length-(n-r)-1;Mr(t.done,r,n,i),Mr(t.undone,r,n,i)}function Tr(){Or(this)}function Ar(t){return t.stop||(t.stop=Tr),t}function Nr(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function Hr(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function Wr(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function Or(t){Nr(t),Hr(t)}function Dr(t){return t.target||t.srcElement}function Er(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),Pn&&t.ctrlKey&&1==e&&(e=3),e}function zr(t,e,r){if(t.addEventListener)t.addEventListener(e,r,!1);else if(t.attachEvent)t.attachEvent("on"+e,r);else{var n=t._handlers||(t._handlers={}),i=n[e]||(n[e]=[]);i.push(r)}}function Ir(t,e,r){if(t.removeEventListener)t.removeEventListener(e,r,!1);else if(t.detachEvent)t.detachEvent("on"+e,r);else{var n=t._handlers&&t._handlers[e];if(!n)return;for(var i=0;i<n.length;++i)if(n[i]==r){n.splice(i,1);break}}}function Pr(t,e){var r=t._handlers&&t._handlers[e];if(r)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function Fr(t,e){function r(t){return function(){t.apply(null,i)}}var n=t._handlers&&t._handlers[e];if(n){var i=Array.prototype.slice.call(arguments,2);xi||(++bi,xi=[],setTimeout(Br,0));for(var o=0;o<n.length;++o)xi.push(r(n[o]))}}function Vr(t,e,r){return Pr(t,r||e.type,t,e),Wr(e)}function Br(){--bi;var t=xi;xi=null;for(var e=0;e<t.length;++e)t[e]()}function Gr(t,e){var r=t._handlers&&t._handlers[e];return r&&r.length>0}function Rr(t){t.prototype.on=function(t,e){zr(this,t,e)},t.prototype.off=function(t,e){Ir(this,t,e)}}function jr(){this.id=null}function Kr(t,e,r,n,i){null==e&&(e=t.search(/[^\s\u00a0]/),-1==e&&(e=t.length));for(var o=n||0,l=i||0;e>o;++o)"	"==t.charAt(o)?l+=r-l%r:++l;return l}function Ur(t){for(;ki.length<=t;)ki.push(_r(ki)+" ");return ki[t]}function _r(t){return t[t.length-1]}function Xr(t){if(zn)t.selectionStart=0,t.selectionEnd=t.value.length;else try{t.select()}catch(e){}}function Yr(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;n>r;++r)if(t[r]==e)return r;return-1}function $r(t,e){function r(){}r.prototype=t;var n=new r;return e&&qr(e,n),n}function qr(t,e){e||(e={});for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function Zr(t){for(var e=[],r=0;t>r;++r)e.push(void 0);return e}function Jr(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function Qr(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Li.test(t))}function tn(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function en(t,e,r,n){var i=document.createElement(t);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof e)on(i,e);else if(e)for(var o=0;o<e.length;++o)i.appendChild(e[o]);return i}function rn(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function nn(t,e){return rn(t).appendChild(e)}function on(t,e){Mn?(t.innerHTML="",t.appendChild(document.createTextNode(e))):t.textContent=e}function ln(t){return t.getBoundingClientRect()}function an(){return!1}function sn(t){if(null!=Ti)return Ti;var e=en("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return nn(t,e),e.offsetWidth&&(Ti=e.offsetHeight-e.clientHeight),Ti||0}function cn(t){if(null==Ai){var e=en("span","​");nn(t,en("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Ai=e.offsetWidth<=1&&e.offsetHeight>2&&!Ln)}return Ai?en("span","​"):en("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function un(t,e,r,n){if(!t)return n(e,r,"ltr");for(var i=!1,o=0;o<t.length;++o){var l=t[o];(l.from<r&&l.to>e||e==r&&l.to==e)&&(n(Math.max(l.from,e),Math.min(l.to,r),1==l.level?"rtl":"ltr"),i=!0)}i||n(e,r,"ltr")}function fn(t){return t.level%2?t.to:t.from}function hn(t){return t.level%2?t.from:t.to}function dn(t){var e=gr(t);return e?fn(e[0]):0}function pn(t){var e=gr(t);return e?hn(_r(e)):t.text.length}function mn(t,e){var r=cr(t.doc,e),n=Pe(t.doc,r);n!=r&&(e=dr(n));var i=gr(n),o=i?i[0].level%2?pn(n):dn(n):0;return jt(e,o)}function gn(t,e){for(var r,n;r=Ie(n=cr(t.doc,e));)e=r.find().to.line;var i=gr(n),o=i?i[0].level%2?dn(n):pn(n):n.text.length;return jt(e,o)}function vn(t,e,r){var n=t[0].level;return e==n?!0:r==n?!1:r>e}function yn(t,e){for(var r,n=0;n<t.length;++n){var i=t[n];if(i.from<e&&i.to>e)return Di=null,n;if(i.from==e||i.to==e){if(null!=r)return vn(t,i.level,t[r].level)?(Di=r,n):(Di=n,r);r=n}}return Di=null,r}function xn(t,e,r,n){if(!n)return e+r;do e+=r;while(e>0&&Mi.test(t.text.charAt(e)));return e}function bn(t,e,r,n){var i=gr(t);if(!i)return Cn(t,e,r,n);for(var o=yn(i,e),l=i[o],a=xn(t,e,l.level%2?-r:r,n);;){if(a>l.from&&a<l.to)return a;if(a==l.from||a==l.to)return yn(i,a)==o?a:(l=i[o+=r],r>0==l.level%2?l.to:l.from);if(l=i[o+=r],!l)return null;a=r>0==l.level%2?xn(t,l.to,-1,n):xn(t,l.from,1,n)}}function Cn(t,e,r,n){var i=e+r;if(n)for(;i>0&&Mi.test(t.text.charAt(i));)i+=r;return 0>i||i>t.text.length?null:i}var wn=/gecko\/\d/i.test(navigator.userAgent),kn=/MSIE \d/.test(navigator.userAgent),Ln=kn&&(null==document.documentMode||document.documentMode<8),Mn=kn&&(null==document.documentMode||document.documentMode<9),Sn=/WebKit\//.test(navigator.userAgent),Tn=Sn&&/Qt\/\d+\.\d+/.test(navigator.userAgent),An=/Chrome\//.test(navigator.userAgent),Nn=/Opera\//.test(navigator.userAgent),Hn=/Apple Computer/.test(navigator.vendor),Wn=/KHTML\//.test(navigator.userAgent),On=/Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),Dn=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),En=/PhantomJS/.test(navigator.userAgent),zn=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),In=zn||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Pn=zn||/Mac/.test(navigator.platform),Fn=/windows/i.test(navigator.platform),Vn=Nn&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);Vn&&(Vn=Number(Vn[1]));var Bn,Gn,Rn,jn=Pn&&(Tn||Nn&&(null==Vn||12.11>Vn)),Kn=wn||kn&&!Mn,Un=!1,_n=!1,Xn=0,Yn=0,$n=0,qn=null;kn?qn=-.53:wn?qn=15:An?qn=-.7:Hn&&(qn=-1/3);var Zn,Jn,Qn=null,ti=t.changeEnd=function(t){return t.text?jt(t.from.line+t.text.length-1,_r(t.text).length+(1==t.text.length?t.from.ch:0)):t.to};t.Pos=jt,t.prototype={constructor:t,focus:function(){window.focus(),ht(this),Ht(this),ct(this)},setOption:function(t,e){var r=this.options,n=r[t];(r[t]!=e||"mode"==t)&&(r[t]=e,ei.hasOwnProperty(t)&&it(this,ei[t])(this,e,n))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](t)},removeKeyMap:function(t){for(var e=this.state.keyMaps,r=0;r<e.length;++r)if(e[r]==t||"string"!=typeof e[r]&&e[r].name==t)return e.splice(r,1),!0},addOverlay:it(null,function(e,r){var n=e.token?e:t.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:n,modeSpec:e,opaque:r&&r.opaque}),this.state.modeGen++,at(this)}),removeOverlay:it(null,function(t){for(var e=this.state.overlays,r=0;r<e.length;++r){var n=e[r].modeSpec;if(n==t||"string"==typeof t&&n.name==t)return e.splice(r,1),this.state.modeGen++,void at(this)}}),indentLine:it(null,function(t,e,r){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),qt(this.doc,t)&&se(this,t,e,r)}),indentSelection:it(null,function(t){var e=this.doc.sel;if(Kt(e.from,e.to))return se(this,e.from.line,t);for(var r=e.to.line-(e.to.ch?0:1),n=e.from.line;r>=n;++n)se(this,n,t)}),getTokenAt:function(t,e){var r=this.doc;t=Yt(r,t);for(var n=E(this,t.line,e),i=this.doc.mode,o=cr(r,t.line),l=new Ce(o.text,this.options.tabSize);l.pos<t.ch&&!l.eol();){l.start=l.pos;var a=i.token(l,n)}return{start:l.start,end:l.pos,string:l.current(),className:a||null,type:a||null,state:n}},getTokenTypeAt:function(t){t=Yt(this.doc,t);var e=$e(this,cr(this.doc,t.line)),r=0,n=(e.length-1)/2,i=t.ch;if(0==i)return e[2];for(;;){var o=r+n>>1;if((o?e[2*o-1]:0)>=i)n=o;else{if(!(e[2*o+1]<i))return e[2*o+2];r=o+1}}},getModeAt:function(e){var r=this.doc.mode;return r.innerMode?t.innerMode(r,this.getTokenAt(e).state).mode:r},getHelper:function(t,e){if(si.hasOwnProperty(e)){var r=si[e],n=this.getModeAt(t);return n[e]&&r[n[e]]||n.helperType&&r[n.helperType]||r[n.name]}},getStateAfter:function(t,e){var r=this.doc;return t=Xt(r,null==t?r.first+r.size-1:t),E(this,t+1,e)},cursorCoords:function(t,e){var r,n=this.doc.sel;return r=null==t?n.head:"object"==typeof t?Yt(this.doc,t):t?n.from:n.to,q(this,r,e||"page")},charCoords:function(t,e){return $(this,Yt(this.doc,t),e||"page")},coordsChar:function(t,e){return t=Y(this,t,e||"page"),J(this,t.left,t.top)},lineAtHeight:function(t,e){return t=Y(this,{top:t,left:0},e||"page").top,pr(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var r=!1,n=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>n&&(t=n,r=!0);var i=cr(this.doc,t);return X(this,cr(this.doc,t),{top:0,left:0},e||"page").top+(r?i.height:0)},defaultTextHeight:function(){return tt(this.display)},defaultCharWidth:function(){return et(this.display)},setGutterMarker:it(null,function(t,e,r){return ce(this,t,function(t){var n=t.gutterMarkers||(t.gutterMarkers={});return n[e]=r,!r&&tn(n)&&(t.gutterMarkers=null),!0})}),clearGutter:it(null,function(t){var e=this,r=e.doc,n=r.first;r.iter(function(r){r.gutterMarkers&&r.gutterMarkers[t]&&(r.gutterMarkers[t]=null,at(e,n,n+1),tn(r.gutterMarkers)&&(r.gutterMarkers=null)),++n})}),addLineClass:it(null,function(t,e,r){return ce(this,t,function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"wrapClass";if(t[n]){if(new RegExp("(?:^|\\s)"+r+"(?:$|\\s)").test(t[n]))return!1;t[n]+=" "+r}else t[n]=r;return!0})}),removeLineClass:it(null,function(t,e,r){return ce(this,t,function(t){var n="text"==e?"textClass":"background"==e?"bgClass":"wrapClass",i=t[n];if(!i)return!1;if(null==r)t[n]=null;else{var o=i.match(new RegExp("(?:^|\\s+)"+r+"(?:$|\\s+)"));if(!o)return!1;var l=o.index+o[0].length;t[n]=i.slice(0,o.index)+(o.index&&l!=i.length?" ":"")+i.slice(l)||null}return!0})}),addLineWidget:it(null,function(t,e,r){return Ke(this,t,e,r)}),removeLineWidget:function(t){t.clear()},lineInfo:function(t){if("number"==typeof t){if(!qt(this.doc,t))return null;var e=t;if(t=cr(this.doc,t),!t)return null}else{var e=dr(t);if(null==e)return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.showingFrom,to:this.display.showingTo}},addWidget:function(t,e,r,n,i){var o=this.display;t=q(this,Yt(this.doc,t));var l=t.bottom,a=t.left;if(e.style.position="absolute",o.sizer.appendChild(e),"over"==n)l=t.top;else if("above"==n||"near"==n){var s=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||t.bottom+e.offsetHeight>s)&&t.top>e.offsetHeight?l=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=s&&(l=t.bottom),a+e.offsetWidth>c&&(a=c-e.offsetWidth)}e.style.top=l+"px",e.style.left=e.style.right="","right"==i?(a=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?a=0:"middle"==i&&(a=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),r&&ie(this,a,l,a+e.offsetWidth,l+e.offsetHeight)},triggerOnKeyDown:it(null,At),execCommand:function(t){return ci[t](this)},findPosH:function(t,e,r,n){var i=1;0>e&&(i=-1,e=-e);for(var o=0,l=Yt(this.doc,t);e>o&&(l=ue(this.doc,l,i,r,n),!l.hitSide);++o);return l},moveH:it(null,function(t,e){var r,n=this.doc.sel;r=n.shift||n.extend||Kt(n.from,n.to)?ue(this.doc,n.head,t,e,this.options.rtlMoveVisually):0>t?n.from:n.to,Zt(this.doc,r,r,t)}),deleteH:it(null,function(t,e){var r=this.doc.sel;Kt(r.from,r.to)?Rt(this.doc,"",r.from,ue(this.doc,r.head,t,e,!1),"+delete"):Rt(this.doc,"",r.from,r.to,"+delete"),this.curOp.userSelChange=!0}),findPosV:function(t,e,r,n){var i=1,o=n;0>e&&(i=-1,e=-e);for(var l=0,a=Yt(this.doc,t);e>l;++l){var s=q(this,a,"div");if(null==o?o=s.left:s.left=o,a=fe(this,s,i,r),a.hitSide)break}return a},moveV:it(null,function(t,e){var r=this.doc.sel,n=q(this,r.head,"div");null!=r.goalColumn&&(n.left=r.goalColumn);var i=fe(this,n,t,e);"page"==e&&ae(this,0,$(this,i,"div").top-n.top),Zt(this.doc,i,i,t),r.goalColumn=n.left}),toggleOverwrite:function(t){(null==t||t!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?this.display.cursor.className+=" CodeMirror-overwrite":this.display.cursor.className=this.display.cursor.className.replace(" CodeMirror-overwrite",""))},hasFocus:function(){return this.state.focused},scrollTo:it(null,function(t,e){le(this,t,e)}),getScrollInfo:function(){var t=this.display.scroller,e=Ci;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-e,width:t.scrollWidth-e,clientHeight:t.clientHeight-e,clientWidth:t.clientWidth-e}},scrollIntoView:it(null,function(t,e){"number"==typeof t&&(t=jt(t,0)),e||(e=0);var r=t;t&&null==t.line||(this.curOp.scrollToPos=t?Yt(this.doc,t):this.doc.sel.head,this.curOp.scrollToPosMargin=e,r=q(this,this.curOp.scrollToPos));var n=oe(this,r.left,r.top-e,r.right,r.bottom+e);le(this,n.scrollLeft,n.scrollTop)}),setSize:function(t,e){function r(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t}null!=t&&(this.display.wrapper.style.width=r(t)),null!=e&&(this.display.wrapper.style.height=r(e)),this.refresh()},operation:function(t){return lt(this,t)},refresh:it(null,function(){K(this),le(this,this.doc.scrollLeft,this.doc.scrollTop),at(this)}),swapDoc:it(null,function(t){var e=this.doc;return e.cm=null,sr(this,t),K(this),ft(this,!0),le(this,t.scrollLeft,t.scrollTop),e}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Rr(t);var ei=t.optionHandlers={},ri=t.defaults={},ni=t.Init={toString:function(){return"CodeMirror.Init"}};pe("value","",function(t,e){t.setValue(e)},!0),pe("mode",null,function(t,e){t.doc.modeOption=e,r(t)},!0),pe("indentUnit",2,r,!0),pe("indentWithTabs",!1),pe("smartIndent",!0),pe("tabSize",4,function(t){r(t),K(t),at(t)},!0),pe("electricChars",!0),pe("rtlMoveVisually",!Fn),pe("theme","default",function(t){a(t),s(t)},!0),pe("keyMap","default",l),pe("extraKeys",null),pe("onKeyEvent",null),pe("onDragEvent",null),pe("lineWrapping",!1,n,!0),pe("gutters",[],function(t){h(t.options),s(t)},!0),pe("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?y(t.display)+"px":"0",t.refresh()},!0),pe("coverGutterNextToScrollbar",!1,d,!0),pe("lineNumbers",!1,function(t){h(t.options),s(t)},!0),pe("firstLineNumber",1,s,!0),pe("lineNumberFormatter",function(t){return t},s,!0),pe("showCursorWhenSelecting",!1,T,!0),pe("readOnly",!1,function(t,e){"nocursor"==e?(Wt(t),t.display.input.blur()):e||ft(t,!0)}),pe("dragDrop",!0),pe("cursorBlinkRate",530),pe("cursorScrollMargin",0),pe("cursorHeight",1),pe("workTime",100),pe("workDelay",100),pe("flattenSpans",!0),pe("pollInterval",100),pe("undoDepth",40,function(t,e){t.doc.history.undoDepth=e}),pe("historyEventDelay",500),pe("viewportMargin",10,function(t){t.refresh()},!0),pe("maxHighlightLength",1e4,function(t){r(t),t.refresh()},!0),pe("moveInputWithCursor",!0,function(t,e){e||(t.display.inputDiv.style.top=t.display.inputDiv.style.left=0)}),pe("tabindex",null,function(t,e){t.display.input.tabIndex=e||""}),pe("autofocus",null);var ii=t.modes={},oi=t.mimeModes={};t.defineMode=function(e,r){if(t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2){r.dependencies=[];for(var n=2;n<arguments.length;++n)r.dependencies.push(arguments[n])}ii[e]=r},t.defineMIME=function(t,e){oi[t]=e},t.resolveMode=function(e){if("string"==typeof e&&oi.hasOwnProperty(e))e=oi[e];else if(e&&"string"==typeof e.name&&oi.hasOwnProperty(e.name)){var r=oi[e.name];e=$r(r,e),e.name=r.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,r){var r=t.resolveMode(r),n=ii[r.name];if(!n)return t.getMode(e,"text/plain");var i=n(e,r);if(li.hasOwnProperty(r.name)){var o=li[r.name];for(var l in o)o.hasOwnProperty(l)&&(i.hasOwnProperty(l)&&(i["_"+l]=i[l]),i[l]=o[l])}return i.name=r.name,i},t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null");var li=t.modeExtensions={};t.extendMode=function(t,e){var r=li.hasOwnProperty(t)?li[t]:li[t]={};qr(e,r)},t.defineExtension=function(e,r){t.prototype[e]=r},t.defineDocExtension=function(t,e){gi.prototype[t]=e},t.defineOption=pe;var ai=[];t.defineInitHook=function(t){ai.push(t)};var si=t.helpers={};t.registerHelper=function(e,r,n){si.hasOwnProperty(e)||(si[e]=t[e]={}),si[e][r]=n},t.isWordChar=Qr,t.copyState=me,t.startState=ge,t.innerMode=function(t,e){for(;t.innerMode;){var r=t.innerMode(e);e=r.state,t=r.mode}return r||{mode:t,state:e}};var ci=t.commands={selectAll:function(t){t.setSelection(jt(t.firstLine(),0),jt(t.lastLine()))},killLine:function(t){var e=t.getCursor(!0),r=t.getCursor(!1),n=!Kt(e,r);n||t.getLine(e.line).length!=e.ch?t.replaceRange("",e,n?r:jt(e.line),"+delete"):t.replaceRange("",e,jt(e.line+1,0),"+delete")},deleteLine:function(t){var e=t.getCursor().line;t.replaceRange("",jt(e,0),jt(e),"+delete")},delLineLeft:function(t){var e=t.getCursor();t.replaceRange("",jt(e.line,0),e,"+delete")},undo:function(t){t.undo()},redo:function(t){t.redo()},goDocStart:function(t){t.extendSelection(jt(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(jt(t.lastLine()))},goLineStart:function(t){t.extendSelection(mn(t,t.getCursor().line))},goLineStartSmart:function(t){var e=t.getCursor(),r=mn(t,e.line),n=t.getLineHandle(r.line),i=gr(n);if(i&&0!=i[0].level)t.extendSelection(r);else{var o=Math.max(0,n.text.search(/\S/)),l=e.line==r.line&&e.ch<=o&&e.ch;t.extendSelection(jt(r.line,l?0:o))}},goLineEnd:function(t){t.extendSelection(gn(t,t.getCursor().line))},goLineRight:function(t){var e=t.charCoords(t.getCursor(),"div").top+5;t.extendSelection(t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:e},"div"))},goLineLeft:function(t){var e=t.charCoords(t.getCursor(),"div").top+5;t.extendSelection(t.coordsChar({left:0,top:e},"div"))},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("	","end","+input")},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.replaceSelection("	","end","+input")},transposeChars:function(t){var e=t.getCursor(),r=t.getLine(e.line);e.ch>0&&e.ch<r.length-1&&t.replaceRange(r.charAt(e.ch)+r.charAt(e.ch-1),jt(e.line,e.ch-1),jt(e.line,e.ch+1))},newlineAndIndent:function(t){it(t,function(){t.replaceSelection("\n","end","+input"),t.indentLine(t.getCursor().line,null,!0)})()},toggleOverwrite:function(t){t.toggleOverwrite()}},ui=t.keyMap={};ui.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},ui.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},ui.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft",fallthrough:["basic","emacsy"]},ui["default"]=Pn?ui.macDefault:ui.pcDefault,ui.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},t.lookupKey=ye,t.isModifierKey=xe,t.keyName=be,t.fromTextArea=function(e,r){function n(){e.value=c.getValue()}if(r||(r={}),r.value=e.value,!r.tabindex&&e.tabindex&&(r.tabindex=e.tabindex),!r.placeholder&&e.placeholder&&(r.placeholder=e.placeholder),null==r.autofocus){var i=document.body;try{i=document.activeElement}catch(o){}r.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}if(e.form&&(zr(e.form,"submit",n),!r.leaveSubmitMethodAlone)){var l=e.form,a=l.submit;try{var s=l.submit=function(){n(),l.submit=a,l.submit(),l.submit=s}}catch(o){}}e.style.display="none";var c=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},r);return c.save=n,c.getTextArea=function(){return e},c.toTextArea=function(){n(),e.parentNode.removeChild(c.getWrapperElement()),e.style.display="",e.form&&(Ir(e.form,"submit",n),"function"==typeof e.form.submit&&(e.form.submit=a))},c},Ce.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var r=e==t;else var r=e&&(t.test?t.test(e):t(e));return r?(++this.pos,e):void 0},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);return e>-1?(this.pos=e,!0):void 0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Kr(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue},indentation:function(){return Kr(this.string,null,this.tabSize)},match:function(t,e,r){if("string"!=typeof t){var n=this.string.slice(this.pos).match(t);return n&&n.index>0?null:(n&&e!==!1&&(this.pos+=n[0].length),n)}var i=function(t){return r?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);return i(o)==i(t)?(e!==!1&&(this.pos+=t.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},t.StringStream=Ce,t.TextMarker=we,Rr(we),we.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;e&&rt(t);for(var r=null,n=null,i=0;i<this.lines.length;++i){var o=this.lines[i],l=Se(o.markedSpans,this);null!=l.to&&(n=dr(o)),o.markedSpans=Te(o.markedSpans,l),null!=l.from?r=dr(o):this.collapsed&&!Fe(this.doc,o)&&t&&hr(o,tt(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var i=0;i<this.lines.length;++i){var a=Pe(t.doc,this.lines[i]),s=u(t.doc,a);s>t.display.maxLineLength&&(t.display.maxLine=a,t.display.maxLineLength=s,t.display.maxLineChanged=!0)}null!=r&&t&&at(t,r,n+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&te(t)),e&&nt(t),Fr(this,"clear")}},we.prototype.find=function(){for(var t,e,r=0;r<this.lines.length;++r){var n=this.lines[r],i=Se(n.markedSpans,this);if(null!=i.from||null!=i.to){var o=dr(n);null!=i.from&&(t=jt(o,i.from)),null!=i.to&&(e=jt(o,i.to))}}return"bookmark"==this.type?t:t&&{from:t,to:e}},we.prototype.changed=function(){var t=this.find(),e=this.doc.cm;if(t&&e){var r=cr(this.doc,t.from.line);if(B(e,r),t.from.line>=e.display.showingFrom&&t.from.line<e.display.showingTo){for(var n=e.display.lineDiv.firstChild;n;n=n.nextSibling)if(n.lineObj==r){n.offsetHeight!=r.height&&hr(r,n.offsetHeight);break}lt(e,function(){e.curOp.selectionChanged=!0})}}},we.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=Yr(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},we.prototype.detachLine=function(t){if(this.lines.splice(Yr(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},t.SharedTextMarker=Le,Rr(Le),Le.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Fr(this,"clear")}},Le.prototype.find=function(){return this.primary.find()};var fi=t.LineWidget=function(t,e,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.cm=t,this.node=e};Rr(fi),fi.prototype.clear=Re(function(){var t=this.line.widgets,e=dr(this.line);if(null!=e&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(this.line.widgets=null);var n=mr(this.cm,this.line)<this.cm.doc.scrollTop;hr(this.line,Math.max(0,this.line.height-je(this))),n&&ae(this.cm,0,-this.height),at(this.cm,e,e+1)}}),fi.prototype.changed=Re(function(){var t=this.height;this.height=null;var e=je(this)-t;if(e){hr(this.line,this.line.height+e);var r=dr(this.line);at(this.cm,r,r+1)}});var hi=t.Line=function(t,e,r){this.text=t,Ge(this,e),this.height=r?r(this):1};Rr(hi);var di={},pi=/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\uFEFF]/g;or.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var r=t,n=t+e;n>r;++r){var i=this.lines[r];this.height-=i.height,_e(i),Fr(i,"delete")}this.lines.splice(t,e)},collapse:function(t){t.splice.apply(t,[t.length,0].concat(this.lines))},insertInner:function(t,e,r){this.height+=r,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var n=0,i=e.length;i>n;++n)e[n].parent=this},iterN:function(t,e,r){for(var n=t+e;n>t;++t)if(r(this.lines[t]))return!0}},lr.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(i>t){var o=Math.min(e,i-t),l=n.height;if(n.removeInner(t,o),this.height-=l-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(e-=o))break;t=0}else t-=i}if(this.size-e<25){var a=[];this.collapse(a),this.children=[new or(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0,r=this.children.length;r>e;++e)this.children[e].collapse(t)},insertInner:function(t,e,r){this.size+=e.length,this.height+=r;for(var n=0,i=this.children.length;i>n;++n){var o=this.children[n],l=o.chunkSize();if(l>=t){if(o.insertInner(t,e,r),o.lines&&o.lines.length>50){for(;o.lines.length>50;){var a=o.lines.splice(o.lines.length-25,25),s=new or(a);o.height-=s.height,this.children.splice(n+1,0,s),s.parent=this}this.maybeSpill()}break}t-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),r=new lr(e);if(t.parent){t.size-=r.size,t.height-=r.height;var n=Yr(t.parent.children,t);t.parent.children.splice(n+1,0,r)}else{var i=new lr(t.children);i.parent=t,t.children=[i,r],t=i}r.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,r){for(var n=0,i=this.children.length;i>n;++n){var o=this.children[n],l=o.chunkSize();if(l>t){var a=Math.min(e,l-t);if(o.iterN(t,a,r))return!0;if(0==(e-=a))break;t=0}else t-=l}}};var mi=0,gi=t.Doc=function(t,e,r){if(!(this instanceof gi))return new gi(t,e,r);null==r&&(r=0),lr.call(this,[new or([new hi("",null)])]),
this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.history=vr(),this.cleanGeneration=1,this.frontier=r;var n=jt(r,0);this.sel={from:n,to:n,head:n,anchor:n,shift:!1,extend:!1,goalColumn:null},this.id=++mi,this.modeOption=e,"string"==typeof t&&(t=Ni(t)),ir(this,{from:n,to:n,text:t},null,{head:n,anchor:n})};gi.prototype=$r(lr.prototype,{constructor:gi,iter:function(t,e,r){r?this.iterN(t-this.first,e-t,r):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var r=0,n=0,i=e.length;i>n;++n)r+=e[n].height;this.insertInner(t-this.first,e,r)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=fr(this,this.first,this.first+this.size);return t===!1?e:e.join(t||"\n")},setValue:function(t){var e=jt(this.first,0),r=this.first+this.size-1;It(this,{from:e,to:jt(r,cr(this,r).text.length),text:Ni(t),origin:"setValue"},{head:e,anchor:e},!0)},replaceRange:function(t,e,r,n){e=Yt(this,e),r=r?Yt(this,r):e,Rt(this,t,e,r,n)},getRange:function(t,e,r){var n=ur(this,Yt(this,t),Yt(this,e));return r===!1?n:n.join(r||"\n")},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},setLine:function(t,e){qt(this,t)&&Rt(this,e,jt(t,0),Yt(this,jt(t)))},removeLine:function(t){t?Rt(this,"",Yt(this,jt(t-1)),Yt(this,jt(t))):Rt(this,"",jt(0,0),Yt(this,jt(1,0)))},getLineHandle:function(t){return qt(this,t)?cr(this,t):void 0},getLineNumber:function(t){return dr(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=cr(this,t)),Pe(this,t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return Yt(this,t)},getCursor:function(t){var e,r=this.sel;return e=null==t||"head"==t?r.head:"anchor"==t?r.anchor:"end"==t||t===!1?r.to:r.from,_t(e)},somethingSelected:function(){return!Kt(this.sel.head,this.sel.anchor)},setCursor:ot(function(t,e,r){var n=Yt(this,"number"==typeof t?jt(t,e||0):t);r?Zt(this,n):Qt(this,n,n)}),setSelection:ot(function(t,e){Qt(this,Yt(this,t),Yt(this,e||t))}),extendSelection:ot(function(t,e){Zt(this,Yt(this,t),e&&Yt(this,e))}),getSelection:function(t){return this.getRange(this.sel.from,this.sel.to,t)},replaceSelection:function(t,e,r){It(this,{from:this.sel.from,to:this.sel.to,text:Ni(t),origin:r},e||"around")},undo:ot(function(){Ft(this,"undo")}),redo:ot(function(){Ft(this,"redo")}),setExtending:function(t){this.sel.extend=t},historySize:function(){var t=this.history;return{undo:t.done.length,redo:t.undone.length}},clearHistory:function(){this.history=vr(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration()},changeGeneration:function(){return this.history.lastOp=this.history.lastOrigin=null,this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:kr(this.history.done),undone:kr(this.history.undone)}},setHistory:function(t){var e=this.history=vr(this.history.maxGeneration);e.done=t.done.slice(0),e.undone=t.undone.slice(0)},markText:function(t,e,r){return ke(this,Yt(this,t),Yt(this,e),r,"range")},setBookmark:function(t,e){var r={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft};return t=Yt(this,t),ke(this,t,t,r,"bookmark")},findMarksAt:function(t){t=Yt(this,t);var e=[],r=cr(this,t.line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&e.push(i.marker.parent||i.marker)}return e},getAllMarks:function(){var t=[];return this.iter(function(e){var r=e.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&t.push(r[n].marker)}),t},posFromIndex:function(t){var e,r=this.first;return this.iter(function(n){var i=n.text.length+1;return i>t?(e=t,!0):(t-=i,void++r)}),Yt(this,jt(r,e))},indexFromPos:function(t){t=Yt(this,t);var e=t.ch;return t.line<this.first||t.ch<0?0:(this.iter(this.first,t.line,function(t){e+=t.text.length+1}),e)},copy:function(t){var e=new gi(fr(this,this.first,this.first+this.size),this.modeOption,this.first);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel={from:this.sel.from,to:this.sel.to,head:this.sel.head,anchor:this.sel.anchor,shift:this.sel.shift,extend:!1,goalColumn:this.sel.goalColumn},t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,r=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<r&&(r=t.to);var n=new gi(fr(this,e,r),t.mode||this.modeOption,e);return t.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:t.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],n},unlinkDoc:function(e){if(e instanceof t&&(e=e.doc),this.linked)for(var r=0;r<this.linked.length;++r){var n=this.linked[r];if(n.doc==e){this.linked.splice(r,1),e.unlinkDoc(this);break}}if(e.history==this.history){var i=[e.id];ar(e,function(t){i.push(t.id)},!0),e.history=vr(),e.history.done=kr(this.history.done,i),e.history.undone=kr(this.history.undone,i)}},iterLinkedDocs:function(t){ar(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),gi.prototype.eachLine=gi.prototype.iter;var vi="iter insert remove copy getEditor".split(" ");for(var yi in gi.prototype)gi.prototype.hasOwnProperty(yi)&&Yr(vi,yi)<0&&(t.prototype[yi]=function(t){return function(){return t.apply(this.doc,arguments)}}(gi.prototype[yi]));Rr(gi),t.e_stop=Or,t.e_preventDefault=Nr,t.e_stopPropagation=Hr;var xi,bi=0;t.on=zr,t.off=Ir,t.signal=Pr;var Ci=30,wi=t.Pass={toString:function(){return"CodeMirror.Pass"}};jr.prototype={set:function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)}},t.countColumn=Kr;var ki=[""],Li=/[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Mi=/[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff]/;t.replaceGetRect=function(t){ln=t};var Si=function(){if(Mn)return!1;var t=en("div");return"draggable"in t||"dragDrop"in t}();wn?an=function(t,e){return 36==t.charCodeAt(e-1)&&39==t.charCodeAt(e)}:Hn&&!/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent)?an=function(t,e){return/\-[^ \-?]|\?[^ !\'\"\),.\-\/:;\?\]\}]/.test(t.slice(e-1,e+1))}:Sn&&!/Chrome\/(?:29|[3-9]\d|\d\d\d)\./.test(navigator.userAgent)&&(an=function(t,e){if(e>1&&45==t.charCodeAt(e-1)){if(/\w/.test(t.charAt(e-2))&&/[^\-?\.]/.test(t.charAt(e)))return!0;if(e>2&&/[\d\.,]/.test(t.charAt(e-2))&&/[\d\.,]/.test(t.charAt(e)))return!1}return/[~!#%&*)=+}\]|\"\.>,:;][({[<]|-[^\-?\.\u2010-\u201f\u2026]|\?[\w~`@#$%\^&*(_=+{[|><]|\u2026[\w~`@#$%\^&*(_=+{[><]/.test(t.slice(e-1,e+1))});var Ti,Ai,Ni=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,r=[],n=t.length;n>=e;){var i=t.indexOf("\n",e);-1==i&&(i=t.length);var o=t.slice(e,"\r"==t.charAt(i-1)?i-1:i),l=o.indexOf("\r");-1!=l?(r.push(o.slice(0,l)),e+=l+1):(r.push(o),e=i+1)}return r}:function(t){return t.split(/\r\n?|\n/)};t.splitLines=Ni;var Hi=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(r){}return e&&e.parentElement()==t?0!=e.compareEndPoints("StartToEnd",e):!1},Wi=function(){var t=en("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),Oi={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};t.keyNames=Oi,function(){for(var t=0;10>t;t++)Oi[t+48]=String(t);for(var t=65;90>=t;t++)Oi[t]=String.fromCharCode(t);for(var t=1;12>=t;t++)Oi[t+111]=Oi[t+63235]="F"+t}();var Di,Ei=function(){function t(t){return 255>=t?e.charAt(t):t>=1424&&1524>=t?"R":t>=1536&&1791>=t?r.charAt(t-1536):t>=1792&&2220>=t?"r":"L"}var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,l=/[Lb1n]/,a=/[1n]/,s="L";return function(e){if(!n.test(e))return!1;for(var r,c=e.length,u=[],f=0;c>f;++f)u.push(r=t(e.charCodeAt(f)));for(var f=0,h=s;c>f;++f){var r=u[f];"m"==r?u[f]=h:h=r}for(var f=0,d=s;c>f;++f){var r=u[f];"1"==r&&"r"==d?u[f]="n":o.test(r)&&(d=r,"r"==r&&(u[f]="R"))}for(var f=1,h=u[0];c-1>f;++f){var r=u[f];"+"==r&&"1"==h&&"1"==u[f+1]?u[f]="1":","!=r||h!=u[f+1]||"1"!=h&&"n"!=h||(u[f]=h),h=r}for(var f=0;c>f;++f){var r=u[f];if(","==r)u[f]="N";else if("%"==r){for(var p=f+1;c>p&&"%"==u[p];++p);for(var m=f&&"!"==u[f-1]||c-1>p&&"1"==u[p]?"1":"N",g=f;p>g;++g)u[g]=m;f=p-1}}for(var f=0,d=s;c>f;++f){var r=u[f];"L"==d&&"1"==r?u[f]="L":o.test(r)&&(d=r)}for(var f=0;c>f;++f)if(i.test(u[f])){for(var p=f+1;c>p&&i.test(u[p]);++p);for(var v="L"==(f?u[f-1]:s),y="L"==(c-1>p?u[p]:s),m=v||y?"L":"R",g=f;p>g;++g)u[g]=m;f=p-1}for(var x,b=[],f=0;c>f;)if(l.test(u[f])){var C=f;for(++f;c>f&&l.test(u[f]);++f);b.push({from:C,to:f,level:0})}else{var w=f,k=b.length;for(++f;c>f&&"L"!=u[f];++f);for(var g=w;f>g;)if(a.test(u[g])){g>w&&b.splice(k,0,{from:w,to:g,level:1});var L=g;for(++g;f>g&&a.test(u[g]);++g);b.splice(k,0,{from:L,to:g,level:2}),w=g}else++g;f>w&&b.splice(k,0,{from:w,to:f,level:1})}return 1==b[0].level&&(x=e.match(/^\s+/))&&(b[0].from=x[0].length,b.unshift({from:0,to:x[0].length,level:0})),1==_r(b).level&&(x=e.match(/\s+$/))&&(_r(b).to-=x[0].length,b.push({from:c-x[0].length,to:c,level:0})),b[0].level!=_r(b).level&&b.push({from:c,to:c,level:b[0].level}),b}}();return t.version="3.14.1",t}(),function(){function t(t,i){var o=t.getCursor(),l=t.getTokenAt(o),a=CodeMirror.innerMode(t.getMode(),l.state),s=a.state;if("xml"!=a.mode.name)return CodeMirror.Pass;var c=t.getOption("autoCloseTags"),u="html"==a.mode.configuration,f="object"==typeof c&&c.dontCloseTags||u&&r,h="object"==typeof c&&c.indentTags||u&&n;if(">"==i&&s.tagName){var d=s.tagName;l.end>o.ch&&(d=d.slice(0,d.length-l.end+o.ch));var p=d.toLowerCase();if("tag"==l.type&&"closeTag"==s.type||l.string.indexOf("/")==l.string.length-1||f&&e(f,p)>-1)return CodeMirror.Pass;var m=h&&e(h,p)>-1,g=m?CodeMirror.Pos(o.line+1,0):CodeMirror.Pos(o.line,o.ch+1);return t.replaceSelection(">"+(m?"\n\n":"")+"</"+d+">",{head:g,anchor:g}),void(m&&(t.indentLine(o.line+1),t.indentLine(o.line+2)))}if("/"==i&&"<"==l.string){var d=s.context&&s.context.tagName;return void(d&&t.replaceSelection("/"+d+">","end"))}return CodeMirror.Pass}function e(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;n>r;++r)if(t[r]==e)return r;return-1}CodeMirror.defineOption("autoCloseTags",!1,function(e,r,n){if(!r||n!=CodeMirror.Init&&n)!r&&n!=CodeMirror.Init&&n&&e.removeKeyMap("autoCloseTags");else{var i={name:"autoCloseTags"};("object"!=typeof r||r.whenClosing)&&(i["'/'"]=function(e){return t(e,"/")}),("object"!=typeof r||r.whenOpening)&&(i["'>'"]=function(e){return t(e,">")}),e.addKeyMap(i)}});var r=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],n=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"]}(),function(){function t(t,e,r){function n(e,r,n){if(e.text){var l=h?0:e.text.length-1,s=h?e.text.length:-1;if(e.text.length>a)return null;for(null!=n&&(l=n+d);l!=s;l+=d){var c=e.text.charAt(l);if(v.test(c)&&t.getTokenTypeAt(i(r,l+1))==m){var u=o[c];if(">"==u.charAt(1)==h)g.push(c);else{if(g.pop()!=u.charAt(0))return{pos:l,match:!1};if(!g.length)return{pos:l,match:!0}}}}}}var l=t.state.matchBrackets,a=l&&l.maxScanLineLength||1e4,s=e||t.getCursor(),c=t.getLineHandle(s.line),u=s.ch-1,f=u>=0&&o[c.text.charAt(u)]||o[c.text.charAt(++u)];if(!f)return null;var h=">"==f.charAt(1),d=h?1:-1;if(r&&h!=(u==s.ch))return null;for(var p,m=t.getTokenTypeAt(i(s.line,u+1)),g=[c.text.charAt(u)],v=/[(){}[\]]/,y=s.line,x=h?Math.min(y+100,t.lineCount()):Math.max(-1,y-100);y!=x&&!(p=y==s.line?n(c,y,u):n(t.getLineHandle(y),y));y+=d);return{from:i(s.line,u),to:p&&i(y,p.pos),match:p&&p.match,forward:h}}function e(e,r){var o=e.state.matchBrackets.maxHighlightLineLength||1e3,l=t(e);if(!(!l||e.getLine(l.from.line).length>o||l.to&&e.getLine(l.to.line).length>o)){var a=l.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",s=e.markText(l.from,i(l.from.line,l.from.ch+1),{className:a}),c=l.to&&e.markText(l.to,i(l.to.line,l.to.ch+1),{className:a});n&&e.state.focused&&e.display.input.focus();var u=function(){e.operation(function(){s.clear(),c&&c.clear()})};return r?void setTimeout(u,800):u}}function r(t){t.operation(function(){l&&(l(),l=null),t.somethingSelected()||(l=e(t,!1))})}var n=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),i=CodeMirror.Pos,o={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;CodeMirror.defineOption("matchBrackets",!1,function(t,e,n){n&&n!=CodeMirror.Init&&t.off("cursorActivity",r),e&&(t.state.matchBrackets="object"==typeof e?e:{},t.on("cursorActivity",r))}),CodeMirror.defineExtension("matchBrackets",function(){e(this,!0)}),CodeMirror.defineExtension("findMatchingBracket",function(e,r){return t(this,e,r)})}(),CodeMirror.defineMode("htmlmixed",function(t,e){function r(t,e){var r=e.htmlState.tagName,n=l.token(t,e.htmlState);if("script"==r&&/\btag\b/.test(n)&&">"==t.current()){var c=t.string.slice(Math.max(0,t.pos-100),t.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);c=c?c[1]:"",c&&/[\"\']/.test(c.charAt(0))&&(c=c.slice(1,c.length-1));for(var u=0;u<s.length;++u){var f=s[u];if("string"==typeof f.matches?c==f.matches:f.matches.test(c)){f.mode&&(e.token=i,e.localMode=f.mode,e.localState=f.mode.startState&&f.mode.startState(l.indent(e.htmlState,"")));break}}}else"style"==r&&/\btag\b/.test(n)&&">"==t.current()&&(e.token=o,e.localMode=a,e.localState=a.startState(l.indent(e.htmlState,"")));return n}function n(t,e,r){var n,i=t.current(),o=i.search(e);return o>-1?t.backUp(i.length-o):(n=i.match(/<\/?$/))&&(t.backUp(i.length),t.match(e,!1)||t.match(i[0])),r}function i(t,e){return t.match(/^<\/\s*script\s*>/i,!1)?(e.token=r,e.localState=e.localMode=null,r(t,e)):n(t,/<\/\s*script\s*>/,e.localMode.token(t,e.localState))}function o(t,e){return t.match(/^<\/\s*style\s*>/i,!1)?(e.token=r,e.localState=e.localMode=null,r(t,e)):n(t,/<\/\s*style\s*>/,a.token(t,e.localState))}var l=CodeMirror.getMode(t,{name:"xml",htmlMode:!0}),a=CodeMirror.getMode(t,"css"),s=[],c=e&&e.scriptTypes;if(s.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:CodeMirror.getMode(t,"javascript")}),c)for(var u=0;u<c.length;++u){var f=c[u];s.push({matches:f.matches,mode:f.mode&&CodeMirror.getMode(t,f.mode)})}return s.push({matches:/./,mode:CodeMirror.getMode(t,"text/plain")}),{startState:function(){var t=l.startState();return{token:r,localMode:null,localState:null,htmlState:t}},copyState:function(t){if(t.localState)var e=CodeMirror.copyState(t.localMode,t.localState);return{token:t.token,localMode:t.localMode,localState:e,htmlState:CodeMirror.copyState(l,t.htmlState)}},token:function(t,e){return e.token(t,e)},indent:function(t,e){return!t.localMode||/^\s*<\//.test(e)?l.indent(t.htmlState,e):t.localMode.indent?t.localMode.indent(t.localState,e):CodeMirror.Pass},electricChars:"/{}:",innerMode:function(t){return{state:t.localState||t.htmlState,mode:t.localMode||l}}}},"xml","javascript","css"),CodeMirror.defineMIME("text/html","htmlmixed"),CodeMirror.defineMode("javascript",function(t,e){function r(t,e,r){return e.tokenize=r,r(t,e)}function n(t,e){for(var r,n=!1;null!=(r=t.next());){if(r==e&&!n)return!1;n=!n&&"\\"==r}return n}function i(t,e,r){return K=t,U=r,e}function o(t,e){var o=t.next();if('"'==o||"'"==o)return r(t,e,l(o));if(/[\[\]{}\(\),;\:\.]/.test(o))return i(o);if("0"==o&&t.eat(/x/i))return t.eatWhile(/[\da-f]/i),i("number","number");if(/\d/.test(o)||"-"==o&&t.eat(/\d/))return t.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==o)return t.eat("*")?r(t,e,a):t.eat("/")?(t.skipToEnd(),i("comment","comment")):"operator"==e.lastType||"keyword c"==e.lastType||/^[\[{}\(,;:]$/.test(e.lastType)?(n(t,"/"),t.eatWhile(/[gimy]/),i("regexp","string-2")):(t.eatWhile(Z),i("operator",null,t.current()));if("#"==o)return t.skipToEnd(),i("error","error");if(Z.test(o))return t.eatWhile(Z),i("operator",null,t.current());t.eatWhile(/[\w\$_]/);var s=t.current(),c=q.propertyIsEnumerable(s)&&q[s];return c&&"."!=e.lastType?i(c.type,c.style,s):i("variable","variable",s)}function l(t){return function(e,r){return n(e,t)||(r.tokenize=o),i("string","string")}}function a(t,e){for(var r,n=!1;r=t.next();){if("/"==r&&n){e.tokenize=o;break}n="*"==r}return i("comment","comment")}function s(t,e,r,n,i,o){this.indented=t,this.column=e,this.type=r,this.prev=i,this.info=o,null!=n&&(this.align=n)}function c(t,e){for(var r=t.localVars;r;r=r.next)if(r.name==e)return!0}function u(t,e,r,n,i){var o=t.cc;for(Q.state=t,Q.stream=i,Q.marked=null,Q.cc=o,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;){var l=o.length?o.pop():Y?b:x;if(l(r,n)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Q.marked?Q.marked:"variable"==r&&c(t,n)?"variable-2":e}}}function f(){for(var t=arguments.length-1;t>=0;t--)Q.cc.push(arguments[t])}function h(){return f.apply(null,arguments),!0}function d(t){function e(e){for(var r=e;r;r=r.next)if(r.name==t)return!0;return!1}var r=Q.state;if(r.context){if(Q.marked="def",e(r.localVars))return;r.localVars={name:t,next:r.localVars}}else{if(e(r.globalVars))return;r.globalVars={name:t,next:r.globalVars}}}function p(){Q.state.context={prev:Q.state.context,vars:Q.state.localVars},Q.state.localVars=tt}function m(){Q.state.localVars=Q.state.context.vars,Q.state.context=Q.state.context.prev}function g(t,e){var r=function(){var r=Q.state,n=r.indented;"stat"==r.lexical.type&&(n=r.lexical.indented),r.lexical=new s(n,Q.stream.column(),t,null,r.lexical,e)};return r.lex=!0,r}function v(){var t=Q.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function y(t){return function(e){return e==t?h():";"==t?f():h(arguments.callee)}}function x(t){return"var"==t?h(g("vardef"),z,y(";"),v):"keyword a"==t?h(g("form"),b,x,v):"keyword b"==t?h(g("form"),x,v):"{"==t?h(g("}"),O,v):";"==t?h():"if"==t?h(g("form"),b,x,v,P):"function"==t?h(R):"for"==t?h(g("form"),y("("),g(")"),F,y(")"),v,x,v):"variable"==t?h(g("stat"),T):"switch"==t?h(g("form"),b,g("}","switch"),y("{"),O,v,v):"case"==t?h(b,y(":")):"default"==t?h(y(":")):"catch"==t?h(g("form"),p,y("("),j,y(")"),x,v,m):f(g("stat"),b,y(";"),v)}function b(t){return w(t,!1)}function C(t){return w(t,!0)}function w(t,e){var r=e?S:M;return J.hasOwnProperty(t)?h(r):"function"==t?h(R):"keyword c"==t?h(e?L:k):"("==t?h(g(")"),k,y(")"),v,r):"operator"==t?h(e?C:b):"["==t?h(g("]"),W(C,"]"),v,r):"{"==t?h(g("}"),W(N,"}"),v,r):h()}function k(t){return t.match(/[;\}\)\],]/)?f():f(b)}function L(t){return t.match(/[;\}\)\],]/)?f():f(C)}function M(t,e){return","==t?h(b):S(t,e,M)}function S(t,e,r){return r||(r=S),"operator"==t?/\+\+|--/.test(e)?h(r):"?"==e?h(b,y(":"),b):h(b):";"!=t?"("==t?h(g(")","call"),W(C,")"),v,r):"."==t?h(A,r):"["==t?h(g("]"),k,y("]"),v,r):void 0:void 0}function T(t){return":"==t?h(v,x):f(M,y(";"),v)}function A(t){return"variable"==t?(Q.marked="property",h()):void 0}function N(t,e){if("variable"==t){if(Q.marked="property","get"==e||"set"==e)return h(H)}else("number"==t||"string"==t)&&(Q.marked=t+" property");return J.hasOwnProperty(t)?h(y(":"),C):void 0}function H(t){return":"==t?h(b):"variable"!=t?h(y(":"),b):(Q.marked="property",h(R))}function W(t,e){function r(n){if(","==n){var i=Q.state.lexical;return"call"==i.info&&(i.pos=(i.pos||0)+1),h(t,r)}return n==e?h():h(y(e))}return function(n){return n==e?h():f(t,r)}}function O(t){return"}"==t?h():f(x,O)}function D(t){return":"==t?h(E):f()}function E(t){return"variable"==t?(Q.marked="variable-3",h()):f()}function z(t,e){return"variable"==t?(d(e),$?h(D,I):h(I)):f()}function I(t,e){return"="==e?h(C,I):","==t?h(z):void 0}function P(t,e){return"keyword b"==t&&"else"==e?h(g("form"),x,v):void 0}function F(t){return"var"==t?h(z,y(";"),B):";"==t?h(B):"variable"==t?h(V):f(b,y(";"),B)}function V(t,e){return"in"==e?h(b):h(M,B)}function B(t,e){return";"==t?h(G):"in"==e?h(b):f(b,y(";"),G)}function G(t){")"!=t&&h(b)}function R(t,e){return"variable"==t?(d(e),h(R)):"("==t?h(g(")"),p,W(j,")"),v,x,m):void 0}function j(t,e){return"variable"==t?(d(e),$?h(D):h()):void 0}var K,U,_=t.indentUnit,X=e.statementIndent,Y=e.json,$=e.typescript,q=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),r=t("keyword b"),n=t("keyword c"),i=t("operator"),o={type:"atom",style:"atom"},l={"if":t("if"),"while":e,"with":e,"else":r,"do":r,"try":r,"finally":r,"return":n,"break":n,"continue":n,"new":n,"delete":n,"throw":n,"var":t("var"),"const":t("var"),let:t("var"),"function":t("function"),"catch":t("catch"),"for":t("for"),"switch":t("switch"),"case":t("case"),"default":t("default"),"in":i,"typeof":i,"instanceof":i,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":t("this")};if($){var a={type:"variable",style:"variable-3"},s={"interface":t("interface"),"class":t("class"),"extends":t("extends"),constructor:t("constructor"),"public":t("public"),"private":t("private"),"protected":t("protected"),"static":t("static"),"super":t("super"),string:a,number:a,bool:a,any:a};for(var c in s)l[c]=s[c]}return l}(),Z=/[+\-*&%=<>!?|~^]/,J={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0},Q={state:null,column:null,marked:null,cc:null},tt={name:"this",next:{name:"arguments"}};return v.lex=!0,{startState:function(t){return{tokenize:o,lastType:null,cc:[],lexical:new s((t||0)-_,0,"block",!1),localVars:e.localVars,globalVars:e.globalVars,context:e.localVars&&{vars:e.localVars},indented:0}},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation()),e.tokenize!=a&&t.eatSpace())return null;var r=e.tokenize(t,e);return"comment"==K?r:(e.lastType="operator"!=K||"++"!=U&&"--"!=U?K:"incdec",u(e,r,K,U,t))},indent:function(t,r){if(t.tokenize==a)return CodeMirror.Pass;if(t.tokenize!=o)return 0;for(var n=r&&r.charAt(0),i=t.lexical,l=t.cc.length-1;l>=0;--l){var s=t.cc[l];if(s==v)i=i.prev;else if(s!=P||/^else\b/.test(r))break}"stat"==i.type&&"}"==n&&(i=i.prev),X&&")"==i.type&&"stat"==i.prev.type&&(i=i.prev);var c=i.type,u=n==c;return"vardef"==c?i.indented+("operator"==t.lastType||","==t.lastType?4:0):"form"==c&&"{"==n?i.indented:"form"==c?i.indented+_:"stat"==c?i.indented+("operator"==t.lastType||","==t.lastType?X||_:0):"switch"!=i.info||u||0==e.doubleIndentSwitch?i.align?i.column+(u?0:1):i.indented+(u?0:_):i.indented+(/^(?:case|default)\b/.test(r)?_:2*_)},electricChars:":{}",blockCommentStart:Y?null:"/*",blockCommentEnd:Y?null:"*/",lineComment:Y?null:"//",fold:"brace",helperType:Y?"json":"javascript",jsonMode:Y}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/x-json",{name:"javascript",json:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMode("xml",function(t,e){function r(t,e){function r(r){return e.tokenize=r,r(t,e)}var i=t.next();if("<"==i){if(t.eat("!"))return t.eat("[")?t.match("CDATA[")?r(o("atom","]]>")):null:t.match("--")?r(o("comment","-->")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),r(l(1))):null;if(t.eat("?"))return t.eatWhile(/[\w\._\-]/),e.tokenize=o("meta","?>"),"meta";var a=t.eat("/");x="";for(var s;s=t.eat(/[^\s\u00a0=<>\"\'\/?]/);)x+=s;return x?(b=a?"closeTag":"openTag",e.tokenize=n,"tag"):"error"}if("&"==i){var c;return c=t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"),c?"atom":"error"}return t.eatWhile(/[^&<]/),null}function n(t,e){var n=t.next();return">"==n||"/"==n&&t.eat(">")?(e.tokenize=r,b=">"==n?"endTag":"selfcloseTag","tag"):"="==n?(b="equals",null):"<"==n?"error":/[\'\"]/.test(n)?(e.tokenize=i(n),e.tokenize(t,e)):(t.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function i(t){return function(e,r){for(;!e.eol();)if(e.next()==t){r.tokenize=n;break}return"string"}}function o(t,e){return function(n,i){for(;!n.eol();){if(n.match(e)){i.tokenize=r;break}n.next()}return t}}function l(t){return function(e,n){for(var i;null!=(i=e.next());){if("<"==i)return n.tokenize=l(t+1),n.tokenize(e,n);if(">"==i){if(1==t){n.tokenize=r;break}return n.tokenize=l(t-1),n.tokenize(e,n)}}return"meta"}}function a(){for(var t=arguments.length-1;t>=0;t--)C.cc.push(arguments[t])}function s(){return a.apply(null,arguments),!0}function c(t,e){var r=S.doNotIndent.hasOwnProperty(t)||C.context&&C.context.noIndent;C.context={prev:C.context,tagName:t,indent:C.indented,startOfLine:e,noIndent:r}}function u(){C.context&&(C.context=C.context.prev)}function f(t){if("openTag"==t)return C.tagName=x,C.tagStart=w.column(),s(m,h(C.startOfLine));if("closeTag"==t){var e=!1;return C.context?C.context.tagName!=x&&(S.implicitlyClosed.hasOwnProperty(C.context.tagName.toLowerCase())&&u(),e=!C.context||C.context.tagName!=x):e=!0,e&&(k="error"),s(d(e))}return s()}function h(t){return function(e){var r=C.tagName;return C.tagName=C.tagStart=null,"selfcloseTag"==e||"endTag"==e&&S.autoSelfClosers.hasOwnProperty(r.toLowerCase())?(p(r.toLowerCase()),s()):"endTag"==e?(p(r.toLowerCase()),c(r,t),s()):s()}}function d(t){return function(e){return t&&(k="error"),"endTag"==e?(u(),s()):(k="error",s(arguments.callee))}}function p(t){for(var e;;){if(!C.context)return;if(e=C.context.tagName.toLowerCase(),!S.contextGrabbers.hasOwnProperty(e)||!S.contextGrabbers[e].hasOwnProperty(t))return;u()}}function m(t){return"word"==t?(k="attribute",s(g,m)):"endTag"==t||"selfcloseTag"==t?a():(k="error",s(m))}function g(t){return"equals"==t?s(v,m):(S.allowMissing?"word"==t&&(k="attribute"):k="error","endTag"==t||"selfcloseTag"==t?a():s())}function v(t){return"string"==t?s(y):"word"==t&&S.allowUnquoted?(k="string",s()):(k="error","endTag"==t||"selfCloseTag"==t?a():s())}function y(t){return"string"==t?s(y):a()}var x,b,C,w,k,L=t.indentUnit,M=e.multilineTagIndentFactor||1,S=e.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},T=e.alignCDATA;return{startState:function(){return{tokenize:r,cc:[],indented:0,startOfLine:!0,tagName:null,tagStart:null,context:null}},token:function(t,e){if(!e.tagName&&t.sol()&&(e.startOfLine=!0,e.indented=t.indentation()),t.eatSpace())return null;k=b=x=null;var r=e.tokenize(t,e);if(e.type=b,(r||b)&&"comment"!=r)for(C=e,w=t;;){var n=e.cc.pop()||f;if(n(b||r))break}return e.startOfLine=!1,k||r},indent:function(t,e,i){var o=t.context;if(t.tokenize!=n&&t.tokenize!=r||o&&o.noIndent)return i?i.match(/^(\s*)/)[0].length:0;if(t.tagName)return t.tagStart+L*M;if(T&&/<!\[CDATA\[/.test(e))return 0;for(o&&/^<\//.test(e)&&(o=o.prev);o&&!o.startOfLine;)o=o.prev;return o?o.indent+L:0},electricChars:"/",blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:e.htmlMode?"html":"xml",helperType:e.htmlMode?"html":"xml"}}),CodeMirror.defineMIME("text/xml","xml"),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0});;
/** @license
  Copyright (C) 2012 Ariya Hidayat <ariya.hidayat@gmail.com>
  Copyright (C) 2012 Mathias Bynens <mathias@qiwi.be>
  Copyright (C) 2012 Joost-Wim Boekesteijn <joost-wim@boekesteijn.nl>
  Copyright (C) 2012 Kris Kowal <kris.kowal@cixar.com>
  Copyright (C) 2012 Yusuke Suzuki <utatane.tea@gmail.com>
  Copyright (C) 2012 Arpad Borsos <arpad.borsos@googlemail.com>
  Copyright (C) 2011 Ariya Hidayat <ariya.hidayat@gmail.com>

  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY
  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["exports"],t):t("undefined"!=typeof exports?exports:e.esprima={})}(this,function(e){"use strict";function t(e,t){if(!e)throw new Error("ASSERT: "+t)}function r(e){return e>=48&&57>=e}function n(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function a(e){return"01234567".indexOf(e)>=0}function i(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&" ᠎             　".indexOf(String.fromCharCode(e))>0}function o(e){return 10===e||13===e||8232===e||8233===e}function c(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||92===e||e>=128&&it.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function s(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||e>=48&&57>=e||92===e||e>=128&&it.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function u(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function l(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function p(e){return"eval"===e||"arguments"===e}function f(e){if(st&&l(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function d(){var e,t,r;for(t=!1,r=!1;ft>ut;)if(e=ct.charCodeAt(ut),r)++ut,o(e)&&(r=!1,13===e&&10===ct.charCodeAt(ut)&&++ut,++lt,pt=ut);else if(t)o(e)?(13===e&&10===ct.charCodeAt(ut+1)&&++ut,++lt,++ut,pt=ut,ut>=ft&&P({},at.UnexpectedToken,"ILLEGAL")):(e=ct.charCodeAt(ut++),ut>=ft&&P({},at.UnexpectedToken,"ILLEGAL"),42===e&&(e=ct.charCodeAt(ut),47===e&&(++ut,t=!1)));else if(47===e)if(e=ct.charCodeAt(ut+1),47===e)ut+=2,r=!0;else{if(42!==e)break;ut+=2,t=!0,ut>=ft&&P({},at.UnexpectedToken,"ILLEGAL")}else if(i(e))++ut;else{if(!o(e))break;++ut,13===e&&10===ct.charCodeAt(ut)&&++ut,++lt,pt=ut}}function m(e){var t,r,a,i=0;for(r="u"===e?4:2,t=0;r>t;++t){if(!(ft>ut&&n(ct[ut])))return"";a=ct[ut++],i=16*i+"0123456789abcdef".indexOf(a.toLowerCase())}return String.fromCharCode(i)}function y(){var e,t;for(e=ct.charCodeAt(ut++),t=String.fromCharCode(e),92===e&&(117!==ct.charCodeAt(ut)&&P({},at.UnexpectedToken,"ILLEGAL"),++ut,e=m("u"),(!e||"\\"===e||!c(e.charCodeAt(0)))&&P({},at.UnexpectedToken,"ILLEGAL"),t=e);ft>ut&&(e=ct.charCodeAt(ut),s(e));)++ut,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==ct.charCodeAt(ut)&&P({},at.UnexpectedToken,"ILLEGAL"),++ut,e=m("u"),(!e||"\\"===e||!s(e.charCodeAt(0)))&&P({},at.UnexpectedToken,"ILLEGAL"),t+=e);return t}function g(){var e,t;for(e=ut++;ft>ut;){if(t=ct.charCodeAt(ut),92===t)return ut=e,y();if(!s(t))break;++ut}return ct.slice(e,ut)}function h(){var e,t,r;return e=ut,t=92===ct.charCodeAt(ut)?y():g(),r=1===t.length?et.Identifier:f(t)?et.Keyword:"null"===t?et.NullLiteral:"true"===t||"false"===t?et.BooleanLiteral:et.Identifier,{type:r,value:t,lineNumber:lt,lineStart:pt,range:[e,ut]}}function S(){var e,t,r,n,a=ut,i=ct.charCodeAt(ut),o=ct[ut];switch(i){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ut,{type:et.Punctuator,value:String.fromCharCode(i),lineNumber:lt,lineStart:pt,range:[a,ut]};default:if(e=ct.charCodeAt(ut+1),61===e)switch(i){case 37:case 38:case 42:case 43:case 45:case 47:case 60:case 62:case 94:case 124:return ut+=2,{type:et.Punctuator,value:String.fromCharCode(i)+String.fromCharCode(e),lineNumber:lt,lineStart:pt,range:[a,ut]};case 33:case 61:return ut+=2,61===ct.charCodeAt(ut)&&++ut,{type:et.Punctuator,value:ct.slice(a,ut),lineNumber:lt,lineStart:pt,range:[a,ut]}}}return t=ct[ut+1],r=ct[ut+2],n=ct[ut+3],">"===o&&">"===t&&">"===r&&"="===n?(ut+=4,{type:et.Punctuator,value:">>>=",lineNumber:lt,lineStart:pt,range:[a,ut]}):">"===o&&">"===t&&">"===r?(ut+=3,{type:et.Punctuator,value:">>>",lineNumber:lt,lineStart:pt,range:[a,ut]}):"<"===o&&"<"===t&&"="===r?(ut+=3,{type:et.Punctuator,value:"<<=",lineNumber:lt,lineStart:pt,range:[a,ut]}):">"===o&&">"===t&&"="===r?(ut+=3,{type:et.Punctuator,value:">>=",lineNumber:lt,lineStart:pt,range:[a,ut]}):o===t&&"+-<>&|".indexOf(o)>=0?(ut+=2,{type:et.Punctuator,value:o+t,lineNumber:lt,lineStart:pt,range:[a,ut]}):"<>=!+-*%&|^/".indexOf(o)>=0?(++ut,{type:et.Punctuator,value:o,lineNumber:lt,lineStart:pt,range:[a,ut]}):void P({},at.UnexpectedToken,"ILLEGAL")}function x(e){for(var t="";ft>ut&&n(ct[ut]);)t+=ct[ut++];return 0===t.length&&P({},at.UnexpectedToken,"ILLEGAL"),c(ct.charCodeAt(ut))&&P({},at.UnexpectedToken,"ILLEGAL"),{type:et.NumericLiteral,value:parseInt("0x"+t,16),lineNumber:lt,lineStart:pt,range:[e,ut]}}function v(e){for(var t="0"+ct[ut++];ft>ut&&a(ct[ut]);)t+=ct[ut++];return(c(ct.charCodeAt(ut))||r(ct.charCodeAt(ut)))&&P({},at.UnexpectedToken,"ILLEGAL"),{type:et.NumericLiteral,value:parseInt(t,8),octal:!0,lineNumber:lt,lineStart:pt,range:[e,ut]}}function b(){var e,n,i;if(i=ct[ut],t(r(i.charCodeAt(0))||"."===i,"Numeric literal must start with a decimal digit or a decimal point"),n=ut,e="","."!==i){if(e=ct[ut++],i=ct[ut],"0"===e){if("x"===i||"X"===i)return++ut,x(n);if(a(i))return v(n);i&&r(i.charCodeAt(0))&&P({},at.UnexpectedToken,"ILLEGAL")}for(;r(ct.charCodeAt(ut));)e+=ct[ut++];i=ct[ut]}if("."===i){for(e+=ct[ut++];r(ct.charCodeAt(ut));)e+=ct[ut++];i=ct[ut]}if("e"===i||"E"===i)if(e+=ct[ut++],i=ct[ut],("+"===i||"-"===i)&&(e+=ct[ut++]),r(ct.charCodeAt(ut)))for(;r(ct.charCodeAt(ut));)e+=ct[ut++];else P({},at.UnexpectedToken,"ILLEGAL");return c(ct.charCodeAt(ut))&&P({},at.UnexpectedToken,"ILLEGAL"),{type:et.NumericLiteral,value:parseFloat(e),lineNumber:lt,lineStart:pt,range:[n,ut]}}function E(){var e,r,n,i,c,s,u="",l=!1;for(e=ct[ut],t("'"===e||'"'===e,"String literal must starts with a quote"),r=ut,++ut;ft>ut;){if(n=ct[ut++],n===e){e="";break}if("\\"===n)if(n=ct[ut++],n&&o(n.charCodeAt(0)))++lt,"\r"===n&&"\n"===ct[ut]&&++ut;else switch(n){case"n":u+="\n";break;case"r":u+="\r";break;case"t":u+="	";break;case"u":case"x":s=ut,c=m(n),c?u+=c:(ut=s,u+=n);break;case"b":u+="\b";break;case"f":u+="\f";break;case"v":u+="";break;default:a(n)?(i="01234567".indexOf(n),0!==i&&(l=!0),ft>ut&&a(ct[ut])&&(l=!0,i=8*i+"01234567".indexOf(ct[ut++]),"0123".indexOf(n)>=0&&ft>ut&&a(ct[ut])&&(i=8*i+"01234567".indexOf(ct[ut++]))),u+=String.fromCharCode(i)):u+=n}else{if(o(n.charCodeAt(0)))break;u+=n}}return""!==e&&P({},at.UnexpectedToken,"ILLEGAL"),{type:et.StringLiteral,value:u,octal:l,lineNumber:lt,lineStart:pt,range:[r,ut]}}function L(){var e,r,n,a,i,c,u,l=!1,p=!1;for(mt=null,d(),n=ut,r=ct[ut],t("/"===r,"Regular expression literal must start with a slash"),e=ct[ut++];ft>ut;)if(r=ct[ut++],e+=r,l)"]"===r&&(l=!1);else if("\\"===r)r=ct[ut++],o(r.charCodeAt(0))&&P({},at.UnterminatedRegExp),e+=r;else{if("/"===r){p=!0;break}"["===r?l=!0:o(r.charCodeAt(0))&&P({},at.UnterminatedRegExp)}for(p||P({},at.UnterminatedRegExp),a=e.substr(1,e.length-2),i="";ft>ut&&(r=ct[ut],s(r.charCodeAt(0)));)if(++ut,"\\"===r&&ft>ut)if(r=ct[ut],"u"===r)if(++ut,u=ut,r=m("u"),r)for(i+=r,e+="\\u";ut>u;++u)e+=ct[u];else ut=u,i+="u",e+="\\u";else e+="\\";else i+=r,e+=r;try{c=new RegExp(a,i)}catch(f){P({},at.InvalidRegExp)}return k(),{literal:e,value:c,range:[n,ut]}}function w(e){return e.type===et.Identifier||e.type===et.Keyword||e.type===et.BooleanLiteral||e.type===et.NullLiteral}function C(){var e;return d(),ut>=ft?{type:et.EOF,lineNumber:lt,lineStart:pt,range:[ut,ut]}:(e=ct.charCodeAt(ut),40===e||41===e||58===e?S():39===e||34===e?E():c(e)?h():46===e?r(ct.charCodeAt(ut+1))?b():S():r(e)?b():S())}function I(){var e;return e=mt,ut=e.range[1],lt=e.lineNumber,pt=e.lineStart,mt=C(),ut=e.range[1],lt=e.lineNumber,pt=e.lineStart,e}function k(){var e,t,r;e=ut,t=lt,r=pt,mt=C(),ut=e,lt=t,pt=r}function A(){var e,t,r,n;return e=ut,t=lt,r=pt,d(),n=lt!==t,ut=e,lt=t,pt=r,n}function P(e,r){var n,a=Array.prototype.slice.call(arguments,2),i=r.replace(/%(\d)/g,function(e,r){return t(r<a.length,"Message reference must be in range"),a[r]});throw"number"==typeof e.lineNumber?(n=new Error("Line "+e.lineNumber+": "+i),n.index=e.range[0],n.lineNumber=e.lineNumber,n.column=e.range[0]-pt+1):(n=new Error("Line "+lt+": "+i),n.index=ut,n.lineNumber=lt,n.column=ut-pt+1),n.description=i,n}function N(){try{P.apply(null,arguments)}catch(e){if(!gt.errors)throw e;gt.errors.push(e)}}function O(e){if(e.type===et.EOF&&P(e,at.UnexpectedEOS),e.type===et.NumericLiteral&&P(e,at.UnexpectedNumber),e.type===et.StringLiteral&&P(e,at.UnexpectedString),e.type===et.Identifier&&P(e,at.UnexpectedIdentifier),e.type===et.Keyword){if(u(e.value))P(e,at.UnexpectedReserved);else if(st&&l(e.value))return void N(e,at.StrictReservedWord);P(e,at.UnexpectedToken,e.value)}P(e,at.UnexpectedToken,e.value)}function F(e){var t=I();(t.type!==et.Punctuator||t.value!==e)&&O(t)}function D(e){var t=I();(t.type!==et.Keyword||t.value!==e)&&O(t)}function U(e){return mt.type===et.Punctuator&&mt.value===e}function R(e){return mt.type===et.Keyword&&mt.value===e}function B(){var e;return mt.type!==et.Punctuator?!1:(e=mt.value,"="===e||"*="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e)}function T(){var e;return 59===ct.charCodeAt(ut)?void I():(e=lt,d(),lt===e?U(";")?void I():void(mt.type!==et.EOF&&!U("}")&&O(mt)):void 0)}function j(e){return e.type===rt.Identifier||e.type===rt.MemberExpression}function G(){var e=[];for(F("[");!U("]");)U(",")?(I(),e.push(null)):(e.push(ae()),U("]")||F(","));return F("]"),dt.createArrayExpression(e)}function V(e,t){var r,n;return r=st,n=Oe(),t&&st&&p(e[0].name)&&N(t,at.StrictParamName),st=r,dt.createFunctionExpression(null,e,[],n)}function M(){var e=I();return e.type===et.StringLiteral||e.type===et.NumericLiteral?(st&&e.octal&&N(e,at.StrictOctalLiteral),dt.createLiteral(e)):dt.createIdentifier(e.value)}function W(){var e,t,r,n,a;return e=mt,e.type===et.Identifier?(r=M(),"get"!==e.value||U(":")?"set"!==e.value||U(":")?(F(":"),n=ae(),dt.createProperty("init",r,n)):(t=M(),F("("),e=mt,e.type!==et.Identifier&&O(I()),a=[se()],F(")"),n=V(a,e),dt.createProperty("set",t,n)):(t=M(),F("("),F(")"),n=V([]),dt.createProperty("get",t,n))):e.type!==et.EOF&&e.type!==et.Punctuator?(t=M(),F(":"),n=ae(),dt.createProperty("init",t,n)):void O(e)}function H(){var e,t,r,n,a=[],i={},o=String;for(F("{");!U("}");)e=W(),t=e.key.type===rt.Identifier?e.key.name:o(e.key.value),n="init"===e.kind?nt.Data:"get"===e.kind?nt.Get:nt.Set,r="$"+t,Object.prototype.hasOwnProperty.call(i,r)?(i[r]===nt.Data?st&&n===nt.Data?N({},at.StrictDuplicateProperty):n!==nt.Data&&N({},at.AccessorDataProperty):n===nt.Data?N({},at.AccessorDataProperty):i[r]&n&&N({},at.AccessorGetSet),i[r]|=n):i[r]=n,a.push(e),U("}")||F(",");return F("}"),dt.createObjectExpression(a)}function K(){var e;return F("("),e=ie(),F(")"),e}function q(){var e,t;if(e=mt.type,e===et.Identifier)return dt.createIdentifier(I().value);if(e===et.StringLiteral||e===et.NumericLiteral)return st&&mt.octal&&N(mt,at.StrictOctalLiteral),dt.createLiteral(I());if(e===et.Keyword){if(R("this"))return I(),dt.createThisExpression();if(R("function"))return Ue()}return e===et.BooleanLiteral?(t=I(),t.value="true"===t.value,dt.createLiteral(t)):e===et.NullLiteral?(t=I(),t.value=null,dt.createLiteral(t)):U("[")?G():U("{")?H():U("(")?K():U("/")||U("/=")?dt.createLiteral(L()):O(I())}function $(){var e=[];if(F("("),!U(")"))for(;ft>ut&&(e.push(ae()),!U(")"));)F(",");return F(")"),e}function z(){var e=I();return w(e)||O(e),dt.createIdentifier(e.value)}function X(){return F("."),z()}function J(){var e;return F("["),e=ie(),F("]"),e}function Q(){var e,t;return D("new"),e=Z(),t=U("(")?$():[],dt.createNewExpression(e,t)}function Y(){var e,t,r;for(e=R("new")?Q():q();U(".")||U("[")||U("(");)U("(")?(t=$(),e=dt.createCallExpression(e,t)):U("[")?(r=J(),e=dt.createMemberExpression("[",e,r)):(r=X(),e=dt.createMemberExpression(".",e,r));return e}function Z(){var e,t;for(e=R("new")?Q():q();U(".")||U("[");)U("[")?(t=J(),e=dt.createMemberExpression("[",e,t)):(t=X(),e=dt.createMemberExpression(".",e,t));return e}function _(){var e,t=Y();return mt.type!==et.Punctuator?t:((U("++")||U("--"))&&!A()&&(st&&t.type===rt.Identifier&&p(t.name)&&N({},at.StrictLHSPostfix),j(t)||P({},at.InvalidLHSInAssignment),e=I(),t=dt.createPostfixExpression(e.value,t)),t)}function ee(){var e,t;return mt.type!==et.Punctuator&&mt.type!==et.Keyword?_():U("++")||U("--")?(e=I(),t=ee(),st&&t.type===rt.Identifier&&p(t.name)&&N({},at.StrictLHSPrefix),j(t)||P({},at.InvalidLHSInAssignment),dt.createUnaryExpression(e.value,t)):U("+")||U("-")||U("~")||U("!")?(e=I(),t=ee(),dt.createUnaryExpression(e.value,t)):R("delete")||R("void")||R("typeof")?(e=I(),t=ee(),t=dt.createUnaryExpression(e.value,t),st&&"delete"===t.operator&&t.argument.type===rt.Identifier&&N({},at.StrictDelete),t):_()}function te(e,t){var r=0;if(e.type!==et.Punctuator&&e.type!==et.Keyword)return 0;switch(e.value){case"||":r=1;break;case"&&":r=2;break;case"|":r=3;break;case"^":r=4;break;case"&":r=5;break;case"==":case"!=":case"===":case"!==":r=6;break;case"<":case">":case"<=":case">=":case"instanceof":r=7;break;case"in":r=t?7:0;break;case"<<":case">>":case">>>":r=8;break;case"+":case"-":r=9;break;case"*":case"/":case"%":r=11}return r}function re(){var e,t,r,n,a,i,o,c,s;if(n=yt.allowIn,yt.allowIn=!0,e=ee(),t=mt,r=te(t,n),0===r)return e;for(t.prec=r,I(),a=[e,t,ee()];(r=te(mt,n))>0;){for(;a.length>2&&r<=a[a.length-2].prec;)i=a.pop(),o=a.pop().value,c=a.pop(),a.push(dt.createBinaryExpression(o,c,i));t=I(),t.prec=r,a.push(t),a.push(ee())}for(yt.allowIn=n,s=a.length-1,e=a[s];s>1;)e=dt.createBinaryExpression(a[s-1].value,a[s-2],e),s-=2;return e}function ne(){var e,t,r,n;return e=re(),U("?")&&(I(),t=yt.allowIn,yt.allowIn=!0,r=ae(),yt.allowIn=t,F(":"),n=ae(),e=dt.createConditionalExpression(e,r,n)),e}function ae(){var e,t,r;return e=mt,t=ne(),B()?(j(t)||P({},at.InvalidLHSInAssignment),st&&t.type===rt.Identifier&&p(t.name)&&N(e,at.StrictLHSAssignment),e=I(),r=ae(),dt.createAssignmentExpression(e.value,t,r)):t}function ie(){var e=ae();if(U(","))for(e=dt.createSequenceExpression([e]);ft>ut&&U(",");)I(),e.expressions.push(ae());return e}function oe(){for(var e,t=[];ft>ut&&!U("}")&&(e=Re(),"undefined"!=typeof e);)t.push(e);return t}function ce(){var e;return F("{"),e=oe(),F("}"),dt.createBlockStatement(e)}function se(){var e=I();return e.type!==et.Identifier&&O(e),dt.createIdentifier(e.value)}function ue(e){var t=se(),r=null;return st&&p(t.name)&&N({},at.StrictVarName),"const"===e?(F("="),r=ae()):U("=")&&(I(),r=ae()),dt.createVariableDeclarator(t,r)}function le(e){var t=[];do{if(t.push(ue(e)),!U(","))break;I()}while(ft>ut);return t}function pe(){var e;return D("var"),e=le(),T(),dt.createVariableDeclaration(e,"var")}function fe(e){var t;return D(e),t=le(e),T(),dt.createVariableDeclaration(t,e)}function de(){return F(";"),dt.createEmptyStatement()}function me(){var e=ie();return T(),dt.createExpressionStatement(e)}function ye(){var e,t,r;return D("if"),F("("),e=ie(),F(")"),t=Ne(),R("else")?(I(),r=Ne()):r=null,dt.createIfStatement(e,t,r)}function ge(){var e,t,r;return D("do"),r=yt.inIteration,yt.inIteration=!0,e=Ne(),yt.inIteration=r,D("while"),F("("),t=ie(),F(")"),U(";")&&I(),dt.createDoWhileStatement(e,t)}function he(){var e,t,r;return D("while"),F("("),e=ie(),F(")"),r=yt.inIteration,yt.inIteration=!0,t=Ne(),yt.inIteration=r,dt.createWhileStatement(e,t)}function Se(){var e=I(),t=le();return dt.createVariableDeclaration(t,e.value)}function xe(){var e,t,r,n,a,i,o;return e=t=r=null,D("for"),F("("),U(";")?I():(R("var")||R("let")?(yt.allowIn=!1,e=Se(),yt.allowIn=!0,1===e.declarations.length&&R("in")&&(I(),n=e,a=ie(),e=null)):(yt.allowIn=!1,e=ie(),yt.allowIn=!0,R("in")&&(j(e)||P({},at.InvalidLHSInForIn),I(),n=e,a=ie(),e=null)),"undefined"==typeof n&&F(";")),"undefined"==typeof n&&(U(";")||(t=ie()),F(";"),U(")")||(r=ie())),F(")"),o=yt.inIteration,yt.inIteration=!0,i=Ne(),yt.inIteration=o,"undefined"==typeof n?dt.createForStatement(e,t,r,i):dt.createForInStatement(n,a,i)}function ve(){var e,t=null;return D("continue"),59===ct.charCodeAt(ut)?(I(),yt.inIteration||P({},at.IllegalContinue),dt.createContinueStatement(null)):A()?(yt.inIteration||P({},at.IllegalContinue),dt.createContinueStatement(null)):(mt.type===et.Identifier&&(t=se(),e="$"+t.name,Object.prototype.hasOwnProperty.call(yt.labelSet,e)||P({},at.UnknownLabel,t.name)),T(),null===t&&!yt.inIteration&&P({},at.IllegalContinue),dt.createContinueStatement(t))}function be(){var e,t=null;return D("break"),59===ct.charCodeAt(ut)?(I(),!yt.inIteration&&!yt.inSwitch&&P({},at.IllegalBreak),dt.createBreakStatement(null)):A()?(!yt.inIteration&&!yt.inSwitch&&P({},at.IllegalBreak),dt.createBreakStatement(null)):(mt.type===et.Identifier&&(t=se(),e="$"+t.name,Object.prototype.hasOwnProperty.call(yt.labelSet,e)||P({},at.UnknownLabel,t.name)),T(),null===t&&!yt.inIteration&&!yt.inSwitch&&P({},at.IllegalBreak),dt.createBreakStatement(t))}function Ee(){var e=null;return D("return"),yt.inFunctionBody||N({},at.IllegalReturn),32===ct.charCodeAt(ut)&&c(ct.charCodeAt(ut+1))?(e=ie(),T(),dt.createReturnStatement(e)):A()?dt.createReturnStatement(null):(U(";")||!U("}")&&mt.type!==et.EOF&&(e=ie()),T(),dt.createReturnStatement(e))}function Le(){var e,t;return st&&N({},at.StrictModeWith),D("with"),F("("),e=ie(),F(")"),t=Ne(),dt.createWithStatement(e,t)}function we(){var e,t,r=[];for(R("default")?(I(),e=null):(D("case"),e=ie()),F(":");ft>ut&&!(U("}")||R("default")||R("case"));)t=Ne(),r.push(t);return dt.createSwitchCase(e,r)}function Ce(){var e,t,r,n,a;if(D("switch"),F("("),e=ie(),F(")"),F("{"),U("}"))return I(),dt.createSwitchStatement(e);for(t=[],n=yt.inSwitch,yt.inSwitch=!0,a=!1;ft>ut&&!U("}");)r=we(),null===r.test&&(a&&P({},at.MultipleDefaultsInSwitch),a=!0),t.push(r);return yt.inSwitch=n,F("}"),dt.createSwitchStatement(e,t)}function Ie(){var e;return D("throw"),A()&&P({},at.NewlineAfterThrow),e=ie(),T(),dt.createThrowStatement(e)}function ke(){var e,t;return D("catch"),F("("),U(")")&&O(mt),e=ie(),st&&e.type===rt.Identifier&&p(e.name)&&N({},at.StrictCatchVariable),F(")"),t=ce(),dt.createCatchClause(e,t)}function Ae(){var e,t=[],r=null;return D("try"),e=ce(),R("catch")&&t.push(ke()),R("finally")&&(I(),r=ce()),0===t.length&&!r&&P({},at.NoCatchOrFinally),dt.createTryStatement(e,[],t,r)}function Pe(){return D("debugger"),T(),dt.createDebuggerStatement()}function Ne(){var e,t,r,n=mt.type;if(n===et.EOF&&O(mt),n===et.Punctuator)switch(mt.value){case";":return de();case"{":return ce();case"(":return me()}if(n===et.Keyword)switch(mt.value){case"break":return be();case"continue":return ve();case"debugger":return Pe();case"do":return ge();case"for":return xe();case"function":return De();case"if":return ye();case"return":return Ee();case"switch":return Ce();case"throw":return Ie();case"try":return Ae();case"var":return pe();case"while":return he();case"with":return Le()}return e=ie(),e.type===rt.Identifier&&U(":")?(I(),r="$"+e.name,Object.prototype.hasOwnProperty.call(yt.labelSet,r)&&P({},at.Redeclaration,"Label",e.name),yt.labelSet[r]=!0,t=Ne(),delete yt.labelSet[r],dt.createLabeledStatement(e,t)):(T(),dt.createExpressionStatement(e))}function Oe(){var e,t,r,n,a,i,o,c,s=[];for(F("{");ft>ut&&mt.type===et.StringLiteral&&(t=mt,e=Re(),s.push(e),e.expression.type===rt.Literal);)r=ct.slice(t.range[0]+1,t.range[1]-1),"use strict"===r?(st=!0,n&&N(n,at.StrictOctalLiteral)):!n&&t.octal&&(n=t);for(a=yt.labelSet,i=yt.inIteration,o=yt.inSwitch,c=yt.inFunctionBody,yt.labelSet={},yt.inIteration=!1,yt.inSwitch=!1,yt.inFunctionBody=!0;ft>ut&&!U("}")&&(e=Re(),"undefined"!=typeof e);)s.push(e);return F("}"),yt.labelSet=a,yt.inIteration=i,yt.inSwitch=o,yt.inFunctionBody=c,dt.createBlockStatement(s)}function Fe(e){var t,r,n,a,i,o,c=[];if(F("("),!U(")"))for(a={};ft>ut&&(r=mt,t=se(),i="$"+r.value,st?(p(r.value)&&(n=r,o=at.StrictParamName),Object.prototype.hasOwnProperty.call(a,i)&&(n=r,o=at.StrictParamDupe)):e||(p(r.value)?(e=r,o=at.StrictParamName):l(r.value)?(e=r,o=at.StrictReservedWord):Object.prototype.hasOwnProperty.call(a,i)&&(e=r,o=at.StrictParamDupe)),c.push(t),a[i]=!0,!U(")"));)F(",");return F(")"),{params:c,stricted:n,firstRestricted:e,message:o}}function De(){var e,t,r,n,a,i,o,c,s=[];return D("function"),r=mt,e=se(),st?p(r.value)&&N(r,at.StrictFunctionName):p(r.value)?(i=r,o=at.StrictFunctionName):l(r.value)&&(i=r,o=at.StrictReservedWord),a=Fe(i),s=a.params,n=a.stricted,i=a.firstRestricted,a.message&&(o=a.message),c=st,t=Oe(),st&&i&&P(i,o),st&&n&&N(n,o),st=c,dt.createFunctionDeclaration(e,s,[],t)}function Ue(){var e,t,r,n,a,i,o,c=null,s=[];return D("function"),U("(")||(e=mt,c=se(),st?p(e.value)&&N(e,at.StrictFunctionName):p(e.value)?(r=e,n=at.StrictFunctionName):l(e.value)&&(r=e,n=at.StrictReservedWord)),a=Fe(r),s=a.params,t=a.stricted,r=a.firstRestricted,a.message&&(n=a.message),o=st,i=Oe(),st&&r&&P(r,n),st&&t&&N(t,n),st=o,dt.createFunctionExpression(c,s,[],i)}function Re(){if(mt.type===et.Keyword)switch(mt.value){case"const":case"let":return fe(mt.value);case"function":return De();default:return Ne()}return mt.type!==et.EOF?Ne():void 0}function Be(){for(var e,t,r,n,a=[];ft>ut&&(t=mt,t.type===et.StringLiteral)&&(e=Re(),a.push(e),e.expression.type===rt.Literal);)r=ct.slice(t.range[0]+1,t.range[1]-1),"use strict"===r?(st=!0,n&&N(n,at.StrictOctalLiteral)):!n&&t.octal&&(n=t);for(;ft>ut&&(e=Re(),"undefined"!=typeof e);)a.push(e);return a}function Te(){var e;return st=!1,k(),e=Be(),dt.createProgram(e)}function je(e,r,n,a,i){t("number"==typeof n,"Comment must have valid position"),gt.comments.length>0&&gt.comments[gt.comments.length-1].range[1]>n||gt.comments.push({type:e,value:r,range:[n,a],loc:i})}function Ge(){var e,t,r,n,a,c;for(e="",a=!1,c=!1;ft>ut;)if(t=ct[ut],c)t=ct[ut++],o(t.charCodeAt(0))?(r.end={line:lt,column:ut-pt-1},c=!1,je("Line",e,n,ut-1,r),"\r"===t&&"\n"===ct[ut]&&++ut,++lt,pt=ut,e=""):ut>=ft?(c=!1,e+=t,r.end={line:lt,column:ft-pt},je("Line",e,n,ft,r)):e+=t;else if(a)o(t.charCodeAt(0))?("\r"===t&&"\n"===ct[ut+1]?(++ut,e+="\r\n"):e+=t,++lt,++ut,pt=ut,ut>=ft&&P({},at.UnexpectedToken,"ILLEGAL")):(t=ct[ut++],ut>=ft&&P({},at.UnexpectedToken,"ILLEGAL"),e+=t,"*"===t&&(t=ct[ut],"/"===t&&(e=e.substr(0,e.length-1),a=!1,++ut,r.end={line:lt,column:ut-pt},je("Block",e,n,ut,r),e="")));else if("/"===t)if(t=ct[ut+1],"/"===t)r={start:{line:lt,column:ut-pt}},n=ut,ut+=2,c=!0,ut>=ft&&(r.end={line:lt,column:ut-pt},c=!1,je("Line",e,n,ut,r));else{if("*"!==t)break;n=ut,ut+=2,a=!0,r={start:{line:lt,column:ut-pt-2}},ut>=ft&&P({},at.UnexpectedToken,"ILLEGAL")}else if(i(t.charCodeAt(0)))++ut;else{if(!o(t.charCodeAt(0)))break;++ut,"\r"===t&&"\n"===ct[ut]&&++ut,++lt,pt=ut}}function Ve(){var e,t,r,n=[];for(e=0;e<gt.comments.length;++e)t=gt.comments[e],r={type:t.type,value:t.value},gt.range&&(r.range=t.range),gt.loc&&(r.loc=t.loc),n.push(r);gt.comments=n}function Me(){var e,t,r,n,a;return d(),e=ut,t={start:{line:lt,column:ut-pt}},r=gt.advance(),t.end={line:lt,column:ut-pt},r.type!==et.EOF&&(n=[r.range[0],r.range[1]],a=ct.slice(r.range[0],r.range[1]),gt.tokens.push({type:tt[r.type],value:a,range:n,loc:t})),r}function We(){var e,t,r,n;return d(),e=ut,t={start:{line:lt,column:ut-pt}},r=gt.scanRegExp(),t.end={line:lt,column:ut-pt},gt.tokens.length>0&&(n=gt.tokens[gt.tokens.length-1],n.range[0]===e&&"Punctuator"===n.type&&("/"===n.value||"/="===n.value)&&gt.tokens.pop()),gt.tokens.push({type:"RegularExpression",value:r.literal,range:[e,ut],loc:t}),r}function He(){var e,t,r,n=[];for(e=0;e<gt.tokens.length;++e)t=gt.tokens[e],r={type:t.type,value:t.value},gt.range&&(r.range=t.range),gt.loc&&(r.loc=t.loc),n.push(r);gt.tokens=n}function Ke(){var e={};return e.range=[ut,ut],e.loc={start:{line:lt,column:ut-pt},end:{line:lt,column:ut-pt}},e.end=function(){this.range[1]=ut,this.loc.end.line=lt,this.loc.end.column=ut-pt},e.applyGroup=function(e){gt.range&&(e.groupRange=[this.range[0],this.range[1]]),gt.loc&&(e.groupLoc={start:{line:this.loc.start.line,column:this.loc.start.column},end:{line:this.loc.end.line,column:this.loc.end.column}},e=dt.postProcess(e))},e.apply=function(e){gt.range&&(e.range=[this.range[0],this.range[1]]),gt.loc&&(e.loc={start:{line:this.loc.start.line,column:this.loc.start.column},end:{line:this.loc.end.line,column:this.loc.end.column}},e=dt.postProcess(e))},e}function qe(){var e,t;return d(),e=Ke(),F("("),t=ie(),F(")"),e.end(),e.applyGroup(t),t}function $e(){var e,t,r;for(d(),e=Ke(),t=R("new")?Q():q();U(".")||U("[");)U("[")?(r=J(),t=dt.createMemberExpression("[",t,r),e.end(),e.apply(t)):(r=X(),t=dt.createMemberExpression(".",t,r),e.end(),e.apply(t));return t}function ze(){var e,t,r,n;for(d(),e=Ke(),t=R("new")?Q():q();U(".")||U("[")||U("(");)U("(")?(r=$(),t=dt.createCallExpression(t,r),e.end(),e.apply(t)):U("[")?(n=J(),t=dt.createMemberExpression("[",t,n),e.end(),e.apply(t)):(n=X(),t=dt.createMemberExpression(".",t,n),e.end(),e.apply(t));return t}function Xe(e){var t,r,n;t="[object Array]"===Object.prototype.toString.apply(e)?[]:{};for(r in e)e.hasOwnProperty(r)&&"groupRange"!==r&&"groupLoc"!==r&&(n=e[r],t[r]=null===n||"object"!=typeof n||n instanceof RegExp?n:Xe(n));return t}function Je(e,t){return function(r){function n(e){return e.type===rt.LogicalExpression||e.type===rt.BinaryExpression}function a(r){var i,o;n(r.left)&&a(r.left),n(r.right)&&a(r.right),e&&(r.left.groupRange||r.right.groupRange?(i=r.left.groupRange?r.left.groupRange[0]:r.left.range[0],o=r.right.groupRange?r.right.groupRange[1]:r.right.range[1],r.range=[i,o]):"undefined"==typeof r.range&&(i=r.left.range[0],o=r.right.range[1],r.range=[i,o])),t&&(r.left.groupLoc||r.right.groupLoc?(i=r.left.groupLoc?r.left.groupLoc.start:r.left.loc.start,o=r.right.groupLoc?r.right.groupLoc.end:r.right.loc.end,r.loc={start:i,end:o},r=dt.postProcess(r)):"undefined"==typeof r.loc&&(r.loc={start:r.left.loc.start,end:r.right.loc.end},r=dt.postProcess(r)))}return function(){var i,o;return d(),i=Ke(),o=r.apply(null,arguments),i.end(),e&&"undefined"==typeof o.range&&i.apply(o),t&&"undefined"==typeof o.loc&&i.apply(o),n(o)&&a(o),o}}}function Qe(){var e;gt.comments&&(gt.skipComment=d,d=Ge),(gt.range||gt.loc)&&(gt.parseGroupExpression=K,gt.parseLeftHandSideExpression=Z,gt.parseLeftHandSideExpressionAllowCall=Y,K=qe,Z=$e,Y=ze,e=Je(gt.range,gt.loc),gt.parseAssignmentExpression=ae,gt.parseBinaryExpression=re,gt.parseBlock=ce,gt.parseFunctionSourceElements=Oe,gt.parseCatchClause=ke,gt.parseComputedMember=J,gt.parseConditionalExpression=ne,gt.parseConstLetDeclaration=fe,gt.parseExpression=ie,gt.parseForVariableDeclaration=Se,gt.parseFunctionDeclaration=De,gt.parseFunctionExpression=Ue,gt.parseNewExpression=Q,gt.parseNonComputedProperty=z,gt.parseObjectProperty=W,gt.parseObjectPropertyKey=M,gt.parsePostfixExpression=_,gt.parsePrimaryExpression=q,gt.parseProgram=Te,gt.parsePropertyFunction=V,gt.parseStatement=Ne,gt.parseSwitchCase=we,gt.parseUnaryExpression=ee,gt.parseVariableDeclaration=ue,gt.parseVariableIdentifier=se,ae=e(gt.parseAssignmentExpression),re=e(gt.parseBinaryExpression),ce=e(gt.parseBlock),Oe=e(gt.parseFunctionSourceElements),ke=e(gt.parseCatchClause),J=e(gt.parseComputedMember),ne=e(gt.parseConditionalExpression),fe=e(gt.parseConstLetDeclaration),ie=e(gt.parseExpression),Se=e(gt.parseForVariableDeclaration),De=e(gt.parseFunctionDeclaration),Ue=e(gt.parseFunctionExpression),Z=e(Z),Q=e(gt.parseNewExpression),z=e(gt.parseNonComputedProperty),W=e(gt.parseObjectProperty),M=e(gt.parseObjectPropertyKey),_=e(gt.parsePostfixExpression),q=e(gt.parsePrimaryExpression),Te=e(gt.parseProgram),V=e(gt.parsePropertyFunction),Ne=e(gt.parseStatement),we=e(gt.parseSwitchCase),ee=e(gt.parseUnaryExpression),ue=e(gt.parseVariableDeclaration),se=e(gt.parseVariableIdentifier)),"undefined"!=typeof gt.tokens&&(gt.advance=C,gt.scanRegExp=L,C=Me,L=We)}function Ye(){"function"==typeof gt.skipComment&&(d=gt.skipComment),(gt.range||gt.loc)&&(ae=gt.parseAssignmentExpression,re=gt.parseBinaryExpression,ce=gt.parseBlock,Oe=gt.parseFunctionSourceElements,ke=gt.parseCatchClause,J=gt.parseComputedMember,ne=gt.parseConditionalExpression,fe=gt.parseConstLetDeclaration,ie=gt.parseExpression,Se=gt.parseForVariableDeclaration,De=gt.parseFunctionDeclaration,Ue=gt.parseFunctionExpression,K=gt.parseGroupExpression,Z=gt.parseLeftHandSideExpression,Y=gt.parseLeftHandSideExpressionAllowCall,Q=gt.parseNewExpression,z=gt.parseNonComputedProperty,W=gt.parseObjectProperty,M=gt.parseObjectPropertyKey,q=gt.parsePrimaryExpression,_=gt.parsePostfixExpression,Te=gt.parseProgram,V=gt.parsePropertyFunction,Ne=gt.parseStatement,we=gt.parseSwitchCase,ee=gt.parseUnaryExpression,ue=gt.parseVariableDeclaration,se=gt.parseVariableIdentifier),"function"==typeof gt.scanRegExp&&(C=gt.advance,L=gt.scanRegExp)}function Ze(e,t){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function _e(e,t){var r,n;n=String,"string"!=typeof e&&!(e instanceof String)&&(e=n(e)),dt=ot,ct=e,ut=0,lt=ct.length>0?1:0,pt=0,ft=ct.length,mt=null,yt={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1},gt={},"undefined"!=typeof t&&(gt.range="boolean"==typeof t.range&&t.range,gt.loc="boolean"==typeof t.loc&&t.loc,gt.loc&&null!==t.source&&void 0!==t.source&&(dt=Ze(dt,{postProcess:function(e){return e.loc.source=n(t.source),e}})),"boolean"==typeof t.tokens&&t.tokens&&(gt.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(gt.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(gt.errors=[])),ft>0&&"undefined"==typeof ct[0]&&e instanceof String&&(ct=e.valueOf()),Qe();try{r=Te(),"undefined"!=typeof gt.comments&&(Ve(),r.comments=gt.comments),"undefined"!=typeof gt.tokens&&(He(),r.tokens=gt.tokens),"undefined"!=typeof gt.errors&&(r.errors=gt.errors),(gt.range||gt.loc)&&(r.body=Xe(r.body))}catch(a){throw a}finally{Ye(),gt={}}return r}var et,tt,rt,nt,at,it,ot,ct,st,ut,lt,pt,ft,dt,mt,yt,gt;et={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8},tt={},tt[et.BooleanLiteral]="Boolean",tt[et.EOF]="<end>",tt[et.Identifier]="Identifier",tt[et.Keyword]="Keyword",tt[et.NullLiteral]="Null",tt[et.NumericLiteral]="Numeric",tt[et.Punctuator]="Punctuator",tt[et.StringLiteral]="String",rt={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},nt={Data:1,Get:2,Set:4},at={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",
UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},it={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},ot={name:"SyntaxTree",postProcess:function(e){return e},createArrayExpression:function(e){return{type:rt.ArrayExpression,elements:e}},createAssignmentExpression:function(e,t,r){return{type:rt.AssignmentExpression,operator:e,left:t,right:r}},createBinaryExpression:function(e,t,r){var n="||"===e||"&&"===e?rt.LogicalExpression:rt.BinaryExpression;return{type:n,operator:e,left:t,right:r}},createBlockStatement:function(e){return{type:rt.BlockStatement,body:e}},createBreakStatement:function(e){return{type:rt.BreakStatement,label:e}},createCallExpression:function(e,t){return{type:rt.CallExpression,callee:e,arguments:t}},createCatchClause:function(e,t){return{type:rt.CatchClause,param:e,body:t}},createConditionalExpression:function(e,t,r){return{type:rt.ConditionalExpression,test:e,consequent:t,alternate:r}},createContinueStatement:function(e){return{type:rt.ContinueStatement,label:e}},createDebuggerStatement:function(){return{type:rt.DebuggerStatement}},createDoWhileStatement:function(e,t){return{type:rt.DoWhileStatement,body:e,test:t}},createEmptyStatement:function(){return{type:rt.EmptyStatement}},createExpressionStatement:function(e){return{type:rt.ExpressionStatement,expression:e}},createForStatement:function(e,t,r,n){return{type:rt.ForStatement,init:e,test:t,update:r,body:n}},createForInStatement:function(e,t,r){return{type:rt.ForInStatement,left:e,right:t,body:r,each:!1}},createFunctionDeclaration:function(e,t,r,n){return{type:rt.FunctionDeclaration,id:e,params:t,defaults:r,body:n,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(e,t,r,n){return{type:rt.FunctionExpression,id:e,params:t,defaults:r,body:n,rest:null,generator:!1,expression:!1}},createIdentifier:function(e){return{type:rt.Identifier,name:e}},createIfStatement:function(e,t,r){return{type:rt.IfStatement,test:e,consequent:t,alternate:r}},createLabeledStatement:function(e,t){return{type:rt.LabeledStatement,label:e,body:t}},createLiteral:function(e){return{type:rt.Literal,value:e.value,raw:ct.slice(e.range[0],e.range[1])}},createMemberExpression:function(e,t,r){return{type:rt.MemberExpression,computed:"["===e,object:t,property:r}},createNewExpression:function(e,t){return{type:rt.NewExpression,callee:e,arguments:t}},createObjectExpression:function(e){return{type:rt.ObjectExpression,properties:e}},createPostfixExpression:function(e,t){return{type:rt.UpdateExpression,operator:e,argument:t,prefix:!1}},createProgram:function(e){return{type:rt.Program,body:e}},createProperty:function(e,t,r){return{type:rt.Property,key:t,value:r,kind:e}},createReturnStatement:function(e){return{type:rt.ReturnStatement,argument:e}},createSequenceExpression:function(e){return{type:rt.SequenceExpression,expressions:e}},createSwitchCase:function(e,t){return{type:rt.SwitchCase,test:e,consequent:t}},createSwitchStatement:function(e,t){return{type:rt.SwitchStatement,discriminant:e,cases:t}},createThisExpression:function(){return{type:rt.ThisExpression}},createThrowStatement:function(e){return{type:rt.ThrowStatement,argument:e}},createTryStatement:function(e,t,r,n){return{type:rt.TryStatement,block:e,guardedHandlers:t,handlers:r,finalizer:n}},createUnaryExpression:function(e,t){return"++"===e||"--"===e?{type:rt.UpdateExpression,operator:e,argument:t,prefix:!0}:{type:rt.UnaryExpression,operator:e,argument:t}},createVariableDeclaration:function(e,t){return{type:rt.VariableDeclaration,declarations:e,kind:t}},createVariableDeclarator:function(e,t){return{type:rt.VariableDeclarator,id:e,init:t}},createWhileStatement:function(e,t){return{type:rt.WhileStatement,test:e,body:t}},createWithStatement:function(e,t){return{type:rt.WithStatement,object:e,body:t}}},e.version="1.1.0-dev",e.parse=_e,e.Syntax=function(){var e,t={};"function"==typeof Object.create&&(t=Object.create(null));for(e in rt)rt.hasOwnProperty(e)&&(t[e]=rt[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()});;
/** @license
// idle.js (c) Alexios Chouchoulas 2009 http://www.bedroomlan.org/coding/detecting-�idle�-and-�away�-timeouts-javascript
// Released under the terms of the GNU Public License version 2.0 (or later).
*/
function setIdleTimeout(e){_idleTimeout=e,_idleTimestamp=(new Date).getTime()+e,null!=_idleTimer&&clearTimeout(_idleTimer),_idleTimer=setTimeout(_makeIdle,e+50)}function setAwayTimeout(e){_awayTimeout=e,_awayTimestamp=(new Date).getTime()+e,null!=_awayTimer&&clearTimeout(_awayTimer),_awayTimer=setTimeout(_makeAway,e+50)}function _makeIdle(){var e=(new Date).getTime();if(_idleTimestamp>e)return void(_idleTimer=setTimeout(_makeIdle,_idleTimestamp-e+50));_idleNow=!0;try{document.onIdle&&document.onIdle()}catch(t){}}function _makeAway(){var e=(new Date).getTime();if(_awayTimestamp>e)return void(_awayTimer=setTimeout(_makeAway,_awayTimestamp-e+50));_awayNow=!0;try{document.onAway&&document.onAway()}catch(t){}}function _initPrototype(){_api=_API_PROTOTYPE}function _active(e){var t=(new Date).getTime();_idleTimestamp=t+_idleTimeout,_awayTimestamp=t+_awayTimeout,_idleNow&&setIdleTimeout(_idleTimeout),_awayNow&&setAwayTimeout(_awayTimeout);try{(_idleNow||_awayNow)&&document.onBack&&document.onBack(_idleNow,_awayNow)}catch(i){}_idleNow=!1,_awayNow=!1}function _initJQuery(){_api=_API_JQUERY;var e=$(document);e.ready(function(){e.mousemove(_active);try{e.mouseenter(_active)}catch(t){}try{e.scroll(_active)}catch(t){}try{e.keydown(_active)}catch(t){}try{e.click(_active)}catch(t){}try{e.dblclick(_active)}catch(t){}})}function _initPrototype(){_api=_API_PROTOTYPE;$(document);Event.observe(window,"load",function(e){Event.observe(window,"click",_active),Event.observe(window,"mousemove",_active),Event.observe(window,"mouseenter",_active),Event.observe(window,"scroll",_active),Event.observe(window,"keydown",_active),Event.observe(window,"click",_active),Event.observe(window,"dblclick",_active)})}var _API_JQUERY=1,_API_PROTOTYPE=2,_api,_idleTimeout=5e3,_awayTimeout=1e4,_idleNow=!1,_idleTimestamp=null,_idleTimer=null,_awayNow=!1,_awayTimestamp=null,_awayTimer=null;try{Prototype&&_initPrototype()}catch(err){}try{jQuery&&_initJQuery()}catch(err){};
function TutorialIDE(t,e){this.myEl_=t,t.addClass("tutorial-ide");var i=$("<div></div>");t.append(i);var s=$("<div></div>");t.append(s),this.editorWrapper=$("<div></div>"),s.append(this.editorWrapper),this.playFrameWrapper=$("<div></div>"),this.playFrameWrapper.addClass("tutorial-live-example"),s.append(this.playFrameWrapper),this.toolbar=new IDEToolbar(i,this),this.editor=new EditorManager(this.editorWrapper),this.playFrame=new PlayFrame(this.playFrameWrapper,e),this.setPlayMode_(!1);var o=this,r=function(){o.save()};this.editor.addBlurHandler(r),setInterval(r,12e4)}function IDEToolbar(t,e){this.myIDE_=e,this.myDiv_=t,t.addClass("tutorial-toolbar"),this.editButt=$("<a><i class='icon-code'></i> Edit</a>"),this.editButt.addClass("button-ide button-ide-default"),t.append(this.editButt),this.playButt=$("<a><i class='icon-play2'></i> Play</a>"),this.playButt.addClass("button-ide button-ide-default"),t.append(this.playButt);var i=this;this.editButt.click(function(){i.onEditClick()}),this.playButt.click(function(){i.onPlayClick()}),this.setDepressedButtonEdit(!0)}function EditorManager(t){this.myDiv=t.get(0),this.regions=[],this.allMarkers_=[],this.editor=CodeMirror(this.myDiv,{mode:"htmlmixed",autoCloseTags:!0,lineNumbers:!0,lineWrapping:!1,matchBrackets:!0})}function PlayFrame(t,e){var i=window.location.hostname;if(this.demoURL="https://sandbox-tutorial.firebaseapp.com/#",("www-staging.firebase.com"===i||"localhost"===i)&&(this.demoURL="https://sandbox-testing.firebaseapp.com/#"),this.myEl=t,this.myFirebaseRef=e,this.myPlayWindowID="firebasePlayWindow"+Math.floor(1e8*Math.random()),this.myContents=null,this.myFirebaseRef){var s=$("<button class='tutorial-popout'>Popout <i class='icon-expand'></i></button>");this.myEl.append(s);var o=this;s.click(function(){o.popout()})}}TutorialIDE.prototype.setSaveHandler=function(t){this.saveHandler_=t},TutorialIDE.prototype.setMode=function(t,e){this.toolbar.setVisible(t),this.playFrame.setHeight(e),this.edit(),this.refresh()},TutorialIDE.prototype.refresh=function(){this.editor.refresh()},TutorialIDE.prototype.setText=function(t){this.setTextAsSegments([{text:t}])},TutorialIDE.prototype.setTextAsSegments=function(t){this.editor.set(t)},TutorialIDE.prototype.getText=function(){return this.editor.get().join("\n")},TutorialIDE.prototype.getTextAsSegments=function(){return this.editor.get()},TutorialIDE.prototype.play=function(){this.save(),this.setPlayMode_(!0);var t=this.getText();this.playFrame.setContents(t)},TutorialIDE.prototype.edit=function(){this.setPlayMode_(!1)},TutorialIDE.prototype.save=function(){if(this.saveHandler_){var t=this.getText();t!=this.oldText_&&(this.oldText_=t,this.saveHandler_(t))}},TutorialIDE.prototype.setPlayMode_=function(t){t?(this.editorWrapper.addClass("hide"),this.playFrameWrapper.removeClass("hide"),this.toolbar.setDepressedButtonEdit(!1)):(this.playFrame.setContents(""),this.playFrameWrapper.addClass("hide"),this.editorWrapper.removeClass("hide"),this.toolbar.setDepressedButtonEdit(!0))},IDEToolbar.prototype.setDepressedButtonEdit=function(t){t?(this.editButt.addClass("is-selected"),this.playButt.removeClass("is-selected")):(this.playButt.addClass("is-selected"),this.editButt.removeClass("is-selected"))},IDEToolbar.prototype.setVisible=function(t){t?this.myDiv_.show():this.myDiv_.hide()},IDEToolbar.prototype.onPlayClick=function(){this.myIDE_.play()},IDEToolbar.prototype.onEditClick=function(){this.myIDE_.edit()},EditorManager.prototype.setHeight=function(t){$(this.editor.getScrollerElement()).css("height",t?t+"px":"auto")},EditorManager.prototype.addBlurHandler=function(t){this.editor.on("blur",t)},EditorManager.prototype.refresh=function(){this.editor.refresh()},EditorManager.prototype.set=function(t){this.clear();for(var e="",i=0;i<t.length;i++)e+=(0===i?"":"\n")+t[i].text;this.editor.setValue(e);for(var s=this,o=function(t,e,i,o,r,a){var n=s.editor.posFromIndex(t),l=s.editor.posFromIndex(e),h=s.editor.markText(n,l,{inclusiveLeft:o,inclusiveRight:r,readOnly:i});if(a)for(var d=n.line;d<=l.line;d++)s.editor.addLineClass(d,"background","tutorial-readonly");return s.allMarkers_.push(h),h},r=0,a=0;a<t.length;a++){var n=t[a],l=a===t.length-1,h=n.readOnly,d=r+n.text.length;this.regions.push(o(r,d,h,!0,!0,h)),r=d,l||(o(r,r+1,!0,h,!1,!1),r++)}this.editor.refresh()},EditorManager.prototype.clear=function(){for(var t=0;t<this.allMarkers_.length;t++)this.allMarkers_[t].clear();this.allMarkers_=[],this.editor.setValue(""),this.editor.removeLineClass(0,"background","tutorial-readyonly"),this.regions=[]},EditorManager.prototype.get=function(){for(var t=[],e=0;e<this.regions.length;e++){var i=this.regions[e].find(),s=this.editor.getRange(i.from,i.to);t.push(s)}return t},PlayFrame.prototype.setHeight=function(t){this.myEl.css("height",t?t+"px":"auto")},PlayFrame.prototype.refreshIFrame_=function(){this.myIFrame&&$(this.myIFrame).remove(),this.myIFrame=document.createElement("iframe"),$(this.myIFrame).addClass("tutorial-iframe"),this.myEl.append($(this.myIFrame))},PlayFrame.prototype.setContents=function(t){this.myContents=t,this.refreshIFrame_(),this.myIFrame.contentWindow.contents=t,this.myIFrame.src=this.demoURL+this.myFirebaseRef.key(),$(this.myIFrame).focus(),this.myFirebaseRef.set(this.myContents)},PlayFrame.prototype.popout=function(){this.myFirebaseRef.set(this.myContents),window.open(this.demoURL+this.myFirebaseRef.key(),this.myPlayWindowID)};;
function Tutorial(e,t,r){this.name_=e,this.tutorialData_=t,this.templater_=r,this.capturedVars_={},this.curLessonNum_=0,this.curCompleted_=!1;for(var a=0;a<this.tutorialData_.lessons.length;a++)for(var o=this.tutorialData_.lessons[a].exampleCode,i=0;i<o.length;i++){var s=o[i];0==s.text.indexOf("^")&&(s.text=" "+s.text.substring(1)),s.validate&&s.validate.html&&0==s.validate.html.indexOf("^")&&(s.validate.html=" "+s.validate.html.substring(1)),s.validate&&s.validate.javascript&&0==s.validate.javascript.indexOf("^")&&(s.validate.javascript=" "+s.validate.javascript.substring(1))}}function renderAST(e){switch(e.type){case"BinaryExpression":return renderAST(e.left)+" "+e.operator+" "+renderAST(e.right);case"Identifier":return e.name;case"Literal":return e.raw}}function JSCompareException(e,t){this.code=e,this.message=t,Error.apply(this,[t])}function SymbolContainer(){this.symbols_={}}Tutorial.prototype.getSampleData=function(){return this.tutorialData_.sampleData},Tutorial.prototype.getName=function(){return this.name_},Tutorial.NONEXISTENT_SENTINEL={},Tutorial.prototype.getLessonData=function(e,t){this.curLessonNum_=e,this.curCompleted_=t;var r=this.tutorialData_.lessons[e];if(!r)return Tutorial.NONEXISTENT_SENTINEL;var a={instructions:{title:r.title,progress:{name:this.name_,maxLessons:this.tutorialData_.lessons.length,lesson:e},completed:t},code:this.getCodeForLesson_(e,t)};return t?(a.instructions.body=this.populateTemplate_(r.completion.body),a.instructions.button=r.completion.button):(a.instructions.body=this.populateTemplate_(r.instructions.body),a.instructions.button=r.instructions.button),a},Tutorial.prototype.getNextLessonHistoryToken=function(){var e=0,t=!1;return this.curCompleted_?(e=this.curLessonNum_+1,t=!this.curCompleted_):this.tutorialData_.lessons[this.curLessonNum_].completion?(e=this.curLessonNum_,t=!this.curCompleted_):(e=this.curLessonNum_+1,t=!1),e>=this.tutorialData_.lessons.length?null:"tutorial/"+this.name_+"/"+e+(t?"/true":"")},Tutorial.prototype.getDefaultLesson=function(){return"tutorial/"+this.name_+"/0"},Tutorial.prototype.getFinalCode=function(){var e=this.tutorialData_["final"],t=this.getDefinedVariablesForLesson_(this.tutorialData_.lessons.length-1,!0);return this.templater_.render(e,t)},Tutorial.prototype.validateCurrentLesson=function(e){if(!this.curCompleted_)for(var t=this.tutorialData_.lessons[this.curLessonNum_].exampleCode,r=0;r<e.length;r++){var a=t[r].validate,o=e[r];if(a)if(a.html){var i=this.populateTemplate_(a.html),s=this.compareHTML_(o,i);if(s)return s}else if(a.javascript){var i=this.populateTemplate_(a.javascript),s=this.compareJavascript_(o,i);if(s)return s}}},Tutorial.prototype.getCodeForLesson_=function(e,t){for(var r=this.tutorialData_.lessons[e],a=[],o=0;o<r.exampleCode.length;o++){var i=r.exampleCode[o],s=i.text;t&&i.validate&&(i.validate.html?s=i.validate.html:i.validate.javascript&&(s=i.validate.javascript));var n={text:this.populateTemplate_(s),readOnly:i.readOnly||t};a.push(n)}return a},Tutorial.prototype.populateTemplate_=function(e){var t=this.getCurrentlyDefinedVariables_();return this.templater_.render(e,t)},Tutorial.prototype.getCurrentlyDefinedVariables_=function(){return this.getDefinedVariablesForLesson_(this.curLessonNum_,this.curCompleted_)},Tutorial.prototype.getDefinedVariablesForLesson_=function(e,t){for(var r={},a=function(e){if(e)for(var t=_.keys(e),a=0;a<t.length;a++)r[t[a]]=e[t[a]]},o=e+(t?1:0),i=0;o>i;i++){var s=this.tutorialData_.lessons[i].varDefaults;a(s),a(this.capturedVars_[i])}return r},Tutorial.prototype.saveCapturedVarsForThisLesson_=function(e){this.capturedVars_[this.curLessonNum_]=e},Tutorial.prototype.compareHTML_=function(e,t){var r=null;try{if(r=$(e.trim()),0==r.length)throw new Error}catch(a){return"Oops! Something's wrong with your HTML. Make sure it looks like the example."}var o=$(t.trim());if(r.length>o.length)return"Oops! It looks like you have some extra HTML.";if(r.length<o.length)return"Oops! It looks like you're missing some HTML.";for(var i=function(e){var t={};return e.attributes?($.each(e.attributes,function(e,r){t[r.name]=r.value}),t):t},s=0;s<r.length;s++){var n=r[s],p=o[s];if(n.nodeName!=p.nodeName)return"Woops! Your tag should be a "+p.nodeName.toLowerCase()+" rather than a "+n.nodeName.toLowerCase()+".";for(var l=i(n),c=i(p),u=_.keys(c),m=0;m<u.length;m++){var h=u[m];if(!l[h])return'Oops! It looks like your script include is missing the "'+h+'" attribute.';if(l[h]!=c[h])return'Oops! It looks like your "'+h+"\" attribute isn't quite right."}}},Tutorial.prototype.compareJavascript_=function(e,t){var r=null;try{r=esprima.parse(e)}catch(a){return"Oops! There's a syntax error in your JavaScript. Make sure it looks like the example."}var o=esprima.parse(t),i=new SymbolContainer;try{this.compareAndExtract_(r,o,i)}catch(a){return a.message}this.saveCapturedVarsForThisLesson_(i.getSymbols())};var defaultJSMatchError="Oops! Something doesn't look quite right. Make sure your JavaScript looks like the example!";Tutorial.prototype.compareAndExtract_=function(e,t,r){if(e.type!=t.type){if("Identifier"==t.type&&0==t.name.indexOf("$_"))return void r.addSymbol(t.name.substring(1),renderAST(e));throw new JSCompareException(JSCompareException.MISC,defaultJSMatchError)}switch(e.type){case"Program":this.compareArrays_(e.body,t.body,r);break;case"VariableDeclaration":if(e.kind!=t.kind)throw new JSCompareException(JSCompareException.MISC,"Oops. Your variable declaration doesn't look quite right.");this.compareArrays_(e.declarations,t.declarations,r);break;case"VariableDeclarator":this.compareAndExtract_(e.id,t.id,r),this.compareAndExtract_(e.init,t.init,r);break;case"Identifier":if(0==t.name.indexOf("$"))r.addSymbol(t.name.substring(1),e.name);else if(t.name!=e.name)throw new JSCompareException(JSCompareException.MISC,"One of your names doesn't match. Change \""+e.name+'" to "'+t.name+'".');break;case"Literal":if(e.value!==t.value)throw new JSCompareException(JSCompareException.MISC,"Almost. You need to change the value "+e.value+" to "+t.value+".");break;case"NewExpression":this.compareAndExtract_(e.callee,t.callee,r),this.compareArrays_(e.arguments,t.arguments,r);break;case"ExpressionStatement":this.compareAndExtract_(e.expression,t.expression,r);break;case"CallExpression":this.compareArrays_(e.arguments,t.arguments,r),this.compareAndExtract_(e.callee,t.callee,r);break;case"MemberExpression":if(e.computed!=t.computed)throw new JSCompareException(JSCompareException.MISC,defaultJSMatchError);this.compareAndExtract_(e.object,t.object,r),this.compareAndExtract_(e.property,t.property,r);break;case"ObjectExpression":var a=this,o=function(e,t){return a.compareKeys_(e.key,t.key)},i=e.properties.slice(0).sort(o),s=t.properties.slice(0).sort(o);this.compareArrays_(i,s,r);break;case"Property":if(e.kind!=t.kind)throw new JSCompareException(JSCompareException.MISC,defaultJSMatchError);if(0!==this.compareKeys_(e.key,t.key,r))throw new JSCompareException(JSCompareException.MISC,"Almost. You need to change the property name "+k1text+" to "+k2text+".");this.compareAndExtract_(e.value,t.value,r);break;case"FunctionExpression":if(e.expression!=t.expression||e.generator!=t.generator||e.rest!=t.rest)throw new JSCompareException(JSCompareException.MISC,defaultJSMatchError);this.compareAndExtract_(e.body,t.body,r),this.compareArrays_(e.defaults,t.defaults,r),this.compareArrays_(e.params,t.params,r);break;case"BlockStatement":this.compareArrays_(e.body,t.body,r);break;case"ArrayExpression":this.compareArrays_(e.elements,t.elements,r);break;case"FunctionDeclaration":this.compareAndExtract_(e.id,t.id,r),this.compareArrays_(e.defaults,t.defaults,r),this.compareArrays_(e.params,t.params,r);break;case"AssignmentExpression":if(e.right.callee.name!=t.right.callee.name)throw new JSCompareException(JSCompareException.MISC,defaultJSMatchError);this.compareAndExtract_(e.left,t.left,r),this.compareAndExtract_(e.right,t.right,r);break;default:throw new JSCompareException("unimplemented","JSMatch: Unimplemented AST type: "+e.type)}},Tutorial.prototype.compareKeys_=function(e,t){var r=function(e){return"Literal"==e.type?e.value:"Identifier"==e.type?e.name:null},a=r(e),o=r(t);if(null===a||null===o)throw new JSCompareException(JSCompareException.MISC,"Almost. Your object has an invalid property key type.");return a!==o?a>o?1:-1:0},Tutorial.prototype.compareArrays_=function(e,t,r){if(e.length!=t.length)throw new JSCompareException(JSCompareException.ARR_LENGTHS,defaultJSMatchError);for(var a=0;a<e.length;a++)this.compareAndExtract_(e[a],t[a],r)},JSCompareException.prototype=new Error,JSCompareException.prototype.constructor=JSCompareException,JSCompareException.prototype.name="JSCompareException",JSCompareException.ARR_LENGTHS="arr_lengths",JSCompareException.MISC="misc",JSCompareException.SYMBOL_MISMATCH="symbol_mismatch",SymbolContainer.prototype.addSymbol=function(e,t){if(this.symbols_[e]&&this.symbols_[e]!=t)throw new JSCompareException(JSCompareException.SYMBOL_MISMATCH,"Oops. You've inconsistently named a variable. \""+t+'" and "'+this.symbols_[e]+'" should be the same.');this.symbols_[e]=t},SymbolContainer.prototype.getSymbols=function(){return this.symbols_};;
function initializeGUI(e,t){var n="init";e.on("beginloading",function(){$("#gettingstarteddiv").hide(),n="beginloading",setTimeout(function(){"beginloading"===n&&e.trigger("loading")},1e3)}),e.on("loading",function(){n="loading",$("#gettingstarteddiv").hide(),$("#loadingdiv").show(),$("#loadeddiv").hide()}),e.on("loaded",function(){n="loaded",$("#gettingstarteddiv").hide(),$("#loadingdiv").hide(),$("#loadeddiv").show(),t.refresh()});var i=!1,o=null,r=null,s=Backbone.Model.extend({startTransition:function(){if(!i){o=null,r=null,i=!0;var e=this;$("#fadeOutArea").fadeOut(450,function(){return i=!1,o&&e.setInstructions(o),r&&e.setEditorState(r),!1})}},setInstructions:function(e){o=e,i||(this.set({instructions:e}),this.set({error:null}),$("#fadeOutArea").fadeIn(500,function(){return!1}))},setEditorState:function(e){r=e,i||(t.setTextAsSegments(r.code),t.setSaveHandler(r.saveEditorState),t.setMode(r.showToolbar,r.height))},setError:function(e){this.set({error:e})}}),a=new s,d=Backbone.View.extend({el:$("#tutorialbody"),events:{"click #advanceButton":"advanceTutorial","click #beginButt":"beginTutorial"},initialize:function(){this.listenTo(this.model,"change:instructions",this.render),this.listenTo(this.model,"change:error",this.doRenderError)},firstTime:!0,render:function(){var e=this.model.get("instructions"),t=this.generateHTMLFromMarkdown_(e.body);if(this.showProgressWidget_(e.progress),e.progress)$("#shareWidget").hide(),$("#lessonnumber").show(),$("#lessonnumber").text(""+(e.progress.lesson+1)+".");else if($("#lessonnumber").hide(),e.shareSessID){var n=$("#tweetButton");$("#shareWidget").show(),n.on("click",function(t){t.preventDefault(),window.open("https://twitter.com/share?text="+encodeURIComponent("Check out the app I built with @Firebase!")+"&url="+encodeURIComponent("https://www.firebase.com/tutorial/#session/"+e.shareSessID),"","height=250, width=600")})}$("#advanceDiv").hide();var i=$("#examplesDiv");if(i.hide(),e.exampleList){i.empty(),i.append('<h5 class="spacer-bottom-0">More Examples</h5>');for(var o=$('<ul class="compact" />'),r=0;r<e.exampleList.length;r++){var s=e.exampleList[r];o.append('<li><a href="#'+s.link+'">'+s.name+"</a></li>")}i.append(o),i.show()}else e.button&&($("#advanceDiv").show(),e.completed?($("#advanceButton").addClass("blue"),$("#advanceButton").removeClass("orange")):($("#advanceButton").addClass("orange"),$("#advanceButton").removeClass("blue")),$("#advanceButton").text(e.button));$("#stepTitle").text(e.title),$("#instructions").html(t),$("code").addClass("prettyprint"),prettyPrint(),$("#instructions a").attr("target","_blank")},doRenderError:function(){var e=this.model.get("error");e?($("#errorText").show(),$("#errorText").text(e)):$("#errorText").hide()},advanceTutorial:function(){e.trigger("advance")},generateHTMLFromMarkdown_:function(e){return marked(e)},showProgressWidget_:function(t){var n=$("#progressWidget"),i=$("#lessonnumbuttons");if(i.empty(),t){n.show();for(var o=0;o<t.maxLessons;o++){var r=null;if(t.lesson==o)r=$("<li>"+(o+1)+"</li>"),r.addClass("active");else{var s=$("<a>"+(o+1)+"</a>");s.click(function(t){return function(){e.trigger("jumpToStep",t)}}(o)),r=$("<li></li>"),r.append(s)}i.append(r)}var a=$("<li><a>&gt;&gt;</a></li>");a.click(function(){e.trigger("skipToEnd")}),i.append(a)}else n.hide()},beginTutorial:function(){e.trigger("begin")}});return new d({model:a}),a};
function startTutorial(){var t=new AppRouter;window.TutorialRouter=t;var e=_.extend({},Backbone.Events),o=new Templater,r=new Firebase(PROTOCOL+TUTORIAL_DATA_ROOT),s=new TutorialIDE($("#editor"),r.child("popouts").push()),i=initializeGUI(e,s),a=new UserSession(r,o),n=new TutorialLoader(o);t.on("route:example",function(e){loadFileAsString(EXAMPLES_ROOT+e+".html",function(t){var e=o.render(t);a.saveCode(e)}),$.ajax({url:EXAMPLES_ROOT+e+"-data.json",cache:!1,dataType:"json",success:function(t){a.getDemoFirebase().set(t)},error:function(t){console.log("Couldn't load data file for example: "+t)}}),t.goToPage("session/"+a.getSessID()),a.saveInstructionsMode(EXAMPLES_ROOT+e+"-instructions.yaml")}),t.on("route:tutorial",function(o,r,s){e.trigger("beginloading"),n.get(o,function(o){var a=o.getLessonData(Number(r),s);a==Tutorial.NONEXISTENT_SENTINEL?t.goToPage(o.getDefaultLesson()):(i.setEditorState({code:a.code,saveEditorState:null,showToolbar:!1,height:null}),e.trigger("loaded"),i.setInstructions(a.instructions))},a.getDemoFirebase())}),t.on("route:session",function(t){e.trigger("beginloading"),a.resetSessionID(t,function(t){i.setEditorState({code:[{text:t}],saveEditorState:function(){a.saveCode(s.getText())},showToolbar:!0,height:575})},function(t){e.trigger("loaded"),t.shareSessID=a.getSessID(),i.setInstructions(t)})}),t.on("route:gettingstarted",function(t){$("#gettingstarteddiv").show(),$("#loadingdiv").hide(),$("#loadeddiv").hide()}),e.on("advance",function(){var o=n.getCurrentTutorial();if(!o)return void console.log("Tried to go to next step in a tutorial, but we haven't loaded one yet...");var r=o.validateCurrentLesson(s.getTextAsSegments());if(r)i.setError(r);else{var a=o.getNextLessonHistoryToken();a?(i.startTransition(),t.goToPage(a)):e.trigger("skipToEnd")}}),e.on("skipToEnd",function(){var e=n.getCurrentTutorial();return e?(i.startTransition(),a.saveCode(e.getFinalCode()),a.saveInstructionsMode(TUTORIALS_ROOT+e.getName()+"/session-instructions.yaml"),void t.goToPage("session/"+a.getSessID())):void console.log("Tried to skip to the end of a tutorial, but we haven't loaded one yet...")}),e.on("begin",function(){$("#gettingstarteddiv").fadeOut(450,function(){return t.goToPage(DEFAULT_TUTORIAL_TOKEN),!1}),i.startTransition()}),e.on("jumpToStep",function(e){var o=n.getCurrentTutorial();return o?void t.goToPage("tutorial/"+o.getName()+"/"+e):void console.log("Tried to skip to a step in a tutorial, but we haven't loaded one yet...")}),Backbone.history.start()}function loadFileAsString(t,e){$.ajax({url:t,dataType:"text",cache:!1,success:function(t){e(t)},error:function(e){console.log("Failed to load file: "+t)}})}function UserSession(t,e){this.rootFirebaseRef_=t.child("users").child(this.generateSessionID_()),this.monitoredPaths=[],this.templateSymbols_={FIREBASE_JS:SCRIPT_ROOT,ANGULAR_JS:ANGULAR_JS,ANGULARFIRE_JS:ANGULARFIRE_JS,TUTORIAL_FIREBASE:PROTOCOL+this.getSessID()+DEMO_SERVER_DOMAIN_SUFFIX,SESSIONID:this.getSessID()},this.templater_=e,e.addSymbolSource(this.templateSymbols_)}function TutorialLoader(t){this.currentTutorialName=null,this.currentTutorial=null,this.templater_=t}function Templater(){this.symbolSources_=[]}var TUTORIAL_DATA_ROOT="firebase-tutorial.firebaseio.com/",PROTOCOL=location.protocol+"//",EXAMPLES_ROOT="/resources/tutorial/data/examples/",TUTORIALS_ROOT="/resources/tutorial/data/tutorials/",DEFAULT_TUTORIAL_TOKEN="tutorial/basic/0",SCRIPT_ROOT="https://cdn.firebase.com/js/client/2.2.1/firebase.js",DEMO_SERVER_DOMAIN_SUFFIX=".firebaseio-demo.com/",ANGULAR_JS="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js",ANGULARFIRE_JS="https://cdn.firebase.com/libs/angularfire/1.0.0/angularfire.min.js",AppRouter=Backbone.Router.extend({routes:{gettingstarted:"gettingstarted","example/:example":"example","tutorial/:name/:lesson(/:completed)":"tutorial","session/:sessionID":"session","*path":"defaultRoute"},defaultRoute:function(){this.goToPage("gettingstarted",{trigger:!0})},goToPage:function(t){this.navigate(t,{trigger:!0})}});UserSession.prototype.resetSessionID=function(t,e,o){for(var r=0;r<this.monitoredPaths.length;r++)this.monitoredPaths[r].off();this.monitoredPaths=[],this.rootFirebaseRef_=this.rootFirebaseRef_.parent().child(t),this.templateSymbols_.TUTORIAL_FIREBASE=PROTOCOL+this.getSessID()+DEMO_SERVER_DOMAIN_SUFFIX,this.templateSymbols_.SESSIONID=this.getSessID();var s=this,i=this.rootFirebaseRef_.child("code");i.on("value",function(t){var o=t.val();e(o?o:"")}),this.monitoredPaths.push(i);var a=this.rootFirebaseRef_.child("instructions");a.on("value",function(t){null!==t.val()&&loadFileAsString(t.val(),function(t){var e=jsyaml.load(t);e.body=s.templater_.render(e.body),o(e)})}),this.monitoredPaths.push(a)},UserSession.prototype.generateSessionID_=function(){if(window.isDebugMode)return"chat";for(var t="abcdefghijklmnopqrstuvwxyz0123456789",e=t.charAt(Math.floor(26*Math.random(),1)),o=0;10>o;o++)e+=t.charAt(Math.floor(Math.random()*t.length,1));return e},UserSession.prototype.getDemoFirebase=function(){return new Firebase(PROTOCOL+this.getSessID()+DEMO_SERVER_DOMAIN_SUFFIX)},UserSession.prototype.getSessID=function(){return this.rootFirebaseRef_.key()},UserSession.prototype.saveCode=function(t){this.rootFirebaseRef_.child("code").set(t)},UserSession.prototype.saveInstructionsMode=function(t){this.rootFirebaseRef_.child("instructions").set(t)},TutorialLoader.prototype.get=function(t,e,o){var r=this;t==this.currentTutorialName?setTimeout(function(){e(r.currentTutorial)},0):this.loadTutorialData_(t,function(s){var i=new Tutorial(t,s,r.templater_);o.set(i.getSampleData()),r.currentTutorial=i,r.currentTutorialName=t,e(i)})},TutorialLoader.prototype.getCurrentTutorial=function(){return this.currentTutorial},TutorialLoader.prototype.loadTutorialData_=function(t,e){loadFileAsString("/resources/tutorial/data/tutorials/"+t+"/lessons.yaml",function(t){var o=jsyaml.load(t);e(o)})},Templater.prototype.addSymbolSource=function(t){this.symbolSources_.push(t)},Templater.prototype.render=function(t,e){function o(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}var r=t,s=function(t){for(var e=_.keys(t),s=0;s<e.length;s++){var i=e[s],a=new RegExp(o("$"+i),"g");r=r.replace(a,t[i])}};return _.map(this.symbolSources_,s),e&&s(e),r},window.isDebugMode||$(document).ready(startTutorial);